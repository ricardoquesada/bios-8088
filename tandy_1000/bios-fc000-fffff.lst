seg000:C000			    ;
seg000:C000			    ; ÉÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ»
seg000:C000			    ; º	    This file is generated by The Interactive Disassembler (IDA)	º
seg000:C000			    ; º	    Copyright (c) 2010 by Hex-Rays SA, <support@hex-rays.com>		º
seg000:C000			    ; º			     Licensed to: Freeware version			º
seg000:C000			    ; ÈÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼
seg000:C000			    ;
seg000:C000			    ; Input MD5	  : BEB50E3A5831F2661B91B2E52C94B3EA
seg000:C000
seg000:C000			    ; File Name	  : Z:\Users\riq\progs\bios-8088\tandy_1000\bios-fc000-fffff.bin
seg000:C000			    ; Format	  : Binary file
seg000:C000			    ; Base Address: F000h Range: FC000h	- 100000h Loaded length: 4000h
seg000:C000
seg000:C000					    .686p
seg000:C000					    .mmx
seg000:C000					    .model flat
seg000:C000
seg000:C000			    ; ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ
seg000:C000
seg000:C000			    ; Segment type: Pure code
seg000:C000			    seg000	    segment byte public	'CODE' use16
seg000:C000					    ;org 0C000h
seg000:C000 21					    db	21h ; !
seg000:C001 42 49 4F 53	20 52 4F 4D+aBiosRomVersion db 'BIOS ROM version 01.00.00',0Dh,0Ah
seg000:C001 20 76 65 72	73 69 6F 6E+					    ; DATA XREF: seg000:E334o
seg000:C001 20 30 31 2E	30 30 2E 30+		    db 'Copyright 1984 Tandy Corp.',0Dh,0Ah
seg000:C001 30 0D 0A 43	6F 70 79 72+		    db 'and Phoenix Compatibility Corp.',0Dh,0Ah
seg000:C001 69 67 68 74	20 31 39 38+		    db 'All rights reserved.',0Dh,0Ah,'$'
seg000:C070 1E 33 60 60	60 33 1E 0C+int_1f_charset_128_255 db 1Eh, 33h,	3 dup(60h), 33h, 1Eh, 0Ch, 66h,	0, 4 dup(66h)
seg000:C070 66 00 66 66	66 66 3B 00+					    ; DATA XREF: seg000:FF21o
seg000:C070 0C 18 3C 66	7E 60 3C 00+		    db 3Bh, 0, 0Ch, 18h, 3Ch, 66h, 7Eh,	60h, 3Ch, 0, 3Ch, 0C3h
seg000:C070 3C C3 3C 06	3E 66 3F 00+		    db 3Ch, 6, 3Eh, 66h, 3Fh, 0, 66h, 0, 3Ch, 6, 3Eh, 66h
seg000:C070 66 00 3C 06	3E 66 3F 00+		    db 3Fh, 0, 30h, 18h, 3Ch, 6, 3Eh, 66h, 3Fh,	0, 18h,	0
seg000:C070 30 18 3C 06	3E 66 3F 00+		    db 3Ch, 6, 3Eh, 66h, 3Fh, 3	dup(0),	3Ch, 66h, 60h, 66h
seg000:C070 18 00 3C 06	3E 66 3F 00+		    db 3Ch, 18h, 3Ch, 0C3h, 3Ch, 66h, 7Eh, 60h,	3Ch, 0,	66h
seg000:C070 00 00 3C 66	60 66 3C 18+		    db 0, 3Ch, 66h, 7Eh, 60h, 3Ch, 0, 30h, 18h,	3Ch, 66h, 7Eh
seg000:C070 3C C3 3C 66	7E 60 3C 00+		    db 60h, 3Ch, 0, 66h, 0, 38h, 3 dup(18h), 3Ch, 0, 38h, 0C6h
seg000:C070 66 00 3C 66	7E 60 3C 00+		    db 38h, 3 dup(18h),	3Ch, 0,	30h, 18h, 38h, 3 dup(18h)
seg000:C070 30 18 3C 66	7E 60 3C 00+		    db 3Ch, 0, 63h, 1Ch, 36h, 63h, 7Fh,	2 dup(63h), 0, 2 dup(1Ch)
seg000:C070 66 00 38 18	18 18 3C 00+		    db 3Eh, 63h, 7Fh, 2	dup(63h), 0, 6,	0Ch, 7Fh, 31h, 3Ch
seg000:C070 38 C6 38 18	18 18 3C 00+		    db 31h, 7Fh, 3 dup(0), 7Eh,	1Bh, 7Eh, 0D8h,	7Eh, 0,	3Fh
seg000:C070 30 18 38 18	18 18 3C 00+		    db 6Ch, 0CCh, 0FFh,	2 dup(0CCh), 0CFh, 0, 3Ch, 0C3h, 3Ch
seg000:C070 63 1C 36 63	7F 63 63 00+		    db 3 dup(66h), 3Ch,	0, 66h,	0, 3Ch,	3 dup(66h), 3Ch, 0
seg000:C070 1C 1C 3E 63	7F 63 63 00+		    db 30h, 18h, 3Ch, 3	dup(66h), 3Ch, 0, 3Ch, 0C3h, 4 dup(66h)
seg000:C070 06 0C 7F 31	3C 31 7F 00+		    db 3Bh, 0, 30h, 18h, 4 dup(66h), 3Bh, 0, 66h, 0, 3 dup(66h)
seg000:C070 00 00 7E 1B	7E D8 7E 00+		    db 3Eh, 6, 7Ch, 63h, 3Eh, 4	dup(63h), 3Eh, 0, 36h, 5 dup(63h)
seg000:C070 3F 6C CC FF	CC CC CF 00+		    db 3Eh, 0, 2 dup(0Ch), 3Fh,	2 dup(60h), 3Fh, 2 dup(0Ch)
seg000:C070 3C C3 3C 66	66 66 3C 00+		    db 1Ch, 36h, 32h, 78h, 30h,	73h, 7Eh, 0, 2 dup(66h), 3Ch
seg000:C070 66 00 3C 66	66 66 3C 00+		    db 7Eh, 18h, 7Eh, 2	dup(18h), 0F8h,	2 dup(0CCh), 0FAh
seg000:C070 30 18 3C 66	66 66 3C 00+		    db 0C6h, 0CFh, 0C6h, 0C7h, 0Eh, 2 dup(18h),	3Ch, 3 dup(18h)
seg000:C070 3C C3 66 66	66 66 3B 00+		    db 70h, 0Ch, 18h, 3Ch, 6, 3Eh, 66h,	3Fh, 0,	18h, 30h, 38h
seg000:C070 30 18 66 66	66 66 3B 00+		    db 3 dup(18h), 3Ch,	0, 0Ch,	18h, 3Ch, 3 dup(66h), 3Ch
seg000:C070 66 00 66 66	66 3E 06 7C+		    db 0, 0Ch, 18h, 4 dup(66h),	3Bh, 0,	3Bh, 6Fh, 0, 6Eh, 3 dup(33h)
seg000:C070 63 3E 63 63	63 63 3E 00+		    db 0, 76h, 0DEh, 73h, 7Bh, 6Fh, 67h, 63h, 0, 3Ch, 6, 3Eh
seg000:C070 36 63 63 63	63 63 3E 00+		    db 66h, 3Bh, 0, 0FFh, 0, 3Ch, 3 dup(66h), 3Ch, 0, 0FFh
seg000:C070 0C 0C 3F 60	60 3F 0C 0C+		    db 2 dup(0), 18h, 0, 18h, 30h, 60h,	66h, 3Ch, 3 dup(0)
seg000:C070 1C 36 32 78	30 73 7E 00+		    db 7Eh, 2 dup(60h),	5 dup(0), 7Eh, 2 dup(6), 2 dup(0)
seg000:C070 66 66 3C 7E	18 7E 18 18+		    db 0C3h, 0C6h, 0CCh, 0DEh, 33h, 66h, 0CCh, 0Fh, 0C3h, 0C6h
seg000:C070 F8 CC CC FA	C6 CF C6 C7+		    db 0CCh, 0D8h, 37h,	6Fh, 0CFh, 3, 0, 18h, 0, 2 dup(18h)
seg000:C070 0E 18 18 3C	18 18 18 70+		    db 2 dup(3Ch), 18h,	0, 33h,	66h, 0CCh, 66h,	33h, 3 dup(0)
seg000:C070 0C 18 3C 06	3E 66 3F 00+		    db 0CCh, 66h, 33h, 66h, 0CCh, 2 dup(0), 22h, 88h, 22h
seg000:C070 18 30 38 18	18 18 3C 00+		    db 88h, 22h, 88h, 22h, 88h,	55h, 0AAh, 55h,	0AAh, 55h
seg000:C070 0C 18 3C 66	66 66 3C 00+		    db 0AAh, 55h, 0AAh,	0DBh, 77h, 0DBh, 0EEh, 0DBh, 77h, 0DBh
seg000:C070 0C 18 66 66	66 66 3B 00+		    db 0EEh, 0Ch dup(18h), 0F8h, 5 dup(18h), 0F8h, 18h,	0F8h
seg000:C070 3B 6F 00 6E	33 33 33 00+		    db 3 dup(18h), 4 dup(36h), 0F6h, 3 dup(36h), 4 dup(0)
seg000:C070 76 DE 73 7B	6F 67 63 00+		    db 0FEh, 3 dup(36h), 2 dup(0), 0F8h, 18h, 0F8h, 3 dup(18h)
seg000:C070 3C 06 3E 66	3B 00 FF 00+		    db 2 dup(36h), 0F6h, 6, 0F6h, 0Bh dup(36h),	2 dup(0), 0FEh
seg000:C070 3C 66 66 66	3C 00 FF 00+		    db 6, 0F6h,	5 dup(36h), 0F6h, 6, 0FEh, 3 dup(0), 4 dup(36h)
seg000:C070 00 18 00 18	30 60 66 3C+		    db 0FEh, 3 dup(0), 2 dup(18h), 0F8h, 18h, 0F8h, 7 dup(0)
seg000:C070 00 00 00 7E	60 60 00 00+		    db 0F8h, 7 dup(18h), 1Fh, 3	dup(0),	4 dup(18h), 0FFh, 7 dup(0)
seg000:C070 00 00 00 7E	06 06 00 00+		    db 0FFh, 7 dup(18h), 1Fh, 3	dup(18h), 4 dup(0), 0FFh, 3 dup(0)
seg000:C070 C3 C6 CC DE	33 66 CC 0F+		    db 4 dup(18h), 0FFh, 5 dup(18h), 1Fh, 18h, 1Fh, 3 dup(18h)
seg000:C070 C3 C6 CC D8	37 6F CF 03+		    db 4 dup(36h), 37h,	5 dup(36h), 37h, 30h, 3Fh, 5 dup(0)
seg000:C070 00 18 00 18	18 3C 3C 18+		    db 3Fh, 30h, 37h, 5	dup(36h), 0F7h,	0, 0FFh, 5 dup(0)
seg000:C070 00 33 66 CC	66 33 00 00+		    db 0FFh, 0,	0F7h, 5	dup(36h), 37h, 30h, 37h, 3 dup(36h)
seg000:C070 00 CC 66 33	66 CC 00 00+		    db 2 dup(0), 0FFh, 0, 0FFh,	3 dup(0), 2 dup(36h), 0F7h
seg000:C070 22 88 22 88	22 88 22 88+		    db 0, 0F7h,	3 dup(36h), 2 dup(18h),	0FFh, 0, 0FFh, 3 dup(0)
seg000:C070 55 AA 55 AA	55 AA 55 AA+		    db 4 dup(36h), 0FFh, 5 dup(0), 0FFh, 0, 0FFh, 3 dup(18h)
seg000:C070 DB 77 DB EE	DB 77 DB EE+		    db 4 dup(0), 0FFh, 7 dup(36h), 3Fh,	3 dup(0), 2 dup(18h)
seg000:C070 18 18 18 18	18 18 18 18+		    db 1Fh, 18h, 1Fh, 5	dup(0),	1Fh, 18h, 1Fh, 3 dup(18h)
seg000:C070 18 18 18 18	F8 18 18 18+		    db 4 dup(0), 3Fh, 7	dup(36h), 0FFh,	3 dup(36h), 2 dup(18h)
seg000:C070 18 18 F8 18	F8 18 18 18+		    db 0FFh, 18h, 0FFh,	7 dup(18h), 0F8h, 7 dup(0), 1Fh, 3 dup(18h)
seg000:C070 36 36 36 36	F6 36 36 36+		    db 8 dup(0FFh), 4 dup(0), 4	dup(0FFh), 8 dup(0F0h),	8 dup(0Fh)
seg000:C070 00 00 00 00	FE 36 36 36+		    db 4 dup(0FFh), 6 dup(0), 3Bh, 6Eh,	64h, 6Eh, 3Bh, 0, 3Ch
seg000:C070 00 00 F8 18	F8 18 18 18+		    db 2 dup(66h), 7Ch,	2 dup(63h), 6Eh, 60h, 7Fh, 33h,	31h
seg000:C070 36 36 F6 06	F6 36 36 36+		    db 3 dup(30h), 78h,	3 dup(0), 7Fh, 3 dup(36h), 33h,	0
seg000:C070 36 36 36 36	36 36 36 36+		    db 7Eh, 66h, 30h, 18h, 30h,	66h, 7Eh, 3 dup(0), 3Fh, 3 dup(66h)
seg000:C070 00 00 FE 06	F6 36 36 36+		    db 3Ch, 3 dup(0), 4	dup(33h), 3Eh, 60h, 2 dup(0), 7Eh
seg000:C070 36 36 F6 06	FE 00 00 00+		    db 98h, 3 dup(18h),	0, 7Eh,	18h, 3Ch, 2 dup(66h), 3Ch
seg000:C070 36 36 36 36	FE 00 00 00+		    db 18h, 7Eh, 1Ch, 36h, 63h,	7Fh, 63h, 36h, 1Ch, 0, 3Ch
seg000:C070 18 18 F8 18	F8 00 00 00+		    db 66h, 3 dup(0C3h), 66h, 0E7h, 0, 0Eh, 18h, 0Ch, 3Eh
seg000:C070 00 00 00 00	F8 18 18 18+		    db 2 dup(66h), 3Ch,	3 dup(0), 7Eh, 2 dup(0DBh), 7Eh, 3 dup(0)
seg000:C070 18 18 18 18	1F 00 00 00+		    db 3, 3Eh, 67h, 6Bh, 73h, 3Eh, 60h,	1Ch, 30h, 60h, 7Ch
seg000:C070 18 18 18 18	FF 00 00 00+		    db 60h, 30h, 1Ch, 0, 3Ch, 6	dup(66h), 2 dup(0), 7Eh, 0
seg000:C070 00 00 00 00	FF 18 18 18+		    db 7Eh, 0, 7Eh, 3 dup(0), 18h, 7Eh,	18h, 0,	7Eh, 2 dup(0)
seg000:C070 18 18 18 18	1F 18 18 18+		    db 30h, 18h, 0Ch, 18h, 30h,	7Eh, 2 dup(0), 0Ch, 18h, 30h
seg000:C070 00 00 00 00	FF 00 00 00+		    db 18h, 0Ch, 7Eh, 2	dup(0),	7, 0Ch dup(0Ch), 2 dup(6Ch)
seg000:C070 18 18 18 18	FF 18 18 18+		    db 38h, 2 dup(18h),	0, 7Eh,	0, 2 dup(18h), 2 dup(0), 3Bh
seg000:C070 18 18 1F 18	1F 18 18 18+		    db 6Eh, 0, 3Bh, 6Eh, 2 dup(0), 1Ch,	2 dup(36h), 1Ch, 5 dup(0)
seg000:C070 36 36 36 36	37 36 36 36+		    db 2 dup(1Ch), 8 dup(0), 2 dup(18h), 3 dup(0), 0Fh,	3 dup(0Ch)
seg000:C070 36 36 37 30	3F 00 00 00+		    db 0ECh, 6Ch, 3Ch, 1Ch, 3Ch, 4 dup(36h), 3 dup(0), 38h
seg000:C070 00 00 3F 30	37 36 36 36+		    db 0Ch, 18h, 30h, 3Ch, 5 dup(0), 4 dup(3Ch), 0Ah dup(0)
seg000:C470			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C470
seg000:C470			    loc_FC470:				    ; CODE XREF: seg000:E080j
seg000:C470 FA					    cli
seg000:C471 B0 0A				    mov	    al,	0Ah
seg000:C473 E6 A0				    out	    0A0h, al	    ; PIC 2  same as 0020 for PIC 1
seg000:C475 B0 03				    mov	    al,	3
seg000:C477 BA F2 03				    mov	    dx,	3F2h
seg000:C47A EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:C47A								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:C47A								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:C47A								    ; 3:   1=enable diskette DMA and interrupts
seg000:C47A								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:C47A								    ;
seg000:C47B B0 24				    mov	    al,	24h ; '$'
seg000:C47D BA D8 03				    mov	    dx,	3D8h
seg000:C480 EE					    out	    dx,	al
seg000:C481 BA DB 03				    mov	    dx,	3DBh
seg000:C484 EE					    out	    dx,	al	    ; Video: light pen latch reset.
seg000:C484								    ; Any OUT clears the latch.
seg000:C485 B0 00				    mov	    al,	0
seg000:C487 BA DA 03				    mov	    dx,	3DAh
seg000:C48A EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C48A								    ; Feature Control outputs FC0 and FC1
seg000:C48B 83 C2 04				    add	    dx,	4
seg000:C48E EE					    out	    dx,	al
seg000:C48F BA D9 03				    mov	    dx,	3D9h
seg000:C492 EE					    out	    dx,	al
seg000:C493 B0 03				    mov	    al,	3
seg000:C495 BA DA 03				    mov	    dx,	3DAh
seg000:C498 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C498								    ; Feature Control outputs FC0 and FC1
seg000:C499 32 C0				    xor	    al,	al
seg000:C49B BA DE 03				    mov	    dx,	3DEh
seg000:C49E EE					    out	    dx,	al
seg000:C49F B0 02				    mov	    al,	2
seg000:C4A1 BA DA 03				    mov	    dx,	3DAh
seg000:C4A4 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C4A4								    ; Feature Control outputs FC0 and FC1
seg000:C4A5 B0 00				    mov	    al,	0
seg000:C4A7 BA DE 03				    mov	    dx,	3DEh
seg000:C4AA EE					    out	    dx,	al
seg000:C4AB B0 01				    mov	    al,	1
seg000:C4AD BA DA 03				    mov	    dx,	3DAh
seg000:C4B0 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C4B0								    ; Feature Control outputs FC0 and FC1
seg000:C4B1 B0 FF				    mov	    al,	0FFh
seg000:C4B3 BA DE 03				    mov	    dx,	3DEh
seg000:C4B6 EE					    out	    dx,	al
seg000:C4B7 B3 10				    mov	    bl,	10h
seg000:C4B9 BA DA 03				    mov	    dx,	3DAh
seg000:C4BC 32 C0				    xor	    al,	al
seg000:C4BE
seg000:C4BE			    loc_FC4BE:				    ; CODE XREF: seg000:C4CDj
seg000:C4BE 8A C3				    mov	    al,	bl
seg000:C4C0 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C4C0								    ; Feature Control outputs FC0 and FC1
seg000:C4C1 83 C2 04				    add	    dx,	4
seg000:C4C4 EE					    out	    dx,	al
seg000:C4C5 83 EA 04				    sub	    dx,	4
seg000:C4C8 FE C3				    inc	    bl
seg000:C4CA 80 FB 20				    cmp	    bl,	20h ; ' '
seg000:C4CD 75 EF				    jnz	    short loc_FC4BE
seg000:C4CF 32 C0				    xor	    al,	al
seg000:C4D1 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:C4D1								    ; Feature Control outputs FC0 and FC1
seg000:C4D2 B0 3F				    mov	    al,	3Fh ; '?'
seg000:C4D4 BA DF 03				    mov	    dx,	3DFh
seg000:C4D7 EE					    out	    dx,	al
seg000:C4D8 B0 FF				    mov	    al,	0FFh
seg000:C4DA E6 C0				    out	    0C0h, al	    ; DMA controller, 8237A-5.
seg000:C4DA								    ; channel 0	base address
seg000:C4DA								    ; (also sets current address)
seg000:C4DC B0 BF				    mov	    al,	0BFh ; '¿'
seg000:C4DE E6 C0				    out	    0C0h, al	    ; DMA controller, 8237A-5.
seg000:C4DE								    ; channel 0	base address
seg000:C4DE								    ; (also sets current address)
seg000:C4E0 B0 DF				    mov	    al,	0DFh ; 'ß'
seg000:C4E2 E6 C0				    out	    0C0h, al	    ; DMA controller, 8237A-5.
seg000:C4E2								    ; channel 0	base address
seg000:C4E2								    ; (also sets current address)
seg000:C4E4 B0 9F				    mov	    al,	9Fh ; 'Ÿ'
seg000:C4E6 E6 C0				    out	    0C0h, al	    ; DMA controller, 8237A-5.
seg000:C4E6								    ; channel 0	base address
seg000:C4E6								    ; (also sets current address)
seg000:C4E8 B9 10 00				    mov	    cx,	10h
seg000:C4EB BA D4 03				    mov	    dx,	3D4h
seg000:C4EE BB 03 C5				    mov	    bx,	offset crt_idx_and_value
seg000:C4F1
seg000:C4F1			    loc_FC4F1:				    ; CODE XREF: seg000:C4FEj
seg000:C4F1 2E 8A 07				    mov	    al,	cs:[bx]
seg000:C4F4 EE					    out	    dx,	al	    ; Video: CRT cntrlr	addr
seg000:C4F4								    ; horizontal total
seg000:C4F5 42					    inc	    dx
seg000:C4F6 43					    inc	    bx
seg000:C4F7 2E 8A 07				    mov	    al,	cs:[bx]
seg000:C4FA EE					    out	    dx,	al	    ; Video: CRT controller internal registers
seg000:C4FB 4A					    dec	    dx
seg000:C4FC 43					    inc	    bx
seg000:C4FD 49					    dec	    cx
seg000:C4FE 75 F1				    jnz	    short loc_FC4F1
seg000:C500 EB 21				    jmp	    short loc_FC523
seg000:C500			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C502 90					    db	90h ; 
seg000:C503 00 38 01 28	02 2D 03 0A+crt_idx_and_value dw 3800h,	2801h, 2D02h, 0A03h, 1F04h, 605h, 1906h, 1C07h
seg000:C503 04 1F 05 06	06 19 07 1C+					    ; DATA XREF: seg000:C4EEo
seg000:C503 08 02 09 07	0A 06 0B 07+		    dw 208h, 709h, 60Ah, 70Bh, 0Ch, 0Dh, 0Eh, 0Fh
seg000:C523			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C523
seg000:C523			    loc_FC523:				    ; CODE XREF: seg000:C500j
seg000:C523 BA D8 03				    mov	    dx,	3D8h
seg000:C526 B0 2C				    mov	    al,	2Ch ; ','
seg000:C528 EE					    out	    dx,	al
seg000:C529 B8 00 B8				    mov	    ax,	0B800h
seg000:C52C 8E C0				    mov	    es,	ax	    ; es = 0xb800
seg000:C52E FC					    cld
seg000:C52F BF 00 00				    mov	    di,	0
seg000:C532 B9 E8 03				    mov	    cx,	3E8h
seg000:C535 B8 20 07				    mov	    ax,	720h
seg000:C538 F3 AB				    rep	stosw
seg000:C53A B8 E8 BB				    mov	    ax,	0BBE8h
seg000:C53D 8E D8				    mov	    ds,	ax	    ; ds = 0xbbe8
seg000:C53F 8B 2E 12 00				    mov	    bp,	ds:pbbe80.shadow_keyb_status_flags_1
seg000:C543 8B 36 14 00				    mov	    si,	ds:pbbe80.shadow_POST_reset_flag
seg000:C547 B8 00 00				    mov	    ax,	0
seg000:C54A
seg000:C54A			    loc_FC54A:				    ; CODE XREF: seg000:C588j
seg000:C54A BF 00 00				    mov	    di,	0
seg000:C54D
seg000:C54D			    loc_FC54D:				    ; CODE XREF: seg000:C55Fj
seg000:C54D 89 05				    mov	    [di], ax
seg000:C54F 83 C7 02				    add	    di,	2
seg000:C552 F7 D0				    not	    ax
seg000:C554 89 05				    mov	    [di], ax
seg000:C556 83 C7 02				    add	    di,	2
seg000:C559 F7 D0				    not	    ax
seg000:C55B 81 FF 80 01				    cmp	    di,	180h
seg000:C55F 72 EC				    jb	    short loc_FC54D
seg000:C561 B9 18 01				    mov	    cx,	118h
seg000:C564
seg000:C564			    loc_FC564:				    ; CODE XREF: seg000:loc_FC564j
seg000:C564 E2 FE				    loop    loc_FC564
seg000:C566 BF 00 00				    mov	    di,	0
seg000:C569
seg000:C569			    loc_FC569:				    ; CODE XREF: seg000:C583j
seg000:C569 8B 15				    mov	    dx,	[di]
seg000:C56B 3B C2				    cmp	    ax,	dx
seg000:C56D 75 26				    jnz	    short loc_FC595
seg000:C56F 83 C7 02				    add	    di,	2
seg000:C572 F7 D0				    not	    ax
seg000:C574 8B 15				    mov	    dx,	[di]
seg000:C576 3B C2				    cmp	    ax,	dx
seg000:C578 75 1B				    jnz	    short loc_FC595
seg000:C57A 83 C7 02				    add	    di,	2
seg000:C57D F7 D0				    not	    ax
seg000:C57F 81 FF 80 01				    cmp	    di,	180h
seg000:C583 72 E4				    jb	    short loc_FC569
seg000:C585 05 55 55				    add	    ax,	5555h
seg000:C588 73 C0				    jnb	    short loc_FC54A
seg000:C58A 89 36 14 00				    mov	    ds:pbbe80.shadow_POST_reset_flag, si
seg000:C58E 89 2E 12 00				    mov	    ds:pbbe80.shadow_keyb_status_flags_1, bp
seg000:C592 E9 0A 02				    jmp	    loc_FC79F
seg000:C595			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C595
seg000:C595			    loc_FC595:				    ; CODE XREF: seg000:C56Dj
seg000:C595								    ; seg000:C578j
seg000:C595 8E D0				    mov	    ss,	ax
seg000:C597 8B E2				    mov	    sp,	dx
seg000:C599 8B C7				    mov	    ax,	di
seg000:C59B 8E D8				    mov	    ds,	ax
seg000:C59D BE 51 C7				    mov	    si,	offset aVidAddrBaseBbe ; "Vid Addr:   Base:    BBE8h  Off: xxxxh"
seg000:C5A0 BF 70 03				    mov	    di,	370h
seg000:C5A3 B8 00 B8				    mov	    ax,	0B800h
seg000:C5A6 8E C0				    mov	    es,	ax
seg000:C5A8 B4 07				    mov	    ah,	7
seg000:C5AA
seg000:C5AA			    loc_FC5AA:				    ; CODE XREF: seg000:C5B8j
seg000:C5AA 2E 8A 04				    mov	    al,	cs:[si]
seg000:C5AD 0A C0				    or	    al,	al
seg000:C5AF 74 09				    jz	    short loc_FC5BA
seg000:C5B1 26 89 05				    mov	    es:[di], ax
seg000:C5B4 83 C7 02				    add	    di,	2
seg000:C5B7 46					    inc	    si
seg000:C5B8 EB F0				    jmp	    short loc_FC5AA
seg000:C5BA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C5BA
seg000:C5BA			    loc_FC5BA:				    ; CODE XREF: seg000:C5AFj
seg000:C5BA 83 EF 0A				    sub	    di,	0Ah
seg000:C5BD 8C D8				    mov	    ax,	ds
seg000:C5BF 8B D0				    mov	    dx,	ax
seg000:C5C1 8A C4				    mov	    al,	ah
seg000:C5C3 8A C8				    mov	    cl,	al
seg000:C5C5 D0 E8				    shr	    al,	1
seg000:C5C7 D0 E8				    shr	    al,	1
seg000:C5C9 D0 E8				    shr	    al,	1
seg000:C5CB D0 E8				    shr	    al,	1
seg000:C5CD 24 0F				    and	    al,	0Fh
seg000:C5CF 04 30				    add	    al,	30h ; '0'
seg000:C5D1 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C5D3 78 02				    js	    short loc_FC5D7
seg000:C5D5 04 07				    add	    al,	7
seg000:C5D7
seg000:C5D7			    loc_FC5D7:				    ; CODE XREF: seg000:C5D3j
seg000:C5D7 8A E8				    mov	    ch,	al
seg000:C5D9 8A C1				    mov	    al,	cl
seg000:C5DB 24 0F				    and	    al,	0Fh
seg000:C5DD 04 30				    add	    al,	30h ; '0'
seg000:C5DF 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C5E1 78 02				    js	    short loc_FC5E5
seg000:C5E3 04 07				    add	    al,	7
seg000:C5E5
seg000:C5E5			    loc_FC5E5:				    ; CODE XREF: seg000:C5E1j
seg000:C5E5 8A E5				    mov	    ah,	ch
seg000:C5E7 8B E8				    mov	    bp,	ax
seg000:C5E9 8A C4				    mov	    al,	ah
seg000:C5EB B4 07				    mov	    ah,	7
seg000:C5ED 26 89 05				    mov	    es:[di], ax
seg000:C5F0 83 C7 02				    add	    di,	2
seg000:C5F3 8B C5				    mov	    ax,	bp
seg000:C5F5 B4 07				    mov	    ah,	7
seg000:C5F7 26 89 05				    mov	    es:[di], ax
seg000:C5FA 83 C7 02				    add	    di,	2
seg000:C5FD 8B C2				    mov	    ax,	dx
seg000:C5FF 8A C8				    mov	    cl,	al
seg000:C601 D0 E8				    shr	    al,	1
seg000:C603 D0 E8				    shr	    al,	1
seg000:C605 D0 E8				    shr	    al,	1
seg000:C607 D0 E8				    shr	    al,	1
seg000:C609 24 0F				    and	    al,	0Fh
seg000:C60B 04 30				    add	    al,	30h ; '0'
seg000:C60D 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C60F 78 02				    js	    short loc_FC613
seg000:C611 04 07				    add	    al,	7
seg000:C613
seg000:C613			    loc_FC613:				    ; CODE XREF: seg000:C60Fj
seg000:C613 8A E8				    mov	    ch,	al
seg000:C615 8A C1				    mov	    al,	cl
seg000:C617 24 0F				    and	    al,	0Fh
seg000:C619 04 30				    add	    al,	30h ; '0'
seg000:C61B 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C61D 78 02				    js	    short loc_FC621
seg000:C61F 04 07				    add	    al,	7
seg000:C621
seg000:C621			    loc_FC621:				    ; CODE XREF: seg000:C61Dj
seg000:C621 8A E5				    mov	    ah,	ch
seg000:C623 8B E8				    mov	    bp,	ax
seg000:C625 8A C4				    mov	    al,	ah
seg000:C627 B4 07				    mov	    ah,	7
seg000:C629 26 89 05				    mov	    es:[di], ax
seg000:C62C 83 C7 02				    add	    di,	2
seg000:C62F 8B C5				    mov	    ax,	bp
seg000:C631 B4 07				    mov	    ah,	7
seg000:C633 26 89 05				    mov	    es:[di], ax
seg000:C636 83 C7 02				    add	    di,	2
seg000:C639 BE 78 C7				    mov	    si,	offset aDataFaultWritt ; "Data Fault: Written: xxxxh Read: xxxxh"
seg000:C63C BF C0 03				    mov	    di,	3C0h
seg000:C63F B4 07				    mov	    ah,	7
seg000:C641
seg000:C641			    loc_FC641:				    ; CODE XREF: seg000:C64Fj
seg000:C641 2E 8A 04				    mov	    al,	cs:[si]
seg000:C644 0A C0				    or	    al,	al
seg000:C646 74 09				    jz	    short loc_FC651
seg000:C648 26 89 05				    mov	    es:[di], ax
seg000:C64B 83 C7 02				    add	    di,	2
seg000:C64E 46					    inc	    si
seg000:C64F EB F0				    jmp	    short loc_FC641
seg000:C651			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C651
seg000:C651			    loc_FC651:				    ; CODE XREF: seg000:C646j
seg000:C651 83 EF 22				    sub	    di,	22h ; '"'
seg000:C654 8C D0				    mov	    ax,	ss
seg000:C656 8B D0				    mov	    dx,	ax
seg000:C658 8A C4				    mov	    al,	ah
seg000:C65A 8A C8				    mov	    cl,	al
seg000:C65C D0 E8				    shr	    al,	1
seg000:C65E D0 E8				    shr	    al,	1
seg000:C660 D0 E8				    shr	    al,	1
seg000:C662 D0 E8				    shr	    al,	1
seg000:C664 24 0F				    and	    al,	0Fh
seg000:C666 04 30				    add	    al,	30h ; '0'
seg000:C668 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C66A 78 02				    js	    short loc_FC66E
seg000:C66C 04 07				    add	    al,	7
seg000:C66E
seg000:C66E			    loc_FC66E:				    ; CODE XREF: seg000:C66Aj
seg000:C66E 8A E8				    mov	    ch,	al
seg000:C670 8A C1				    mov	    al,	cl
seg000:C672 24 0F				    and	    al,	0Fh
seg000:C674 04 30				    add	    al,	30h ; '0'
seg000:C676 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C678 78 02				    js	    short loc_FC67C
seg000:C67A 04 07				    add	    al,	7
seg000:C67C
seg000:C67C			    loc_FC67C:				    ; CODE XREF: seg000:C678j
seg000:C67C 8A E5				    mov	    ah,	ch
seg000:C67E 8B E8				    mov	    bp,	ax
seg000:C680 8A C4				    mov	    al,	ah
seg000:C682 B4 07				    mov	    ah,	7
seg000:C684 26 89 05				    mov	    es:[di], ax
seg000:C687 83 C7 02				    add	    di,	2
seg000:C68A 8B C5				    mov	    ax,	bp
seg000:C68C B4 07				    mov	    ah,	7
seg000:C68E 26 89 05				    mov	    es:[di], ax
seg000:C691 83 C7 02				    add	    di,	2
seg000:C694 8B C2				    mov	    ax,	dx
seg000:C696 8A C8				    mov	    cl,	al
seg000:C698 D0 E8				    shr	    al,	1
seg000:C69A D0 E8				    shr	    al,	1
seg000:C69C D0 E8				    shr	    al,	1
seg000:C69E D0 E8				    shr	    al,	1
seg000:C6A0 24 0F				    and	    al,	0Fh
seg000:C6A2 04 30				    add	    al,	30h ; '0'
seg000:C6A4 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C6A6 78 02				    js	    short loc_FC6AA
seg000:C6A8 04 07				    add	    al,	7
seg000:C6AA
seg000:C6AA			    loc_FC6AA:				    ; CODE XREF: seg000:C6A6j
seg000:C6AA 8A E8				    mov	    ch,	al
seg000:C6AC 8A C1				    mov	    al,	cl
seg000:C6AE 24 0F				    and	    al,	0Fh
seg000:C6B0 04 30				    add	    al,	30h ; '0'
seg000:C6B2 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C6B4 78 02				    js	    short loc_FC6B8
seg000:C6B6 04 07				    add	    al,	7
seg000:C6B8
seg000:C6B8			    loc_FC6B8:				    ; CODE XREF: seg000:C6B4j
seg000:C6B8 8A E5				    mov	    ah,	ch
seg000:C6BA 8B E8				    mov	    bp,	ax
seg000:C6BC 8A C4				    mov	    al,	ah
seg000:C6BE B4 07				    mov	    ah,	7
seg000:C6C0 26 89 05				    mov	    es:[di], ax
seg000:C6C3 83 C7 02				    add	    di,	2
seg000:C6C6 8B C5				    mov	    ax,	bp
seg000:C6C8 B4 07				    mov	    ah,	7
seg000:C6CA 26 89 05				    mov	    es:[di], ax
seg000:C6CD 83 C7 02				    add	    di,	2
seg000:C6D0 83 C7 10				    add	    di,	10h
seg000:C6D3 8B C4				    mov	    ax,	sp
seg000:C6D5 8B D0				    mov	    dx,	ax
seg000:C6D7 8A C4				    mov	    al,	ah
seg000:C6D9 8A C8				    mov	    cl,	al
seg000:C6DB D0 E8				    shr	    al,	1
seg000:C6DD D0 E8				    shr	    al,	1
seg000:C6DF D0 E8				    shr	    al,	1
seg000:C6E1 D0 E8				    shr	    al,	1
seg000:C6E3 24 0F				    and	    al,	0Fh
seg000:C6E5 04 30				    add	    al,	30h ; '0'
seg000:C6E7 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C6E9 78 02				    js	    short loc_FC6ED
seg000:C6EB 04 07				    add	    al,	7
seg000:C6ED
seg000:C6ED			    loc_FC6ED:				    ; CODE XREF: seg000:C6E9j
seg000:C6ED 8A E8				    mov	    ch,	al
seg000:C6EF 8A C1				    mov	    al,	cl
seg000:C6F1 24 0F				    and	    al,	0Fh
seg000:C6F3 04 30				    add	    al,	30h ; '0'
seg000:C6F5 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C6F7 78 02				    js	    short loc_FC6FB
seg000:C6F9 04 07				    add	    al,	7
seg000:C6FB
seg000:C6FB			    loc_FC6FB:				    ; CODE XREF: seg000:C6F7j
seg000:C6FB 8A E5				    mov	    ah,	ch
seg000:C6FD 8B E8				    mov	    bp,	ax
seg000:C6FF 8A C4				    mov	    al,	ah
seg000:C701 B4 07				    mov	    ah,	7
seg000:C703 26 89 05				    mov	    es:[di], ax
seg000:C706 83 C7 02				    add	    di,	2
seg000:C709 8B C5				    mov	    ax,	bp
seg000:C70B B4 07				    mov	    ah,	7
seg000:C70D 26 89 05				    mov	    es:[di], ax
seg000:C710 83 C7 02				    add	    di,	2
seg000:C713 8B C2				    mov	    ax,	dx
seg000:C715 8A C8				    mov	    cl,	al
seg000:C717 D0 E8				    shr	    al,	1
seg000:C719 D0 E8				    shr	    al,	1
seg000:C71B D0 E8				    shr	    al,	1
seg000:C71D D0 E8				    shr	    al,	1
seg000:C71F 24 0F				    and	    al,	0Fh
seg000:C721 04 30				    add	    al,	30h ; '0'
seg000:C723 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C725 78 02				    js	    short loc_FC729
seg000:C727 04 07				    add	    al,	7
seg000:C729
seg000:C729			    loc_FC729:				    ; CODE XREF: seg000:C725j
seg000:C729 8A E8				    mov	    ch,	al
seg000:C72B 8A C1				    mov	    al,	cl
seg000:C72D 24 0F				    and	    al,	0Fh
seg000:C72F 04 30				    add	    al,	30h ; '0'
seg000:C731 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:C733 78 02				    js	    short loc_FC737
seg000:C735 04 07				    add	    al,	7
seg000:C737
seg000:C737			    loc_FC737:				    ; CODE XREF: seg000:C733j
seg000:C737 8A E5				    mov	    ah,	ch
seg000:C739 8B E8				    mov	    bp,	ax
seg000:C73B 8A C4				    mov	    al,	ah
seg000:C73D B4 07				    mov	    ah,	7
seg000:C73F 26 89 05				    mov	    es:[di], ax
seg000:C742 83 C7 02				    add	    di,	2
seg000:C745 8B C5				    mov	    ax,	bp
seg000:C747 B4 07				    mov	    ah,	7
seg000:C749 26 89 05				    mov	    es:[di], ax
seg000:C74C 83 C7 02				    add	    di,	2
seg000:C74F
seg000:C74F			    loc_FC74F:				    ; CODE XREF: seg000:loc_FC74Fj
seg000:C74F EB FE				    jmp	    short loc_FC74F
seg000:C74F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C751 56 69 64 20	41 64 64 72+aVidAddrBaseBbe db 'Vid Addr:   Base:    BBE8h  Off: xxxxh',0
seg000:C751 3A 20 20 20	42 61 73 65+					    ; DATA XREF: seg000:C59Do
seg000:C778 44 61 74 61	20 46 61 75+aDataFaultWritt db 'Data Fault: Written: xxxxh Read: xxxxh',0
seg000:C778 6C 74 3A 20	57 72 69 74+					    ; DATA XREF: seg000:C639o
seg000:C79F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C79F
seg000:C79F			    loc_FC79F:				    ; CODE XREF: seg000:C592j
seg000:C79F B8 F0 BB				    mov	    ax,	0BBF0h
seg000:C7A2 8E D0				    mov	    ss,	ax	    ; ss = 0xbbf0
seg000:C7A4 BC F0 00				    mov	    sp,	0F0h ; 'ğ'
seg000:C7A7 32 C0				    xor	    al,	al
seg000:C7A9 E6 81				    out	    81h, al	    ; DMA page register	74LS612:
seg000:C7A9								    ; Channel 2	(diskette DMA)	(address bits 16-23)
seg000:C7AB E6 82				    out	    82h, al	    ; DMA page register	74LS612:
seg000:C7AB								    ; Channel 3	(hard disk DMA)	(address bits 16-23)
seg000:C7AD E6 83				    out	    83h, al	    ; DMA page register	74LS612:
seg000:C7AD								    ; Channel 1	(address bits 16-23)
seg000:C7AF E6 0D				    out	    0Dh, al	    ; DMA controller, 8237A-5.
seg000:C7AF								    ; master clear.
seg000:C7AF								    ; Any OUT clears the ctrlr (must be	re-initialized)
seg000:C7B1 B9 02 00				    mov	    cx,	2
seg000:C7B4
seg000:C7B4			    loc_FC7B4:				    ; CODE XREF: seg000:loc_FC7B4j
seg000:C7B4 E2 FE				    loop    loc_FC7B4
seg000:C7B6 B0 24				    mov	    al,	24h ; '$'
seg000:C7B8 E6 08				    out	    8, al	    ; DMA 8237A-5. cmd reg bits:
seg000:C7B8								    ; 0: enable	mem-to-mem DMA
seg000:C7B8								    ; 1: enable	Ch0 address hold
seg000:C7B8								    ; 2: disable controller
seg000:C7B8								    ; 3: compressed timing mode
seg000:C7B8								    ; 4: enable	rotating priority
seg000:C7B8								    ; 5: extended write	mode; 0=late write
seg000:C7B8								    ; 6: DRQ sensing - active high
seg000:C7B8								    ; 7: DACK sensing -	active high
seg000:C7BA BA 00 00				    mov	    dx,	0
seg000:C7BD B4 00				    mov	    ah,	0
seg000:C7BF B9 01 00				    mov	    cx,	1
seg000:C7C2
seg000:C7C2			    loc_FC7C2:				    ; CODE XREF: seg000:C7D5j
seg000:C7C2 8A C1				    mov	    al,	cl
seg000:C7C4 EE					    out	    dx,	al
seg000:C7C5 8A C4				    mov	    al,	ah
seg000:C7C7 EE					    out	    dx,	al
seg000:C7C8 90					    nop
seg000:C7C9 EC					    in	    al,	dx
seg000:C7CA 3A C1				    cmp	    al,	cl
seg000:C7CC 75 31				    jnz	    short loc_FC7FF
seg000:C7CE EC					    in	    al,	dx
seg000:C7CF 3C 00				    cmp	    al,	0
seg000:C7D1 75 2C				    jnz	    short loc_FC7FF
seg000:C7D3 D0 D1				    rcl	    cl,	1
seg000:C7D5 73 EB				    jnb	    short loc_FC7C2
seg000:C7D7 BA 00 00				    mov	    dx,	0
seg000:C7DA 32 C0				    xor	    al,	al
seg000:C7DC
seg000:C7DC			    loc_FC7DC:				    ; CODE XREF: seg000:C7E2j
seg000:C7DC EE					    out	    dx,	al
seg000:C7DD EE					    out	    dx,	al
seg000:C7DE 42					    inc	    dx
seg000:C7DF 83 FA 08				    cmp	    dx,	8
seg000:C7E2 75 F8				    jnz	    short loc_FC7DC
seg000:C7E4 BA 0B 00				    mov	    dx,	0Bh
seg000:C7E7 B0 58				    mov	    al,	58h ; 'X'
seg000:C7E9 EE					    out	    dx,	al	    ; DMA 8237A-5. mode	register bits:
seg000:C7E9								    ; 0-1: channel (00=0; 01=1;	10=2; 11=3)
seg000:C7E9								    ; 2-3: transfer type (00=verify=Nop; 01=write; 10=read)
seg000:C7E9								    ; 4: 1=enable auto-initialization
seg000:C7E9								    ; 5: 1=address increment; 0=address	decrement
seg000:C7E9								    ; 6-7: 00=demand mode; 01=single; 10=block;	11=cascade
seg000:C7EA B0 49				    mov	    al,	49h ; 'I'
seg000:C7EC EE					    out	    dx,	al	    ; DMA 8237A-5. mode	register bits:
seg000:C7EC								    ; 0-1: channel (00=0; 01=1;	10=2; 11=3)
seg000:C7EC								    ; 2-3: transfer type (00=verify=Nop; 01=write; 10=read)
seg000:C7EC								    ; 4: 1=enable auto-initialization
seg000:C7EC								    ; 5: 1=address increment; 0=address	decrement
seg000:C7EC								    ; 6-7: 00=demand mode; 01=single; 10=block;	11=cascade
seg000:C7ED B0 4A				    mov	    al,	4Ah ; 'J'
seg000:C7EF EE					    out	    dx,	al	    ; DMA 8237A-5. mode	register bits:
seg000:C7EF								    ; 0-1: channel (00=0; 01=1;	10=2; 11=3)
seg000:C7EF								    ; 2-3: transfer type (00=verify=Nop; 01=write; 10=read)
seg000:C7EF								    ; 4: 1=enable auto-initialization
seg000:C7EF								    ; 5: 1=address increment; 0=address	decrement
seg000:C7EF								    ; 6-7: 00=demand mode; 01=single; 10=block;	11=cascade
seg000:C7F0 B0 4B				    mov	    al,	4Bh ; 'K'
seg000:C7F2 EE					    out	    dx,	al	    ; DMA 8237A-5. mode	register bits:
seg000:C7F2								    ; 0-1: channel (00=0; 01=1;	10=2; 11=3)
seg000:C7F2								    ; 2-3: transfer type (00=verify=Nop; 01=write; 10=read)
seg000:C7F2								    ; 4: 1=enable auto-initialization
seg000:C7F2								    ; 5: 1=address increment; 0=address	decrement
seg000:C7F2								    ; 6-7: 00=demand mode; 01=single; 10=block;	11=cascade
seg000:C7F3 B0 0E				    mov	    al,	0Eh
seg000:C7F5 E6 0F				    out	    0Fh, al	    ; DMA controller, 8237A-5.
seg000:C7F5								    ; master clear. Clear or mask any or
seg000:C7F5								    ; all of the channels. Bits:
seg000:C7F5								    ; 0: 1=mask	channel	0; 0=enable
seg000:C7F5								    ; 1: 1=mask	channel	1;
seg000:C7F5								    ; 2: 1=mask	channel	2;
seg000:C7F5								    ; 3: 1=mask	channel	3;
seg000:C7F7 B0 FF				    mov	    al,	0FFh
seg000:C7F9 E6 01				    out	    1, al	    ; DMA controller, 8237A-5.
seg000:C7F9								    ; channel 0	base address and word count
seg000:C7FB B0 20				    mov	    al,	20h ; ' '
seg000:C7FD E6 08				    out	    8, al	    ; DMA 8237A-5. cmd reg bits:
seg000:C7FD								    ; 0: enable	mem-to-mem DMA
seg000:C7FD								    ; 1: enable	Ch0 address hold
seg000:C7FD								    ; 2: disable controller
seg000:C7FD								    ; 3: compressed timing mode
seg000:C7FD								    ; 4: enable	rotating priority
seg000:C7FD								    ; 5: extended write	mode; 0=late write
seg000:C7FD								    ; 6: DRQ sensing - active high
seg000:C7FD								    ; 7: DACK sensing -	active high
seg000:C7FF
seg000:C7FF			    loc_FC7FF:				    ; CODE XREF: seg000:C7CCj
seg000:C7FF								    ; seg000:C7D1j
seg000:C7FF B5 00				    mov	    ch,	0
seg000:C801
seg000:C801			    loc_FC801:				    ; CODE XREF: seg000:C82Fj
seg000:C801								    ; seg000:C84Ej
seg000:C801 B0 98				    mov	    al,	98h ; '˜'
seg000:C803 E6 63				    out	    63h, al	    ; PC/XT PPI	Command/Mode Register.
seg000:C803								    ; Selects which PPI	ports are input	or output.
seg000:C803								    ; BIOS sets	to 99H (Ports A	and C are input, B is output).
seg000:C805 90					    nop
seg000:C806 B0 C0				    mov	    al,	0C0h ; 'À'
seg000:C808 E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:C808								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:C808								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:C808								    ; 3: 1=read	high switches
seg000:C808								    ; 4: 0=enable RAM parity checking
seg000:C808								    ; 5: 0=enable I/O channel check
seg000:C808								    ; 6: 0=hold	keyboard clock low
seg000:C808								    ; 7: 0=enable kbrd
seg000:C80A B1 01				    mov	    cl,	1
seg000:C80C
seg000:C80C			    loc_FC80C:				    ; CODE XREF: seg000:C82Aj
seg000:C80C B0 90				    mov	    al,	90h ; ''
seg000:C80E E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C810 8A C1				    mov	    al,	cl
seg000:C812 E6 42				    out	    42h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C814 B0 80				    mov	    al,	80h ; '€'
seg000:C816 E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C818 B0 90				    mov	    al,	90h ; ''
seg000:C81A E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C81C 90					    nop
seg000:C81D E4 42				    in	    al,	42h	    ; Timer 8253-5 (AT:	8254.2).
seg000:C81F 80 FD 01				    cmp	    ch,	1
seg000:C822 74 04				    jz	    short loc_FC828
seg000:C824 3A C1				    cmp	    al,	cl
seg000:C826 75 0C				    jnz	    short loc_FC834
seg000:C828
seg000:C828			    loc_FC828:				    ; CODE XREF: seg000:C822j
seg000:C828 D0 D1				    rcl	    cl,	1
seg000:C82A 73 E0				    jnb	    short loc_FC80C
seg000:C82C 80 FD 01				    cmp	    ch,	1
seg000:C82F 74 D0				    jz	    short loc_FC801
seg000:C831 EB 44				    jmp	    short loc_FC877
seg000:C833			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C833 90					    nop
seg000:C834
seg000:C834			    loc_FC834:				    ; CODE XREF: seg000:C826j
seg000:C834 BE 50 C8				    mov	    si,	offset aFaultyWriteRea ; "Faulty write & read of 8253 Chan 2 Reg"
seg000:C837 BF C0 03				    mov	    di,	3C0h
seg000:C83A B4 07				    mov	    ah,	7
seg000:C83C
seg000:C83C			    loc_FC83C:				    ; CODE XREF: seg000:C84Aj
seg000:C83C 2E 8A 04				    mov	    al,	cs:[si]
seg000:C83F 0A C0				    or	    al,	al
seg000:C841 74 09				    jz	    short loc_FC84C
seg000:C843 26 89 05				    mov	    es:[di], ax
seg000:C846 83 C7 02				    add	    di,	2
seg000:C849 46					    inc	    si
seg000:C84A EB F0				    jmp	    short loc_FC83C
seg000:C84C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C84C
seg000:C84C			    loc_FC84C:				    ; CODE XREF: seg000:C841j
seg000:C84C B5 01				    mov	    ch,	1
seg000:C84E EB B1				    jmp	    short loc_FC801
seg000:C84E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C850 46 61 75 6C	74 79 20 77+aFaultyWriteRea db 'Faulty write & read of 8253 Chan 2 Reg',0
seg000:C850 72 69 74 65	20 26 20 72+					    ; DATA XREF: seg000:loc_FC834o
seg000:C877			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C877
seg000:C877			    loc_FC877:				    ; CODE XREF: seg000:C831j
seg000:C877 B0 74				    mov	    al,	74h ; 't'
seg000:C879 E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C87B B0 12				    mov	    al,	12h
seg000:C87D E6 41				    out	    41h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C87F B0 00				    mov	    al,	0
seg000:C881 E6 41				    out	    41h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C883 B0 30				    mov	    al,	30h ; '0'
seg000:C885 E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C887 B0 00				    mov	    al,	0
seg000:C889 E6 40				    out	    40h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C88B E6 40				    out	    40h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C88D B0 B0				    mov	    al,	0B0h ; '°'
seg000:C88F E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C891 B0 00				    mov	    al,	0
seg000:C893 E6 42				    out	    42h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C895 E6 42				    out	    42h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:C897 B8 00 00				    mov	    ax,	0
seg000:C89A 8E C0				    mov	    es,	ax
seg000:C89C 33 F6				    xor	    si,	si
seg000:C89E
seg000:C89E			    loc_FC89E:				    ; CODE XREF: seg000:C8CBj
seg000:C89E 26 8B 04				    mov	    ax,	es:[si]
seg000:C8A1 F7 D0				    not	    ax
seg000:C8A3 26 89 04				    mov	    es:[si], ax
seg000:C8A6 B9 18 01				    mov	    cx,	118h
seg000:C8A9
seg000:C8A9			    loc_FC8A9:				    ; CODE XREF: seg000:loc_FC8A9j
seg000:C8A9 E2 FE				    loop    loc_FC8A9
seg000:C8AB 26 3B 04				    cmp	    ax,	es:[si]
seg000:C8AE 75 22				    jnz	    short loc_FC8D2
seg000:C8B0 F7 D0				    not	    ax
seg000:C8B2 26 89 04				    mov	    es:[si], ax
seg000:C8B5 B9 18 01				    mov	    cx,	118h
seg000:C8B8
seg000:C8B8			    loc_FC8B8:				    ; CODE XREF: seg000:loc_FC8B8j
seg000:C8B8 E2 FE				    loop    loc_FC8B8
seg000:C8BA 26 3B 04				    cmp	    ax,	es:[si]
seg000:C8BD 75 13				    jnz	    short loc_FC8D2
seg000:C8BF
seg000:C8BF			    loc_FC8BF:				    ; CODE XREF: seg000:C8E8j
seg000:C8BF 8C C0				    mov	    ax,	es
seg000:C8C1 05 00 10				    add	    ax,	1000h
seg000:C8C4 3D 00 80				    cmp	    ax,	8000h
seg000:C8C7 74 04				    jz	    short loc_FC8CD
seg000:C8C9 8E C0				    mov	    es,	ax
seg000:C8CB EB D1				    jmp	    short loc_FC89E
seg000:C8CD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C8CD
seg000:C8CD			    loc_FC8CD:				    ; CODE XREF: seg000:C8C7j
seg000:C8CD 8E C0				    mov	    es,	ax
seg000:C8CF EB 19				    jmp	    short loc_FC8EA
seg000:C8D1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C8D1 90					    nop
seg000:C8D2
seg000:C8D2			    loc_FC8D2:				    ; CODE XREF: seg000:C8AEj
seg000:C8D2								    ; seg000:C8BDj
seg000:C8D2 26 33 04				    xor	    ax,	es:[si]
seg000:C8D5 B3 00				    mov	    bl,	0
seg000:C8D7 B9 11 00				    mov	    cx,	11h
seg000:C8DA
seg000:C8DA			    loc_FC8DA:				    ; CODE XREF: seg000:C8DFj
seg000:C8DA								    ; seg000:C8E3j
seg000:C8DA 49					    dec	    cx
seg000:C8DB E3 08				    jcxz    short loc_FC8E5
seg000:C8DD D1 D0				    rcl	    ax,	1
seg000:C8DF 73 F9				    jnb	    short loc_FC8DA
seg000:C8E1 FE C3				    inc	    bl
seg000:C8E3 EB F5				    jmp	    short loc_FC8DA
seg000:C8E5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C8E5
seg000:C8E5			    loc_FC8E5:				    ; CODE XREF: seg000:C8DBj
seg000:C8E5 80 FB 00				    cmp	    bl,	0
seg000:C8E8 72 D5				    jb	    short loc_FC8BF
seg000:C8EA
seg000:C8EA			    loc_FC8EA:				    ; CODE XREF: seg000:C8CFj
seg000:C8EA 8C C2				    mov	    dx,	es
seg000:C8EC 8A C6				    mov	    al,	dh
seg000:C8EE B1 04				    mov	    cl,	4
seg000:C8F0 D2 E8				    shr	    al,	cl
seg000:C8F2 E6 A0				    out	    0A0h, al	    ; PIC 2  same as 0020 for PIC 1
seg000:C8F4 A2 0D 00				    mov	    ds:0Dh, al
seg000:C8F7 89 16 0B 00				    mov	    ds:0Bh, dx
seg000:C8FB B8 00 B8				    mov	    ax,	0B800h
seg000:C8FE 8E C0				    mov	    es,	ax
seg000:C900 BE 3B C9				    mov	    si,	offset aMemorySizeNone ; "MEMORY SIZE =	 None  "
seg000:C903 BF 04 00				    mov	    di,	4
seg000:C906 B4 07				    mov	    ah,	7
seg000:C908
seg000:C908			    loc_FC908:				    ; CODE XREF: seg000:C916j
seg000:C908 2E 8A 04				    mov	    al,	cs:[si]
seg000:C90B 0A C0				    or	    al,	al
seg000:C90D 74 09				    jz	    short loc_FC918
seg000:C90F 26 89 05				    mov	    es:[di], ax
seg000:C912 83 C7 02				    add	    di,	2
seg000:C915 46					    inc	    si
seg000:C916 EB F0				    jmp	    short loc_FC908
seg000:C918			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C918
seg000:C918			    loc_FC918:				    ; CODE XREF: seg000:C90Dj
seg000:C918 A0 0D 00				    mov	    al,	ds:0Dh
seg000:C91B B9 04 00				    mov	    cx,	4
seg000:C91E F6 E1				    mul	    cl
seg000:C920 32 E4				    xor	    ah,	ah
seg000:C922 8B F0				    mov	    si,	ax
seg000:C924 B4 07				    mov	    ah,	7
seg000:C926 BB 51 C9				    mov	    bx,	offset unk_FC951
seg000:C929 BF 22 00				    mov	    di,	22h ; '"'
seg000:C92C
seg000:C92C			    loc_FC92C:				    ; CODE XREF: seg000:C936j
seg000:C92C 2E 8A 00				    mov	    al,	cs:[bx+si]
seg000:C92F 26 89 05				    mov	    es:[di], ax
seg000:C932 83 C7 02				    add	    di,	2
seg000:C935 46					    inc	    si
seg000:C936 E2 F4				    loop    loc_FC92C
seg000:C938 EB 4F				    jmp	    short loc_FC989
seg000:C93A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C93A 90					    nop
seg000:C93A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C93B 4D 45 4D 4F	52 59 20 53+aMemorySizeNone db 'MEMORY SIZE =  None  ',0
seg000:C93B 49 5A 45 20	3D 20 20 4E+					    ; DATA XREF: seg000:C900o
seg000:C951 31			    unk_FC951	    db	31h ; 1		    ; DATA XREF: seg000:C926o
seg000:C952 32					    db	32h ; 2
seg000:C953 38					    db	38h ; 8
seg000:C954 4B					    db	4Bh ; K
seg000:C955 31					    db	31h ; 1
seg000:C956 39					    db	39h ; 9
seg000:C957 32					    db	32h ; 2
seg000:C958 4B					    db	4Bh ; K
seg000:C959 32					    db	32h ; 2
seg000:C95A 35					    db	35h ; 5
seg000:C95B 36					    db	36h ; 6
seg000:C95C 4B					    db	4Bh ; K
seg000:C95D 33					    db	33h ; 3
seg000:C95E 32					    db	32h ; 2
seg000:C95F 30					    db	30h ; 0
seg000:C960 4B					    db	4Bh ; K
seg000:C961 33					    db	33h ; 3
seg000:C962 38					    db	38h ; 8
seg000:C963 34					    db	34h ; 4
seg000:C964 4B					    db	4Bh ; K
seg000:C965 34					    db	34h ; 4
seg000:C966 34					    db	34h ; 4
seg000:C967 38					    db	38h ; 8
seg000:C968 4B					    db	4Bh ; K
seg000:C969 35					    db	35h ; 5
seg000:C96A 31					    db	31h ; 1
seg000:C96B 32					    db	32h ; 2
seg000:C96C 4B					    db	4Bh ; K
seg000:C96D 35					    db	35h ; 5
seg000:C96E 37					    db	37h ; 7
seg000:C96F 36					    db	36h ; 6
seg000:C970 4B					    db	4Bh ; K
seg000:C971 36					    db	36h ; 6
seg000:C972 34					    db	34h ; 4
seg000:C973 30					    db	30h ; 0
seg000:C974 4B					    db	4Bh ; K
seg000:C975 37					    db	37h ; 7
seg000:C976 30					    db	30h ; 0
seg000:C977 34					    db	34h ; 4
seg000:C978 4B					    db	4Bh ; K
seg000:C979 37					    db	37h ; 7
seg000:C97A 36					    db	36h ; 6
seg000:C97B 38					    db	38h ; 8
seg000:C97C 4B					    db	4Bh ; K
seg000:C97D 38					    db	38h ; 8
seg000:C97E 33					    db	33h ; 3
seg000:C97F 32					    db	32h ; 2
seg000:C980 4B					    db	4Bh ; K
seg000:C981 38					    db	38h ; 8
seg000:C982 39					    db	39h ; 9
seg000:C983 36					    db	36h ; 6
seg000:C984 4B					    db	4Bh ; K
seg000:C985 39					    db	39h ; 9
seg000:C986 36					    db	36h ; 6
seg000:C987 30					    db	30h ; 0
seg000:C988 4B					    db	4Bh ; K
seg000:C989			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C989
seg000:C989			    loc_FC989:				    ; CODE XREF: seg000:C938j
seg000:C989								    ; seg000:loc_FC9BAj
seg000:C989 B0 98				    mov	    al,	98h ; '˜'
seg000:C98B E6 63				    out	    63h, al	    ; PC/XT PPI	Command/Mode Register.
seg000:C98B								    ; Selects which PPI	ports are input	or output.
seg000:C98B								    ; BIOS sets	to 99H (Ports A	and C are input, B is output).
seg000:C98D BA 61 00				    mov	    dx,	61h ; 'a'
seg000:C990 B1 01				    mov	    cl,	1
seg000:C992
seg000:C992			    loc_FC992:				    ; CODE XREF: seg000:C99Dj
seg000:C992 8A C1				    mov	    al,	cl
seg000:C994 EE					    out	    dx,	al	    ; PC/XT PPI	port B bits:
seg000:C994								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:C994								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:C994								    ; 3: 1=read	high switches
seg000:C994								    ; 4: 0=enable RAM parity checking
seg000:C994								    ; 5: 0=enable I/O channel check
seg000:C994								    ; 6: 0=hold	keyboard clock low
seg000:C994								    ; 7: 0=enable kbrd
seg000:C995 90					    nop
seg000:C996 EC					    in	    al,	dx	    ; PC/XT PPI	port B bits:
seg000:C996								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:C996								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:C996								    ; 3: 1=read	high switches
seg000:C996								    ; 4: 0=enable RAM parity checking
seg000:C996								    ; 5: 0=enable I/O channel check
seg000:C996								    ; 6: 0=hold	keyboard clock low
seg000:C996								    ; 7: 0=enable kbrd
seg000:C997 3A C1				    cmp	    al,	cl
seg000:C999 75 07				    jnz	    short loc_FC9A2
seg000:C99B D0 D1				    rcl	    cl,	1
seg000:C99D 73 F3				    jnb	    short loc_FC992
seg000:C99F EB 42				    jmp	    short loc_FC9E3
seg000:C99F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C9A1 90					    db	90h ; 
seg000:C9A2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C9A2
seg000:C9A2			    loc_FC9A2:				    ; CODE XREF: seg000:C999j
seg000:C9A2 BE BC C9				    mov	    si,	offset aFaultyWriteR_0 ; "Faulty write & read of 8255 PPI Chan B"
seg000:C9A5 BF C0 03				    mov	    di,	3C0h
seg000:C9A8 B4 07				    mov	    ah,	7
seg000:C9AA
seg000:C9AA			    loc_FC9AA:				    ; CODE XREF: seg000:C9B8j
seg000:C9AA 2E 8A 04				    mov	    al,	cs:[si]
seg000:C9AD 0A C0				    or	    al,	al
seg000:C9AF 74 09				    jz	    short loc_FC9BA
seg000:C9B1 26 89 05				    mov	    es:[di], ax
seg000:C9B4 83 C7 02				    add	    di,	2
seg000:C9B7 46					    inc	    si
seg000:C9B8 EB F0				    jmp	    short loc_FC9AA
seg000:C9BA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C9BA
seg000:C9BA			    loc_FC9BA:				    ; CODE XREF: seg000:C9AFj
seg000:C9BA EB CD				    jmp	    short loc_FC989
seg000:C9BA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C9BC 46 61 75 6C	74 79 20 77+aFaultyWriteR_0 db 'Faulty write & read of 8255 PPI Chan B',0
seg000:C9BC 72 69 74 65	20 26 20 72+					    ; DATA XREF: seg000:loc_FC9A2o
seg000:C9E3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:C9E3
seg000:C9E3			    loc_FC9E3:				    ; CODE XREF: seg000:C99Fj
seg000:C9E3 BA 63 00				    mov	    dx,	63h ; 'c'
seg000:C9E6 B0 98				    mov	    al,	98h ; '˜'
seg000:C9E8 EE					    out	    dx,	al	    ; PC/XT PPI	Command/Mode Register.
seg000:C9E8								    ; Selects which PPI	ports are input	or output.
seg000:C9E8								    ; BIOS sets	to 99H (Ports A	and C are input, B is output).
seg000:C9E9 BA 61 00				    mov	    dx,	61h ; 'a'
seg000:C9EC B0 88				    mov	    al,	88h ; 'ˆ'
seg000:C9EE EE					    out	    dx,	al	    ; PC/XT PPI	port B bits:
seg000:C9EE								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:C9EE								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:C9EE								    ; 3: 1=read	high switches
seg000:C9EE								    ; 4: 0=enable RAM parity checking
seg000:C9EE								    ; 5: 0=enable I/O channel check
seg000:C9EE								    ; 6: 0=hold	keyboard clock low
seg000:C9EE								    ; 7: 0=enable kbrd
seg000:C9EF B0 08				    mov	    al,	8
seg000:C9F1 EE					    out	    dx,	al	    ; PC/XT PPI	port B bits:
seg000:C9F1								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:C9F1								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:C9F1								    ; 3: 1=read	high switches
seg000:C9F1								    ; 4: 0=enable RAM parity checking
seg000:C9F1								    ; 5: 0=enable I/O channel check
seg000:C9F1								    ; 6: 0=hold	keyboard clock low
seg000:C9F1								    ; 7: 0=enable kbrd
seg000:C9F2 BA 62 00				    mov	    dx,	62h ; 'b'
seg000:C9F5 B0 00				    mov	    al,	0
seg000:C9F7 EE					    out	    dx,	al	    ; PC/XT PPI	port C.	Bits:
seg000:C9F7								    ; 0-3: values of DIP switches
seg000:C9F7								    ; 5: 1=Timer 2 channel out
seg000:C9F7								    ; 6: 1=I/O channel check
seg000:C9F7								    ; 7: 1=RAM parity check error occurred.
seg000:C9F8 B0 13				    mov	    al,	13h
seg000:C9FA E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:C9FC B0 08				    mov	    al,	8
seg000:C9FE BA 21 00				    mov	    dx,	21h ; '!'
seg000:CA01 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:CA02 B0 01				    mov	    al,	1
seg000:CA04 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:CA05 B0 FF				    mov	    al,	0FFh
seg000:CA07 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:CA08 8A C8				    mov	    cl,	al
seg000:CA0A B0 40				    mov	    al,	40h ; '@'
seg000:CA0C E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:CA0E EC					    in	    al,	dx	    ; Interrupt	controller, 8259A.
seg000:CA0F 3A C1				    cmp	    al,	cl
seg000:CA11 75 24				    jnz	    short loc_FCA37
seg000:CA13 B1 01				    mov	    cl,	1
seg000:CA15
seg000:CA15			    loc_FCA15:				    ; CODE XREF: seg000:CA1Fj
seg000:CA15 8A C1				    mov	    al,	cl
seg000:CA17 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:CA18 EC					    in	    al,	dx	    ; Interrupt	controller, 8259A.
seg000:CA19 3A C1				    cmp	    al,	cl
seg000:CA1B 75 1A				    jnz	    short loc_FCA37
seg000:CA1D D0 D1				    rcl	    cl,	1
seg000:CA1F 73 F4				    jnb	    short loc_FCA15
seg000:CA21 B0 FD				    mov	    al,	0FDh ; 'ı'
seg000:CA23 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:CA24 8A C8				    mov	    cl,	al
seg000:CA26 EC					    in	    al,	dx	    ; Interrupt	controller, 8259A.
seg000:CA27 3A C1				    cmp	    al,	cl
seg000:CA29 75 0C				    jnz	    short loc_FCA37
seg000:CA2B B9 08 00				    mov	    cx,	8
seg000:CA2E
seg000:CA2E			    loc_FCA2E:				    ; CODE XREF: seg000:CA32j
seg000:CA2E B0 20				    mov	    al,	20h ; ' '
seg000:CA30 E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:CA32 E2 FA				    loop    loc_FCA2E
seg000:CA34 EB 40				    jmp	    short loc_FCA76
seg000:CA34			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CA36 90					    db	90h ; 
seg000:CA37			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CA37
seg000:CA37			    loc_FCA37:				    ; CODE XREF: seg000:CA11j
seg000:CA37								    ; seg000:CA1Bj
seg000:CA37								    ; seg000:CA29j
seg000:CA37 BE 4F CA				    mov	    si,	offset aFaultyWriteR_1 ; "Faulty write & read of 8259 Mask Reg"
seg000:CA3A BF C0 03				    mov	    di,	3C0h
seg000:CA3D B4 07				    mov	    ah,	7
seg000:CA3F
seg000:CA3F			    loc_FCA3F:				    ; CODE XREF: seg000:CA4Dj
seg000:CA3F 2E 8A 04				    mov	    al,	cs:[si]
seg000:CA42 0A C0				    or	    al,	al
seg000:CA44 74 2E				    jz	    short loc_FCA74
seg000:CA46 26 89 05				    mov	    es:[di], ax
seg000:CA49 83 C7 02				    add	    di,	2
seg000:CA4C 46					    inc	    si
seg000:CA4D EB F0				    jmp	    short loc_FCA3F
seg000:CA4D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CA4F 46 61 75 6C	74 79 20 77+aFaultyWriteR_1 db 'Faulty write & read of 8259 Mask Reg',0
seg000:CA4F 72 69 74 65	20 26 20 72+					    ; DATA XREF: seg000:loc_FCA37o
seg000:CA74			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CA74
seg000:CA74			    loc_FCA74:				    ; CODE XREF: seg000:CA44j
seg000:CA74								    ; seg000:loc_FCA74j
seg000:CA74 EB FE				    jmp	    short loc_FCA74
seg000:CA76			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CA76
seg000:CA76			    loc_FCA76:				    ; CODE XREF: seg000:CA34j
seg000:CA76 33 C9				    xor	    cx,	cx
seg000:CA78
seg000:CA78			    loc_FCA78:				    ; CODE XREF: seg000:loc_FCA78j
seg000:CA78 E2 FE				    loop    loc_FCA78
seg000:CA7A B9 11 00				    mov	    cx,	11h
seg000:CA7D
seg000:CA7D			    loc_FCA7D:				    ; CODE XREF: seg000:CA92j
seg000:CA7D 87 D9				    xchg    bx,	cx
seg000:CA7F B0 88				    mov	    al,	88h ; 'ˆ'
seg000:CA81 E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:CA81								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:CA81								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:CA81								    ; 3: 1=read	high switches
seg000:CA81								    ; 4: 0=enable RAM parity checking
seg000:CA81								    ; 5: 0=enable I/O channel check
seg000:CA81								    ; 6: 0=hold	keyboard clock low
seg000:CA81								    ; 7: 0=enable kbrd
seg000:CA83 B0 20				    mov	    al,	20h ; ' '
seg000:CA85 E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:CA87 B0 08				    mov	    al,	8
seg000:CA89 E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:CA89								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:CA89								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:CA89								    ; 3: 1=read	high switches
seg000:CA89								    ; 4: 0=enable RAM parity checking
seg000:CA89								    ; 5: 0=enable I/O channel check
seg000:CA89								    ; 6: 0=hold	keyboard clock low
seg000:CA89								    ; 7: 0=enable kbrd
seg000:CA8B B9 A9 00				    mov	    cx,	0A9h ; '©'
seg000:CA8E
seg000:CA8E			    loc_FCA8E:				    ; CODE XREF: seg000:loc_FCA8Ej
seg000:CA8E E2 FE				    loop    loc_FCA8E
seg000:CA90 87 D9				    xchg    bx,	cx
seg000:CA92 E2 E9				    loop    loc_FCA7D
seg000:CA94 B8 01 00				    mov	    ax,	1
seg000:CA97 A3 10 00				    mov	    ds:pbbe80.field_10,	ax
seg000:CA9A 33 C0				    xor	    ax,	ax
seg000:CA9C A3 0E 00				    mov	    ds:pbbe80.field_E, ax
seg000:CA9F B9 5A 5A				    mov	    cx,	5A5Ah
seg000:CAA2 BD 00 00				    mov	    bp,	0
seg000:CAA5
seg000:CAA5			    loc_FCAA5:				    ; CODE XREF: seg000:CACFj
seg000:CAA5 BB FE FF				    mov	    bx,	0FFFEh
seg000:CAA8
seg000:CAA8			    loc_FCAA8:				    ; CODE XREF: seg000:CAD4j
seg000:CAA8 8E C5				    mov	    es,	bp
seg000:CAAA BE FE FF				    mov	    si,	0FFFEh
seg000:CAAD
seg000:CAAD			    loc_FCAAD:				    ; CODE XREF: seg000:CABAj
seg000:CAAD 8B C3				    mov	    ax,	bx
seg000:CAAF 33 C1				    xor	    ax,	cx
seg000:CAB1 33 C5				    xor	    ax,	bp
seg000:CAB3 26 89 07				    mov	    es:[bx], ax
seg000:CAB6 4B					    dec	    bx
seg000:CAB7 4B					    dec	    bx
seg000:CAB8 3B DE				    cmp	    bx,	si
seg000:CABA 75 F1				    jnz	    short loc_FCAAD
seg000:CABC 8B C5				    mov	    ax,	bp
seg000:CABE 05 00 10				    add	    ax,	1000h
seg000:CAC1 8B E8				    mov	    bp,	ax
seg000:CAC3 A1 0B 00				    mov	    ax,	ds:pbbe80.field_B
seg000:CAC6 05 00 10				    add	    ax,	1000h
seg000:CAC9 3B C5				    cmp	    ax,	bp
seg000:CACB 74 04				    jz	    short loc_FCAD1
seg000:CACD 72 07				    jb	    short loc_FCAD6
seg000:CACF EB D4				    jmp	    short loc_FCAA5
seg000:CAD1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CAD1
seg000:CAD1			    loc_FCAD1:				    ; CODE XREF: seg000:CACBj
seg000:CAD1 BB FE BF				    mov	    bx,	0BFFEh
seg000:CAD4 EB D2				    jmp	    short loc_FCAA8
seg000:CAD6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CAD6
seg000:CAD6			    loc_FCAD6:				    ; CODE XREF: seg000:CACDj
seg000:CAD6 BD 00 00				    mov	    bp,	0
seg000:CAD9
seg000:CAD9			    loc_FCAD9:				    ; CODE XREF: seg000:CB07j
seg000:CAD9 BB FE FF				    mov	    bx,	0FFFEh
seg000:CADC
seg000:CADC			    loc_FCADC:				    ; CODE XREF: seg000:CB0Cj
seg000:CADC 8E C5				    mov	    es,	bp
seg000:CADE
seg000:CADE			    loc_FCADE:				    ; CODE XREF: seg000:CAF5j
seg000:CADE 8B C3				    mov	    ax,	bx
seg000:CAE0 33 C1				    xor	    ax,	cx
seg000:CAE2 33 C5				    xor	    ax,	bp
seg000:CAE4 8B F0				    mov	    si,	ax
seg000:CAE6 26 8B 3F				    mov	    di,	es:[bx]
seg000:CAE9 3B F7				    cmp	    si,	di
seg000:CAEB 74 03				    jz	    short loc_FCAF0
seg000:CAED E8 9E 00				    call    sub_FCB8E
seg000:CAF0
seg000:CAF0			    loc_FCAF0:				    ; CODE XREF: seg000:CAEBj
seg000:CAF0 4B					    dec	    bx
seg000:CAF1 4B					    dec	    bx
seg000:CAF2 83 FB FE				    cmp	    bx,	0FFFEh
seg000:CAF5 75 E7				    jnz	    short loc_FCADE
seg000:CAF7 81 C5 00 10				    add	    bp,	1000h
seg000:CAFB A1 0B 00				    mov	    ax,	ds:pbbe80.field_B
seg000:CAFE 05 00 10				    add	    ax,	1000h
seg000:CB01 3B C5				    cmp	    ax,	bp
seg000:CB03 74 04				    jz	    short loc_FCB09
seg000:CB05 72 07				    jb	    short loc_FCB0E
seg000:CB07 EB D0				    jmp	    short loc_FCAD9
seg000:CB09			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB09
seg000:CB09			    loc_FCB09:				    ; CODE XREF: seg000:CB03j
seg000:CB09 BB FE BF				    mov	    bx,	0BFFEh
seg000:CB0C EB CE				    jmp	    short loc_FCADC
seg000:CB0E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB0E
seg000:CB0E			    loc_FCB0E:				    ; CODE XREF: seg000:CB05j
seg000:CB0E FC					    cld
seg000:CB0F BD 00 00				    mov	    bp,	0
seg000:CB12
seg000:CB12			    loc_FCB12:				    ; CODE XREF: seg000:CB2Ej
seg000:CB12 B9 00 80				    mov	    cx,	8000h
seg000:CB15
seg000:CB15			    loc_FCB15:				    ; CODE XREF: seg000:CB33j
seg000:CB15 8E C5				    mov	    es,	bp
seg000:CB17 BF 00 00				    mov	    di,	0
seg000:CB1A 33 C0				    xor	    ax,	ax
seg000:CB1C F3 AB				    rep	stosw
seg000:CB1E 81 C5 00 10				    add	    bp,	1000h
seg000:CB22 A1 0B 00				    mov	    ax,	ds:pbbe80.field_B
seg000:CB25 05 00 10				    add	    ax,	1000h
seg000:CB28 3B C5				    cmp	    ax,	bp
seg000:CB2A 74 04				    jz	    short loc_FCB30
seg000:CB2C 72 07				    jb	    short loc_FCB35
seg000:CB2E EB E2				    jmp	    short loc_FCB12
seg000:CB30			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB30
seg000:CB30			    loc_FCB30:				    ; CODE XREF: seg000:CB2Aj
seg000:CB30 B9 FE 5F				    mov	    cx,	5FFEh
seg000:CB33 EB E0				    jmp	    short loc_FCB15
seg000:CB35			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB35
seg000:CB35			    loc_FCB35:				    ; CODE XREF: seg000:CB2Cj
seg000:CB35 B8 E8 BB				    mov	    ax,	0BBE8h
seg000:CB38 8E D8				    mov	    ds,	ax	    ; ds = 0xbbe8
seg000:CB3A A1 10 00				    mov	    ax,	ds:pbbe80.field_10
seg000:CB3D 3D 01 00				    cmp	    ax,	1
seg000:CB40 75 03				    jnz	    short loc_FCB45
seg000:CB42 E9 11 01				    jmp	    loc_FCC56
seg000:CB45			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB45
seg000:CB45			    loc_FCB45:				    ; CODE XREF: seg000:CB40j
seg000:CB45								    ; seg000:loc_FCB45j
seg000:CB45 EB FE				    jmp	    short loc_FCB45
seg000:CB45			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CB47 4D 65 6D 6F	72 79 20 45+aMemoryErrorInf db 'Memory Error Information:               Written  Read    Base   O'
seg000:CB47 72 72 6F 72	20 49 6E 66+					    ; DATA XREF: sub_FCB8E+Ao
seg000:CB47 6F 72 6D 61	74 69 6F 6E+		    db 'ffset',0
seg000:CB8E
seg000:CB8E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:CB8E
seg000:CB8E
seg000:CB8E			    sub_FCB8E	    proc near		    ; CODE XREF: seg000:CAEDp
seg000:CB8E 89 36 10 00				    mov	    ds:pbbe80.field_10,	si
seg000:CB92 8B F7				    mov	    si,	di
seg000:CB94 56					    push    si
seg000:CB95 BF 4A 01				    mov	    di,	14Ah
seg000:CB98 BE 47 CB				    mov	    si,	offset aMemoryErrorInf ; "Memory Error Information:		 "...
seg000:CB9B E8 9D 00				    call    print_asciiz
seg000:CB9E 5E					    pop	    si
seg000:CB9F A1 0E 00				    mov	    ax,	ds:pbbe80.field_E
seg000:CBA2 3C 0F				    cmp	    al,	0Fh
seg000:CBA4 74 04				    jz	    short l0
seg000:CBA6 40					    inc	    ax
seg000:CBA7 A3 0E 00				    mov	    ds:pbbe80.field_E, ax
seg000:CBAA
seg000:CBAA			    l0:					    ; CODE XREF: sub_FCB8E+16j
seg000:CBAA A1 0E 00				    mov	    ax,	ds:pbbe80.field_E
seg000:CBAD B4 50				    mov	    ah,	50h ; 'P'
seg000:CBAF F6 E4				    mul	    ah
seg000:CBB1 BF EC 01				    mov	    di,	1ECh
seg000:CBB4 03 F8				    add	    di,	ax
seg000:CBB6 A1 10 00				    mov	    ax,	ds:pbbe80.field_10
seg000:CBB9 E8 1D 00				    call    sub_FCBD9
seg000:CBBC 83 C7 08				    add	    di,	8
seg000:CBBF 8B C6				    mov	    ax,	si
seg000:CBC1 E8 15 00				    call    sub_FCBD9
seg000:CBC4 83 C7 08				    add	    di,	8
seg000:CBC7 8B C5				    mov	    ax,	bp
seg000:CBC9 E8 0D 00				    call    sub_FCBD9
seg000:CBCC 83 C7 08				    add	    di,	8
seg000:CBCF 8B C3				    mov	    ax,	bx
seg000:CBD1 E8 05 00				    call    sub_FCBD9
seg000:CBD4 8B 36 10 00				    mov	    si,	ds:pbbe80.field_10
seg000:CBD8 C3					    retn
seg000:CBD8			    sub_FCB8E	    endp
seg000:CBD8
seg000:CBD9
seg000:CBD9			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:CBD9
seg000:CBD9
seg000:CBD9			    sub_FCBD9	    proc near		    ; CODE XREF: sub_FCB8E+2Bp
seg000:CBD9								    ; sub_FCB8E+33p
seg000:CBD9								    ; sub_FCB8E+3Bp
seg000:CBD9								    ; sub_FCB8E+43p
seg000:CBD9 8B D0				    mov	    dx,	ax
seg000:CBDB B8 00 B8				    mov	    ax,	0B800h
seg000:CBDE 8E C0				    mov	    es,	ax	    ; es = 0xb800
seg000:CBE0 8A C6				    mov	    al,	dh
seg000:CBE2 D0 E8				    shr	    al,	1
seg000:CBE4 D0 E8				    shr	    al,	1
seg000:CBE6 D0 E8				    shr	    al,	1
seg000:CBE8 D0 E8				    shr	    al,	1
seg000:CBEA 24 0F				    and	    al,	0Fh
seg000:CBEC 04 30				    add	    al,	30h ; '0'
seg000:CBEE 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:CBF0 78 02				    js	    short l0
seg000:CBF2 04 07				    add	    al,	7
seg000:CBF4
seg000:CBF4			    l0:					    ; CODE XREF: sub_FCBD9+17j
seg000:CBF4 B4 07				    mov	    ah,	7
seg000:CBF6 26 89 05				    mov	    es:[di], ax
seg000:CBF9 47					    inc	    di
seg000:CBFA 47					    inc	    di
seg000:CBFB 8A C6				    mov	    al,	dh
seg000:CBFD 24 0F				    and	    al,	0Fh
seg000:CBFF 04 30				    add	    al,	30h ; '0'
seg000:CC01 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:CC03 78 02				    js	    short l1
seg000:CC05 04 07				    add	    al,	7
seg000:CC07
seg000:CC07			    l1:					    ; CODE XREF: sub_FCBD9+2Aj
seg000:CC07 26 89 05				    mov	    es:[di], ax
seg000:CC0A 47					    inc	    di
seg000:CC0B 47					    inc	    di
seg000:CC0C 8A C2				    mov	    al,	dl
seg000:CC0E D0 E8				    shr	    al,	1
seg000:CC10 D0 E8				    shr	    al,	1
seg000:CC12 D0 E8				    shr	    al,	1
seg000:CC14 D0 E8				    shr	    al,	1
seg000:CC16 24 0F				    and	    al,	0Fh
seg000:CC18 04 30				    add	    al,	30h ; '0'
seg000:CC1A 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:CC1C 78 02				    js	    short l2
seg000:CC1E 04 07				    add	    al,	7
seg000:CC20
seg000:CC20			    l2:					    ; CODE XREF: sub_FCBD9+43j
seg000:CC20 26 89 05				    mov	    es:[di], ax
seg000:CC23 47					    inc	    di
seg000:CC24 47					    inc	    di
seg000:CC25 8A C2				    mov	    al,	dl
seg000:CC27 24 0F				    and	    al,	0Fh
seg000:CC29 04 30				    add	    al,	30h ; '0'
seg000:CC2B 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:CC2D 78 02				    js	    short l3
seg000:CC2F 04 07				    add	    al,	7
seg000:CC31
seg000:CC31			    l3:					    ; CODE XREF: sub_FCBD9+54j
seg000:CC31 26 89 05				    mov	    es:[di], ax
seg000:CC34 47					    inc	    di
seg000:CC35 47					    inc	    di
seg000:CC36 8B C5				    mov	    ax,	bp
seg000:CC38 8E C0				    mov	    es,	ax
seg000:CC3A C3					    retn
seg000:CC3A			    sub_FCBD9	    endp
seg000:CC3A
seg000:CC3B
seg000:CC3B			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:CC3B
seg000:CC3B			    ; print asciiz
seg000:CC3B			    ;
seg000:CC3B			    ; input:
seg000:CC3B			    ;	      cs:si -> asciiz
seg000:CC3B			    ;	  0xb800:di -> destination
seg000:CC3B
seg000:CC3B			    print_asciiz    proc near		    ; CODE XREF: sub_FCB8E+Dp
seg000:CC3B B8 00 B8				    mov	    ax,	0B800h
seg000:CC3E 8E C0				    mov	    es,	ax	    ; es = 0xb800
seg000:CC40 B4 07				    mov	    ah,	7
seg000:CC42
seg000:CC42			    loop:				    ; CODE XREF: print_asciiz+14j
seg000:CC42 2E 8A 04				    mov	    al,	cs:[si]
seg000:CC45 0A C0				    or	    al,	al
seg000:CC47 74 08				    jz	    short exit
seg000:CC49 26 89 05				    mov	    es:[di], ax
seg000:CC4C 47					    inc	    di
seg000:CC4D 47					    inc	    di
seg000:CC4E 46					    inc	    si
seg000:CC4F EB F1				    jmp	    short loop
seg000:CC51			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC51
seg000:CC51			    exit:				    ; CODE XREF: print_asciiz+Cj
seg000:CC51 8B C5				    mov	    ax,	bp
seg000:CC53 8E C0				    mov	    es,	ax
seg000:CC55 C3					    retn
seg000:CC55			    print_asciiz    endp
seg000:CC55
seg000:CC56			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC56
seg000:CC56			    loc_FCC56:				    ; CODE XREF: seg000:CB42j
seg000:CC56 E9 2A 14				    jmp	    loc_FE083
seg000:CC59
seg000:CC59			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:CC59
seg000:CC59
seg000:CC59			    int_13	    proc far		    ; DATA XREF: seg000:FF09o
seg000:CC59
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:CFB4 SIZE 00000076 BYTES
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:D02B SIZE 00000025 BYTES
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:D051 SIZE 0000000A BYTES
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:D05C SIZE 0000000C BYTES
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:D069 SIZE 0000000E BYTES
seg000:CC59			    ; FUNCTION CHUNK AT	seg000:D078 SIZE 00000074 BYTES
seg000:CC59
seg000:CC59 E8 E2 0C				    call    int_push_regs
seg000:CC5C BF 0C 00				    mov	    di,	0Ch
seg000:CC5F 90					    nop
seg000:CC60 E8 F5 0C				    call    check_valid_subfunction
seg000:CC63 72 2E				    jb	    short error
seg000:CC65 53					    push    bx
seg000:CC66 8B 1E 10 00				    mov	    bx,	ds:p400.installed_hardware
seg000:CC6A F7 C3 00 01				    test    bx,	100h	    ; dma present ?
seg000:CC6E 5B					    pop	    bx
seg000:CC6F 74 05				    jz	    short no_dma
seg000:CC71 2E FF A5 87	CC			    jmp	    word ptr cs:int_13_jmp_tbl_dma[di]
seg000:CC76			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC76
seg000:CC76			    no_dma:				    ; CODE XREF: int_13+16j
seg000:CC76 2E FF A5 7B	CC			    jmp	    word ptr cs:int_13_jmp_tbl[di]
seg000:CC76			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC7B			    int_13_jmp_tbl:			    ; DATA XREF: int_13:no_dmar
seg000:CC7B 9B CC				    dw offset int_13_00
seg000:CC7D 1A CD				    dw offset int_13_01
seg000:CC7F 2D CD				    dw offset int_13_02
seg000:CC81 36 CD				    dw offset int_13_03
seg000:CC83 3F CD				    dw offset int_13_04
seg000:CC85 5C D0				    dw offset int_13_05
seg000:CC87			    int_13_jmp_tbl_dma:			    ; DATA XREF: int_13+18r
seg000:CC87 9B CC				    dw offset int_13_00
seg000:CC89 1A CD				    dw offset int_13_01
seg000:CC8B C8 CD				    dw offset int_13_02_dma
seg000:CC8D D3 CD				    dw offset int_13_03_dma
seg000:CC8F DE CD				    dw offset int_13_04_dma
seg000:CC91 B4 CF				    dw offset int_13_05_dma
seg000:CC93			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC93
seg000:CC93			    error:				    ; CODE XREF: int_13+Aj
seg000:CC93 C6 06 41 00	01			    mov	    byte ptr ds:p400.diskette_last_status, 1
seg000:CC98 E9 31 04				    jmp	    exit
seg000:CC9B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CC9B
seg000:CC9B			    int_13_00:				    ; CODE XREF: int_13+18j
seg000:CC9B								    ; int_13:no_dmaj
seg000:CC9B								    ; DATA XREF: int_13:int_13_jmp_tblo
seg000:CC9B								    ; int_13:int_13_jmp_tbl_dmao
seg000:CC9B C6 06 41 00	00			    mov	    byte ptr ds:p400.diskette_last_status, 0
seg000:CCA0 80 26 3E 00	70			    and	    byte ptr ds:p400.diskette_recalibrate_status, 70h
seg000:CCA5 FA					    cli
seg000:CCA6 8A 16 3F 00				    mov	    dl,	ds:p400.diskette_motor_status
seg000:CCAA B0 03				    mov	    al,	3
seg000:CCAC F6 C2 08				    test    dl,	8
seg000:CCAF 75 10				    jnz	    short loc_FCCC1
seg000:CCB1 B0 02				    mov	    al,	2
seg000:CCB3 F6 C2 04				    test    dl,	4
seg000:CCB6 75 09				    jnz	    short loc_FCCC1
seg000:CCB8 B0 01				    mov	    al,	1
seg000:CCBA F6 C2 02				    test    dl,	2
seg000:CCBD 75 02				    jnz	    short loc_FCCC1
seg000:CCBF 32 C0				    xor	    al,	al
seg000:CCC1
seg000:CCC1			    loc_FCCC1:				    ; CODE XREF: int_13+56j
seg000:CCC1								    ; int_13+5Dj
seg000:CCC1								    ; int_13+64j
seg000:CCC1 B1 04				    mov	    cl,	4
seg000:CCC3 D2 E2				    shl	    dl,	cl
seg000:CCC5 80 E2 F0				    and	    dl,	0F0h
seg000:CCC8 0A C2				    or	    al,	dl
seg000:CCCA 0C 08				    or	    al,	8
seg000:CCCC BA F2 03				    mov	    dx,	3F2h
seg000:CCCF EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:CCCF								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:CCCF								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:CCCF								    ; 3:   1=enable diskette DMA and interrupts
seg000:CCCF								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:CCCF								    ;
seg000:CCD0 0C 04				    or	    al,	4
seg000:CCD2 EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:CCD2								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:CCD2								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:CCD2								    ; 3:   1=enable diskette DMA and interrupts
seg000:CCD2								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:CCD2								    ;
seg000:CCD3 FB					    sti
seg000:CCD4 E8 2C 04				    call    sub_FD103
seg000:CCD7 E8 86 06				    call    sub_FD360
seg000:CCDA 72 34				    jb	    short loc_FCD10
seg000:CCDC F6 C4 08				    test    ah,	8
seg000:CCDF 74 07				    jz	    short loc_FCCE8
seg000:CCE1 80 0E 41 00	20			    or	    byte ptr ds:p400.diskette_last_status, 20h
seg000:CCE6 EB 28				    jmp	    short loc_FCD10
seg000:CCE8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CCE8
seg000:CCE8			    loc_FCCE8:				    ; CODE XREF: int_13+86j
seg000:CCE8 B0 03				    mov	    al,	3
seg000:CCEA E8 FE 04				    call    sub_FD1EB
seg000:CCED 72 21				    jb	    short loc_FCD10
seg000:CCEF 33 DB				    xor	    bx,	bx
seg000:CCF1 B9 02 00				    mov	    cx,	2
seg000:CCF4 A1 10 00				    mov	    ax,	ds:p400.installed_hardware
seg000:CCF7 A9 00 01				    test    ax,	100h
seg000:CCFA 74 06				    jz	    short loc_FCD02
seg000:CCFC E8 F8 06				    call    sub_FD3F7
seg000:CCFF EB 04				    jmp	    short loc_FCD05
seg000:CCFF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD01 90					    db	90h ; 
seg000:CD02			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD02
seg000:CD02			    loc_FCD02:				    ; CODE XREF: int_13+A1j
seg000:CD02 E8 C5 06				    call    sub_FD3CA
seg000:CD05
seg000:CD05			    loc_FCD05:				    ; CODE XREF: int_13+A6j
seg000:CD05 72 09				    jb	    short loc_FCD10
seg000:CD07 33 C0				    xor	    ax,	ax
seg000:CD09 A2 41 00				    mov	    ds:p400.diskette_last_status, al
seg000:CD0C F8					    clc
seg000:CD0D E9 BC 03				    jmp	    exit
seg000:CD10			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD10
seg000:CD10			    loc_FCD10:				    ; CODE XREF: int_13+81j
seg000:CD10								    ; int_13+8Dj
seg000:CD10								    ; int_13+94j
seg000:CD10								    ; int_13:loc_FCD05j
seg000:CD10 32 C0				    xor	    al,	al
seg000:CD12 8A 26 41 00				    mov	    ah,	ds:p400.diskette_last_status
seg000:CD16 F9					    stc
seg000:CD17 E9 B2 03				    jmp	    exit
seg000:CD1A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD1A
seg000:CD1A			    int_13_01:				    ; CODE XREF: int_13+18j
seg000:CD1A								    ; int_13:no_dmaj
seg000:CD1A								    ; DATA XREF: int_13+24o
seg000:CD1A								    ; int_13+30o
seg000:CD1A 8A 26 41 00				    mov	    ah,	ds:p400.diskette_last_status
seg000:CD1E 8A C4				    mov	    al,	ah
seg000:CD20 80 FC 00				    cmp	    ah,	0
seg000:CD23 74 04				    jz	    short loc_FCD29
seg000:CD25 F9					    stc
seg000:CD26 E9 A3 03				    jmp	    exit
seg000:CD29			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD29
seg000:CD29			    loc_FCD29:				    ; CODE XREF: int_13+CAj
seg000:CD29 F8					    clc
seg000:CD2A E9 9F 03				    jmp	    exit
seg000:CD2D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD2D
seg000:CD2D			    int_13_02:				    ; CODE XREF: int_13:no_dmaj
seg000:CD2D								    ; DATA XREF: int_13+26o
seg000:CD2D B4 46				    mov	    ah,	46h ; 'F'
seg000:CD2F E8 2A 04				    call    diskette_no_dma_functions
seg000:CD32 B0 E6				    mov	    al,	0E6h ; 'æ'
seg000:CD34 EB 10				    jmp	    short loc_FCD46
seg000:CD36			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD36
seg000:CD36			    int_13_03:				    ; CODE XREF: int_13:no_dmaj
seg000:CD36								    ; DATA XREF: int_13+28o
seg000:CD36 B4 4A				    mov	    ah,	4Ah ; 'J'
seg000:CD38 E8 21 04				    call    diskette_no_dma_functions
seg000:CD3B B0 C5				    mov	    al,	0C5h ; 'Å'
seg000:CD3D EB 07				    jmp	    short loc_FCD46
seg000:CD3F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD3F
seg000:CD3F			    int_13_04:				    ; CODE XREF: int_13:no_dmaj
seg000:CD3F								    ; DATA XREF: int_13+2Ao
seg000:CD3F B4 42				    mov	    ah,	42h ; 'B'
seg000:CD41 E8 18 04				    call    diskette_no_dma_functions
seg000:CD44 B0 E6				    mov	    al,	0E6h ; 'æ'
seg000:CD46
seg000:CD46			    loc_FCD46:				    ; CODE XREF: int_13+DBj
seg000:CD46								    ; int_13+E4j
seg000:CD46 73 03				    jnb	    short loc_FCD4B
seg000:CD48 EB 6B				    jmp	    short loc_FCDB5
seg000:CD48			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD4A 90					    db	90h ; 
seg000:CD4B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD4B
seg000:CD4B			    loc_FCD4B:				    ; CODE XREF: int_13:loc_FCD46j
seg000:CD4B 51					    push    cx
seg000:CD4C 80 FA 04				    cmp	    dl,	4
seg000:CD4F 72 08				    jb	    short loc_FCD59
seg000:CD51 C6 06 41 00	01			    mov	    byte ptr ds:p400.diskette_last_status, 1
seg000:CD56
seg000:CD56			    loc_FCD56:				    ; CODE XREF: int_13+10Bj
seg000:CD56								    ; int_13+110j
seg000:CD56								    ; int_13+121j
seg000:CD56								    ; int_13+128j
seg000:CD56 EB 5C				    jmp	    short loc_FCDB4
seg000:CD56			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD58 90					    db	90h ; 
seg000:CD59			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CD59
seg000:CD59			    loc_FCD59:				    ; CODE XREF: int_13+F6j
seg000:CD59 C6 06 41 00	00			    mov	    byte ptr ds:p400.diskette_last_status, 0
seg000:CD5E E8 54 06				    call    get_diskette_params
seg000:CD61 E8 33 05				    call    sub_FD297
seg000:CD64 72 F0				    jb	    short loc_FCD56
seg000:CD66 E8 82 04				    call    sub_FD1EB
seg000:CD69 72 EB				    jb	    short loc_FCD56
seg000:CD6B 8A C2				    mov	    al,	dl
seg000:CD6D 24 03				    and	    al,	3
seg000:CD6F 52					    push    dx
seg000:CD70 D0 E6				    shl	    dh,	1
seg000:CD72 D0 E6				    shl	    dh,	1
seg000:CD74 0A C6				    or	    al,	dh
seg000:CD76 5A					    pop	    dx
seg000:CD77 E8 71 04				    call    sub_FD1EB
seg000:CD7A 72 DA				    jb	    short loc_FCD56
seg000:CD7C 8A C5				    mov	    al,	ch
seg000:CD7E E8 6A 04				    call    sub_FD1EB
seg000:CD81 72 D3				    jb	    short loc_FCD56
seg000:CD83 8A C6				    mov	    al,	dh
seg000:CD85 E8 63 04				    call    sub_FD1EB
seg000:CD88 72 2A				    jb	    short loc_FCDB4
seg000:CD8A 8A C1				    mov	    al,	cl
seg000:CD8C E8 5C 04				    call    sub_FD1EB
seg000:CD8F 72 23				    jb	    short loc_FCDB4
seg000:CD91 BB 03 00				    mov	    bx,	3
seg000:CD94 B9 04 00				    mov	    cx,	4
seg000:CD97 E8 30 06				    call    sub_FD3CA
seg000:CD9A 72 18				    jb	    short loc_FCDB4
seg000:CD9C E8 64 03				    call    sub_FD103
seg000:CD9F 72 13				    jb	    short loc_FCDB4
seg000:CDA1 B9 07 00				    mov	    cx,	7
seg000:CDA4 E8 9C 04				    call    sub_FD243
seg000:CDA7 72 0B				    jb	    short loc_FCDB4
seg000:CDA9 59					    pop	    cx
seg000:CDAA F6 C4 C0				    test    ah,	0C0h
seg000:CDAD 74 06				    jz	    short loc_FCDB5
seg000:CDAF E8 D5 05				    call    sub_FD387
seg000:CDB2 EB 01				    jmp	    short loc_FCDB5
seg000:CDB4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDB4
seg000:CDB4			    loc_FCDB4:				    ; CODE XREF: int_13:loc_FCD56j
seg000:CDB4								    ; int_13+12Fj
seg000:CDB4								    ; int_13+136j
seg000:CDB4								    ; int_13+141j
seg000:CDB4								    ; int_13+146j
seg000:CDB4								    ; int_13+14Ej
seg000:CDB4 59					    pop	    cx
seg000:CDB5
seg000:CDB5			    loc_FCDB5:				    ; CODE XREF: int_13+EFj
seg000:CDB5								    ; int_13+154j
seg000:CDB5								    ; int_13+159j
seg000:CDB5 32 C0				    xor	    al,	al
seg000:CDB7 8A 26 41 00				    mov	    ah,	ds:p400.diskette_last_status
seg000:CDBB 80 FC 00				    cmp	    ah,	0
seg000:CDBE 74 04				    jz	    short loc_FCDC4
seg000:CDC0 F9					    stc
seg000:CDC1 E9 08 03				    jmp	    exit
seg000:CDC4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDC4
seg000:CDC4			    loc_FCDC4:				    ; CODE XREF: int_13+165j
seg000:CDC4 F8					    clc
seg000:CDC5 E9 04 03				    jmp	    exit
seg000:CDC8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDC8
seg000:CDC8			    int_13_02_dma:			    ; CODE XREF: int_13+18j
seg000:CDC8								    ; int_13:no_dmaj
seg000:CDC8								    ; DATA XREF: int_13+32o
seg000:CDC8 51					    push    cx
seg000:CDC9 50					    push    ax
seg000:CDCA E8 82 01				    call    diskette_dma_functions
seg000:CDCD 50					    push    ax
seg000:CDCE B0 E6				    mov	    al,	0E6h ; 'æ'
seg000:CDD0 EB 14				    jmp	    short loc_FCDE6
seg000:CDD0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDD2 90					    db	90h ; 
seg000:CDD3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDD3
seg000:CDD3			    int_13_03_dma:			    ; CODE XREF: int_13+18j
seg000:CDD3								    ; int_13:no_dmaj
seg000:CDD3								    ; DATA XREF: int_13+34o
seg000:CDD3 51					    push    cx
seg000:CDD4 50					    push    ax
seg000:CDD5 E8 77 01				    call    diskette_dma_functions
seg000:CDD8 50					    push    ax
seg000:CDD9 B0 C5				    mov	    al,	0C5h ; 'Å'
seg000:CDDB EB 09				    jmp	    short loc_FCDE6
seg000:CDDB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDDD 90					    db	90h ; 
seg000:CDDE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDDE
seg000:CDDE			    int_13_04_dma:			    ; CODE XREF: int_13+18j
seg000:CDDE								    ; int_13:no_dmaj
seg000:CDDE								    ; DATA XREF: int_13+36o
seg000:CDDE 51					    push    cx
seg000:CDDF 50					    push    ax
seg000:CDE0 E8 6C 01				    call    diskette_dma_functions
seg000:CDE3 50					    push    ax
seg000:CDE4 B0 E6				    mov	    al,	0E6h ; 'æ'
seg000:CDE6
seg000:CDE6			    loc_FCDE6:				    ; CODE XREF: int_13+177j
seg000:CDE6								    ; int_13+182j
seg000:CDE6 73 03				    jnb	    short loc_FCDEB
seg000:CDE8 E9 4E 01				    jmp	    loc_FCF39
seg000:CDEB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDEB
seg000:CDEB			    loc_FCDEB:				    ; CODE XREF: int_13:loc_FCDE6j
seg000:CDEB 06					    push    es
seg000:CDEC 53					    push    bx
seg000:CDED 80 FA 04				    cmp	    dl,	4
seg000:CDF0 72 0B				    jb	    short loc_FCDFD
seg000:CDF2 C6 06 41 00	01			    mov	    byte ptr ds:p400.diskette_last_status, 1
seg000:CDF7 EB 01				    jmp	    short loc_FCDFA
seg000:CDF7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDF9 90					    db	90h ; 
seg000:CDFA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDFA
seg000:CDFA			    loc_FCDFA:				    ; CODE XREF: int_13+19Ej
seg000:CDFA								    ; int_13+1AFj
seg000:CDFA								    ; int_13+1B4j
seg000:CDFA								    ; int_13+1C5j
seg000:CDFA								    ; int_13+1CCj
seg000:CDFA								    ; int_13+1D3j ...
seg000:CDFA E9 34 01				    jmp	    loc_FCF31
seg000:CDFD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CDFD
seg000:CDFD			    loc_FCDFD:				    ; CODE XREF: int_13+197j
seg000:CDFD C6 06 41 00	00			    mov	    byte ptr ds:p400.diskette_last_status, 0
seg000:CE02 E8 B0 05				    call    get_diskette_params
seg000:CE05 E8 8F 04				    call    sub_FD297
seg000:CE08 72 F0				    jb	    short loc_FCDFA
seg000:CE0A E8 DE 03				    call    sub_FD1EB
seg000:CE0D 72 EB				    jb	    short loc_FCDFA
seg000:CE0F 8A C2				    mov	    al,	dl
seg000:CE11 24 03				    and	    al,	3
seg000:CE13 52					    push    dx
seg000:CE14 D0 E6				    shl	    dh,	1
seg000:CE16 D0 E6				    shl	    dh,	1
seg000:CE18 0A C6				    or	    al,	dh
seg000:CE1A 5A					    pop	    dx
seg000:CE1B E8 CD 03				    call    sub_FD1EB
seg000:CE1E 72 DA				    jb	    short loc_FCDFA
seg000:CE20 8A C5				    mov	    al,	ch
seg000:CE22 E8 C6 03				    call    sub_FD1EB
seg000:CE25 72 D3				    jb	    short loc_FCDFA
seg000:CE27 8A C6				    mov	    al,	dh
seg000:CE29 E8 BF 03				    call    sub_FD1EB
seg000:CE2C 72 CC				    jb	    short loc_FCDFA
seg000:CE2E 8A C1				    mov	    al,	cl
seg000:CE30 E8 B8 03				    call    sub_FD1EB
seg000:CE33 72 C5				    jb	    short loc_FCDFA
seg000:CE35 BB 03 00				    mov	    bx,	3
seg000:CE38 B9 04 00				    mov	    cx,	4
seg000:CE3B E8 9E 05				    call    sub_FD3DC
seg000:CE3E 72 BA				    jb	    short loc_FCDFA
seg000:CE40 A0 3F 00				    mov	    al,	ds:3Fh
seg000:CE43 B1 04				    mov	    cl,	4
seg000:CE45 D2 E0				    shl	    al,	cl
seg000:CE47 0C 4C				    or	    al,	4Ch
seg000:CE49 0A C2				    or	    al,	dl
seg000:CE4B 8A D0				    mov	    dl,	al
seg000:CE4D 5B					    pop	    bx
seg000:CE4E 07					    pop	    es
seg000:CE4F 59					    pop	    cx
seg000:CE50 58					    pop	    ax
seg000:CE51 52					    push    dx
seg000:CE52 8B FB				    mov	    di,	bx
seg000:CE54 8B F3				    mov	    si,	bx
seg000:CE56 B7 20				    mov	    bh,	20h ; ' '
seg000:CE58 80 FC 04				    cmp	    ah,	4
seg000:CE5B 75 03				    jnz	    short loc_FCE60
seg000:CE5D EB 6B				    jmp	    short loc_FCECA
seg000:CE5D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE5F 90					    db	90h ; 
seg000:CE60			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE60
seg000:CE60			    loc_FCE60:				    ; CODE XREF: int_13+202j
seg000:CE60 80 FC 03				    cmp	    ah,	3
seg000:CE63 74 33				    jz	    short loc_FCE98
seg000:CE65 8A C6				    mov	    al,	dh
seg000:CE67 BA F5 03				    mov	    dx,	3F5h
seg000:CE6A FA					    cli
seg000:CE6B EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:CE6C BA F4 03				    mov	    dx,	3F4h
seg000:CE6F B4 80				    mov	    ah,	80h ; '€'
seg000:CE71 EB 0B				    jmp	    short loc_FCE7E
seg000:CE71			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE73 90					    db	90h ; 
seg000:CE74			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE74
seg000:CE74			    loc_FCE74:				    ; CODE XREF: int_13+22Bj
seg000:CE74 E2 0B				    loop    loc_FCE81
seg000:CE76 80 0E 41 00	80			    or	    byte ptr ds:p400.diskette_last_status, 80h
seg000:CE7B E9 AD 00				    jmp	    loc_FCF2B
seg000:CE7E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE7E
seg000:CE7E			    loc_FCE7E:				    ; CODE XREF: int_13+218j
seg000:CE7E								    ; int_13+236j
seg000:CE7E 51					    push    cx
seg000:CE7F 33 C9				    xor	    cx,	cx
seg000:CE81
seg000:CE81			    loc_FCE81:				    ; CODE XREF: int_13:loc_FCE74j
seg000:CE81 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:CE81								    ; 0-3: diskette busy
seg000:CE81								    ; 4: 1=cntrlr busy
seg000:CE81								    ; 5: 1=non-DMA mode
seg000:CE81								    ; 6: Data dir: 1=cntrlr to CPU
seg000:CE81								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:CE82 84 C4				    test    al,	ah
seg000:CE84 74 EE				    jz	    short loc_FCE74
seg000:CE86 84 C7				    test    al,	bh
seg000:CE88 74 0A				    jz	    short loc_FCE94
seg000:CE8A 42					    inc	    dx
seg000:CE8B EC					    in	    al,	dx	    ; Floppy: FDC command/data register.
seg000:CE8C AA					    stosb
seg000:CE8D 59					    pop	    cx
seg000:CE8E 4A					    dec	    dx
seg000:CE8F E2 ED				    loop    loc_FCE7E
seg000:CE91 EB 76				    jmp	    short loc_FCF09
seg000:CE91			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE93 90					    db	90h ; 
seg000:CE94			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE94
seg000:CE94			    loc_FCE94:				    ; CODE XREF: int_13+22Fj
seg000:CE94 59					    pop	    cx
seg000:CE95 EB 72				    jmp	    short loc_FCF09
seg000:CE95			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE97 90					    db	90h ; 
seg000:CE98			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CE98
seg000:CE98			    loc_FCE98:				    ; CODE XREF: int_13+20Aj
seg000:CE98 8A C6				    mov	    al,	dh
seg000:CE9A BA F5 03				    mov	    dx,	3F5h
seg000:CE9D FA					    cli
seg000:CE9E EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:CE9F 4A					    dec	    dx
seg000:CEA0 B4 80				    mov	    ah,	80h ; '€'
seg000:CEA2 EB 0B				    jmp	    short loc_FCEAF
seg000:CEA2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEA4 90					    db	90h ; 
seg000:CEA5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEA5
seg000:CEA5			    loc_FCEA5:				    ; CODE XREF: int_13+25Cj
seg000:CEA5 E2 0B				    loop    loc_FCEB2
seg000:CEA7 80 0E 41 00	80			    or	    byte ptr ds:p400.diskette_last_status, 80h
seg000:CEAC EB 7D				    jmp	    short loc_FCF2B
seg000:CEAC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEAE 90					    db	90h ; 
seg000:CEAF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEAF
seg000:CEAF			    loc_FCEAF:				    ; CODE XREF: int_13+249j
seg000:CEAF								    ; int_13+268j
seg000:CEAF 51					    push    cx
seg000:CEB0 33 C9				    xor	    cx,	cx
seg000:CEB2
seg000:CEB2			    loc_FCEB2:				    ; CODE XREF: int_13:loc_FCEA5j
seg000:CEB2 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:CEB2								    ; 0-3: diskette busy
seg000:CEB2								    ; 4: 1=cntrlr busy
seg000:CEB2								    ; 5: 1=non-DMA mode
seg000:CEB2								    ; 6: Data dir: 1=cntrlr to CPU
seg000:CEB2								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:CEB3 84 C4				    test    al,	ah
seg000:CEB5 74 EE				    jz	    short loc_FCEA5
seg000:CEB7 84 C7				    test    al,	bh
seg000:CEB9 74 0B				    jz	    short loc_FCEC6
seg000:CEBB 26 AC				    lods    byte ptr es:[si]
seg000:CEBD 42					    inc	    dx
seg000:CEBE EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:CEBF 59					    pop	    cx
seg000:CEC0 4A					    dec	    dx
seg000:CEC1 E2 EC				    loop    loc_FCEAF
seg000:CEC3 EB 44				    jmp	    short loc_FCF09
seg000:CEC3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEC5 90					    db	90h ; 
seg000:CEC6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEC6
seg000:CEC6			    loc_FCEC6:				    ; CODE XREF: int_13+260j
seg000:CEC6 59					    pop	    cx
seg000:CEC7 EB 40				    jmp	    short loc_FCF09
seg000:CEC7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEC9 90					    db	90h ; 
seg000:CECA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CECA
seg000:CECA			    loc_FCECA:				    ; CODE XREF: int_13+204j
seg000:CECA 8A C6				    mov	    al,	dh
seg000:CECC BA F5 03				    mov	    dx,	3F5h
seg000:CECF FA					    cli
seg000:CED0 EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:CED1 B4 80				    mov	    ah,	80h ; '€'
seg000:CED3 4A					    dec	    dx
seg000:CED4 51					    push    cx
seg000:CED5 33 C9				    xor	    cx,	cx
seg000:CED7
seg000:CED7			    loc_FCED7:				    ; CODE XREF: int_13+283j
seg000:CED7 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:CED7								    ; 0-3: diskette busy
seg000:CED7								    ; 4: 1=cntrlr busy
seg000:CED7								    ; 5: 1=non-DMA mode
seg000:CED7								    ; 6: Data dir: 1=cntrlr to CPU
seg000:CED7								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:CED8 A8 80				    test    al,	80h
seg000:CEDA 75 0A				    jnz	    short loc_FCEE6
seg000:CEDC E2 F9				    loop    loc_FCED7
seg000:CEDE 80 0E 41 00	80			    or	    byte ptr ds:p400.diskette_last_status, 80h
seg000:CEE3 EB 46				    jmp	    short loc_FCF2B
seg000:CEE3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEE5 90					    db	90h ; 
seg000:CEE6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEE6
seg000:CEE6			    loc_FCEE6:				    ; CODE XREF: int_13+281j
seg000:CEE6 A8 20				    test    al,	20h
seg000:CEE8 75 15				    jnz	    short loc_FCEFF
seg000:CEEA EB 1C				    jmp	    short loc_FCF08
seg000:CEEA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEEC 90					    db	90h ; 
seg000:CEED			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEED
seg000:CEED			    loc_FCEED:				    ; CODE XREF: int_13+2AAj
seg000:CEED 51					    push    cx
seg000:CEEE 33 C9				    xor	    cx,	cx
seg000:CEF0
seg000:CEF0			    loc_FCEF0:				    ; CODE XREF: int_13+29Cj
seg000:CEF0 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:CEF0								    ; 0-3: diskette busy
seg000:CEF0								    ; 4: 1=cntrlr busy
seg000:CEF0								    ; 5: 1=non-DMA mode
seg000:CEF0								    ; 6: Data dir: 1=cntrlr to CPU
seg000:CEF0								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:CEF1 A8 80				    test    al,	80h
seg000:CEF3 75 0A				    jnz	    short loc_FCEFF
seg000:CEF5 E2 F9				    loop    loc_FCEF0
seg000:CEF7 80 0E 41 00	80			    or	    byte ptr ds:p400.diskette_last_status, 80h
seg000:CEFC EB 2D				    jmp	    short loc_FCF2B
seg000:CEFC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEFE 90					    db	90h ; 
seg000:CEFF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CEFF
seg000:CEFF			    loc_FCEFF:				    ; CODE XREF: int_13+28Fj
seg000:CEFF								    ; int_13+29Aj
seg000:CEFF 42					    inc	    dx
seg000:CF00 EC					    in	    al,	dx	    ; Floppy: FDC command/data register.
seg000:CF01 59					    pop	    cx
seg000:CF02 4A					    dec	    dx
seg000:CF03 E2 E8				    loop    loc_FCEED
seg000:CF05 EB 02				    jmp	    short loc_FCF09
seg000:CF05			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF07 90					    db	90h ; 
seg000:CF08			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF08
seg000:CF08			    loc_FCF08:				    ; CODE XREF: int_13+291j
seg000:CF08 59					    pop	    cx
seg000:CF09
seg000:CF09			    loc_FCF09:				    ; CODE XREF: int_13+238j
seg000:CF09								    ; int_13+23Cj
seg000:CF09								    ; int_13+26Aj
seg000:CF09								    ; int_13+26Ej
seg000:CF09								    ; int_13+2ACj
seg000:CF09 58					    pop	    ax
seg000:CF0A BA F2 03				    mov	    dx,	3F2h
seg000:CF0D EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:CF0D								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:CF0D								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:CF0D								    ; 3:   1=enable diskette DMA and interrupts
seg000:CF0D								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:CF0D								    ;
seg000:CF0E 24 BF				    and	    al,	0BFh
seg000:CF10 EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:CF10								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:CF10								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:CF10								    ; 3:   1=enable diskette DMA and interrupts
seg000:CF10								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:CF10								    ;
seg000:CF11 FB					    sti
seg000:CF12 E8 13 02				    call    sub_FD128
seg000:CF15 72 16				    jb	    short loc_FCF2D
seg000:CF17 B9 07 00				    mov	    cx,	7
seg000:CF1A E8 26 03				    call    sub_FD243
seg000:CF1D 72 0E				    jb	    short loc_FCF2D
seg000:CF1F 59					    pop	    cx
seg000:CF20 F6 C4 C0				    test    ah,	0C0h
seg000:CF23 74 17				    jz	    short loc_FCF3C
seg000:CF25 E8 5F 04				    call    sub_FD387
seg000:CF28 EB 12				    jmp	    short loc_FCF3C
seg000:CF28			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF2A 90					    db	90h ; 
seg000:CF2B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF2B
seg000:CF2B			    loc_FCF2B:				    ; CODE XREF: int_13+222j
seg000:CF2B								    ; int_13+253j
seg000:CF2B								    ; int_13+28Aj
seg000:CF2B								    ; int_13+2A3j
seg000:CF2B 59					    pop	    cx
seg000:CF2C 5A					    pop	    dx
seg000:CF2D
seg000:CF2D			    loc_FCF2D:				    ; CODE XREF: int_13+2BCj
seg000:CF2D								    ; int_13+2C4j
seg000:CF2D 59					    pop	    cx
seg000:CF2E EB 0C				    jmp	    short loc_FCF3C
seg000:CF2E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF30 90					    db	90h ; 
seg000:CF31			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF31
seg000:CF31			    loc_FCF31:				    ; CODE XREF: int_13:loc_FCDFAj
seg000:CF31 5B					    pop	    bx
seg000:CF32 07					    pop	    es
seg000:CF33 58					    pop	    ax
seg000:CF34 58					    pop	    ax
seg000:CF35 59					    pop	    cx
seg000:CF36 EB 04				    jmp	    short loc_FCF3C
seg000:CF36			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF38 90					    db	90h ; 
seg000:CF39			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF39
seg000:CF39			    loc_FCF39:				    ; CODE XREF: int_13+18Fj
seg000:CF39 58					    pop	    ax
seg000:CF3A 58					    pop	    ax
seg000:CF3B 59					    pop	    cx
seg000:CF3C
seg000:CF3C			    loc_FCF3C:				    ; CODE XREF: int_13+2CAj
seg000:CF3C								    ; int_13+2CFj
seg000:CF3C								    ; int_13+2D5j
seg000:CF3C								    ; int_13+2DDj
seg000:CF3C 32 C0				    xor	    al,	al
seg000:CF3E 8A 26 41 00				    mov	    ah,	ds:p400.diskette_last_status
seg000:CF42 80 FC 00				    cmp	    ah,	0
seg000:CF45 74 04				    jz	    short loc_FCF4B
seg000:CF47 F9					    stc
seg000:CF48 E9 81 01				    jmp	    exit
seg000:CF4B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF4B
seg000:CF4B			    loc_FCF4B:				    ; CODE XREF: int_13+2ECj
seg000:CF4B F8					    clc
seg000:CF4C E9 7D 01				    jmp	    exit
seg000:CF4C			    int_13	    endp
seg000:CF4C
seg000:CF4F
seg000:CF4F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:CF4F
seg000:CF4F			    ; Attributes: bp-based frame
seg000:CF4F
seg000:CF4F			    diskette_dma_functions proc	near	    ; CODE XREF: int_13+171p
seg000:CF4F								    ; int_13+17Cp
seg000:CF4F								    ; int_13+187p
seg000:CF4F								    ; int_13+36Dp
seg000:CF4F 51					    push    cx
seg000:CF50 52					    push    dx
seg000:CF51 06					    push    es
seg000:CF52 53					    push    bx
seg000:CF53 50					    push    ax
seg000:CF54 B0 06				    mov	    al,	6
seg000:CF56 E6 0F				    out	    0Fh, al	    ; DMA controller, 8237A-5.
seg000:CF56								    ; master clear. Clear or mask any or
seg000:CF56								    ; all of the channels. Bits:
seg000:CF56								    ; 0: 1=mask	channel	0; 0=enable
seg000:CF56								    ; 1: 1=mask	channel	1;
seg000:CF56								    ; 2: 1=mask	channel	2;
seg000:CF56								    ; 3: 1=mask	channel	3;
seg000:CF58 8B EC				    mov	    bp,	sp
seg000:CF5A E8 58 04				    call    get_diskette_params
seg000:CF5D 26 8A 4C 03				    mov	    cl,	es:[si+3]
seg000:CF61 BA 80 00				    mov	    dx,	80h ; '€'
seg000:CF64 D3 E2				    shl	    dx,	cl
seg000:CF66 8B 46 00				    mov	    ax,	[bp+0]
seg000:CF69 32 E4				    xor	    ah,	ah
seg000:CF6B F7 E2				    mul	    dx
seg000:CF6D 83 FA 00				    cmp	    dx,	0
seg000:CF70 75 36				    jnz	    short loc_FCFA8
seg000:CF72 8B D3				    mov	    dx,	bx
seg000:CF74 03 D8				    add	    bx,	ax
seg000:CF76 72 04				    jb	    short loc_FCF7C
seg000:CF78 F8					    clc
seg000:CF79 EB 33				    jmp	    short loc_FCFAE
seg000:CF79			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF7B 90					    db	90h ; 
seg000:CF7C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CF7C
seg000:CF7C			    loc_FCF7C:				    ; CODE XREF: diskette_dma_functions+27j
seg000:CF7C 8B DA				    mov	    bx,	dx
seg000:CF7E 81 E3 0F 00				    and	    bx,	0Fh
seg000:CF82 03 D8				    add	    bx,	ax
seg000:CF84 72 28				    jb	    short loc_FCFAE
seg000:CF86 59					    pop	    cx
seg000:CF87 59					    pop	    cx
seg000:CF88 07					    pop	    es
seg000:CF89 8B DA				    mov	    bx,	dx
seg000:CF8B B1 04				    mov	    cl,	4
seg000:CF8D D3 EB				    shr	    bx,	cl
seg000:CF8F 8C C1				    mov	    cx,	es
seg000:CF91 03 CB				    add	    cx,	bx
seg000:CF93 72 0C				    jb	    short loc_FCFA1
seg000:CF95 8E C1				    mov	    es,	cx
seg000:CF97 8B DA				    mov	    bx,	dx
seg000:CF99 81 E3 0F 00				    and	    bx,	0Fh
seg000:CF9D F8					    clc
seg000:CF9E
seg000:CF9E			    loc_FCF9E:				    ; CODE XREF: diskette_dma_functions+57j
seg000:CF9E 5A					    pop	    dx
seg000:CF9F 59					    pop	    cx
seg000:CFA0 C3					    retn
seg000:CFA1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CFA1
seg000:CFA1			    loc_FCFA1:				    ; CODE XREF: diskette_dma_functions+44j
seg000:CFA1 C6 06 41 00	09			    mov	    byte ptr ds:p400.diskette_last_status, 9
seg000:CFA6 EB F6				    jmp	    short loc_FCF9E
seg000:CFA8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CFA8
seg000:CFA8			    loc_FCFA8:				    ; CODE XREF: diskette_dma_functions+21j
seg000:CFA8 F9					    stc
seg000:CFA9 C6 06 41 00	09			    mov	    byte ptr ds:p400.diskette_last_status, 9
seg000:CFAE
seg000:CFAE			    loc_FCFAE:				    ; CODE XREF: diskette_dma_functions+2Aj
seg000:CFAE								    ; diskette_dma_functions+35j
seg000:CFAE 5B					    pop	    bx
seg000:CFAF 5B					    pop	    bx
seg000:CFB0 07					    pop	    es
seg000:CFB1 5A					    pop	    dx
seg000:CFB2 59					    pop	    cx
seg000:CFB3 C3					    retn
seg000:CFB3			    diskette_dma_functions endp
seg000:CFB3
seg000:CFB4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CFB4			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:CFB4
seg000:CFB4			    int_13_05_dma:			    ; CODE XREF: int_13+18j
seg000:CFB4								    ; int_13:no_dmaj
seg000:CFB4								    ; DATA XREF: int_13+38o
seg000:CFB4 80 FA 04				    cmp	    dl,	4
seg000:CFB7 72 08				    jb	    short loc_FCFC1
seg000:CFB9 C6 06 41 00	01			    mov	    byte ptr ds:41h, 1
seg000:CFBE E9 88 00				    jmp	    loc_FD049
seg000:CFC1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CFC1
seg000:CFC1			    loc_FCFC1:				    ; CODE XREF: int_13+35Ej
seg000:CFC1 C6 06 41 00	00			    mov	    byte ptr ds:41h, 0
seg000:CFC6 E8 86 FF				    call    diskette_dma_functions
seg000:CFC9 50					    push    ax
seg000:CFCA 06					    push    es
seg000:CFCB 53					    push    bx
seg000:CFCC 73 03				    jnb	    short loc_FCFD1
seg000:CFCE
seg000:CFCE			    loc_FCFCE:				    ; CODE XREF: int_13+37Ej
seg000:CFCE								    ; int_13+385j
seg000:CFCE E9 80 00				    jmp	    loc_FD051
seg000:CFD1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:CFD1
seg000:CFD1			    loc_FCFD1:				    ; CODE XREF: int_13+373j
seg000:CFD1 E8 E1 03				    call    get_diskette_params
seg000:CFD4 E8 C0 02				    call    sub_FD297
seg000:CFD7 72 F5				    jb	    short loc_FCFCE
seg000:CFD9 B0 4D				    mov	    al,	4Dh ; 'M'
seg000:CFDB E8 0D 02				    call    sub_FD1EB
seg000:CFDE 72 EE				    jb	    short loc_FCFCE
seg000:CFE0 8A C2				    mov	    al,	dl
seg000:CFE2 24 03				    and	    al,	3
seg000:CFE4 D0 E6				    shl	    dh,	1
seg000:CFE6 D0 E6				    shl	    dh,	1
seg000:CFE8 0A C6				    or	    al,	dh
seg000:CFEA E8 FE 01				    call    sub_FD1EB
seg000:CFED 72 62				    jb	    short loc_FD051
seg000:CFEF BB 03 00				    mov	    bx,	3
seg000:CFF2 B9 02 00				    mov	    cx,	2
seg000:CFF5 E8 D2 03				    call    sub_FD3CA
seg000:CFF8 72 57				    jb	    short loc_FD051
seg000:CFFA 4B					    dec	    bx
seg000:CFFB 26 8A 10				    mov	    dl,	es:[bx+si]
seg000:CFFE FA					    cli
seg000:CFFF BB 07 00				    mov	    bx,	7
seg000:D002 E8 D7 03				    call    sub_FD3DC
seg000:D005 72 4A				    jb	    short loc_FD051
seg000:D007 5B					    pop	    bx
seg000:D008 07					    pop	    es
seg000:D009 59					    pop	    cx
seg000:D00A B0 04				    mov	    al,	4
seg000:D00C F6 E2				    mul	    dl
seg000:D00E 8B C8				    mov	    cx,	ax
seg000:D010 8A C6				    mov	    al,	dh
seg000:D012 B4 80				    mov	    ah,	80h ; '€'
seg000:D014 BA F5 03				    mov	    dx,	3F5h
seg000:D017 EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:D018
seg000:D018			    loc_FD018:				    ; CODE XREF: int_13+3D9j
seg000:D018 51					    push    cx
seg000:D019 33 C9				    xor	    cx,	cx
seg000:D01B 4A					    dec	    dx
seg000:D01C
seg000:D01C			    loc_FD01C:				    ; CODE XREF: int_13+3C8j
seg000:D01C EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D01C								    ; 0-3: diskette busy
seg000:D01C								    ; 4: 1=cntrlr busy
seg000:D01C								    ; 5: 1=non-DMA mode
seg000:D01C								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D01C								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D01D 84 C4				    test    al,	ah
seg000:D01F 75 0A				    jnz	    short loc_FD02B
seg000:D021 E2 F9				    loop    loc_FD01C
seg000:D023 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D028 EB 29				    jmp	    short loc_FD053
seg000:D028			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D028			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D02A 90					    db	90h ; 
seg000:D02B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D02B			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:D02B
seg000:D02B			    loc_FD02B:				    ; CODE XREF: int_13+3C6j
seg000:D02B 26 8A 07				    mov	    al,	es:[bx]
seg000:D02E 42					    inc	    dx
seg000:D02F EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:D030 43					    inc	    bx
seg000:D031 59					    pop	    cx
seg000:D032 E2 E4				    loop    loc_FD018
seg000:D034 E8 F1 00				    call    sub_FD128
seg000:D037 B9 07 00				    mov	    cx,	7
seg000:D03A E8 06 02				    call    sub_FD243
seg000:D03D 72 15				    jb	    short loc_FD054
seg000:D03F F6 C4 C0				    test    ah,	0C0h
seg000:D042 74 7C				    jz	    short loc_FD0C0
seg000:D044 E8 40 03				    call    sub_FD387
seg000:D047 EB 0B				    jmp	    short loc_FD054
seg000:D049			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D049
seg000:D049			    loc_FD049:				    ; CODE XREF: int_13+365j
seg000:D049 8A 26 41 00				    mov	    ah,	ds:41h
seg000:D04D F8					    clc
seg000:D04E EB 7C				    jmp	    short exit
seg000:D04E			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D04E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D050 90					    db	90h ; 
seg000:D051			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D051			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:D051
seg000:D051			    loc_FD051:				    ; CODE XREF: int_13:loc_FCFCEj
seg000:D051								    ; int_13+394j
seg000:D051								    ; int_13+39Fj
seg000:D051								    ; int_13+3ACj
seg000:D051 5B					    pop	    bx
seg000:D052 07					    pop	    es
seg000:D053
seg000:D053			    loc_FD053:				    ; CODE XREF: int_13+3CFj
seg000:D053 58					    pop	    ax
seg000:D054
seg000:D054			    loc_FD054:				    ; CODE XREF: int_13+3E4j
seg000:D054								    ; int_13+3EEj
seg000:D054 8A 26 41 00				    mov	    ah,	ds:41h
seg000:D058 F9					    stc
seg000:D059 EB 71				    jmp	    short exit
seg000:D059			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D059			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D05B 90					    db	90h ; 
seg000:D05C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D05C			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:D05C
seg000:D05C			    int_13_05:				    ; CODE XREF: int_13:no_dmaj
seg000:D05C								    ; DATA XREF: int_13+2Co
seg000:D05C 80 FA 04				    cmp	    dl,	4
seg000:D05F 72 08				    jb	    short loc_FD069
seg000:D061 C6 06 41 00	01			    mov	    byte ptr ds:41h, 1
seg000:D066 EB 58				    jmp	    short loc_FD0C0
seg000:D066			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D066			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D068 90					    db	90h ; 
seg000:D069			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D069			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:D069
seg000:D069			    loc_FD069:				    ; CODE XREF: int_13+406j
seg000:D069 C6 06 41 00	00			    mov	    byte ptr ds:41h, 0
seg000:D06E B4 4A				    mov	    ah,	4Ah ; 'J'
seg000:D070 E8 E9 00				    call    diskette_no_dma_functions
seg000:D073 73 03				    jnb	    short loc_FD078
seg000:D075 EB 50				    jmp	    short loc_FD0C7
seg000:D075			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D075			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D077 90					    db	90h ; 
seg000:D078			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D078			    ; START OF FUNCTION	CHUNK FOR int_13
seg000:D078
seg000:D078			    loc_FD078:				    ; CODE XREF: int_13+41Aj
seg000:D078 E8 3A 03				    call    get_diskette_params
seg000:D07B E8 19 02				    call    sub_FD297
seg000:D07E 72 47				    jb	    short loc_FD0C7
seg000:D080 B0 4D				    mov	    al,	4Dh ; 'M'
seg000:D082 E8 66 01				    call    sub_FD1EB
seg000:D085 72 40				    jb	    short loc_FD0C7
seg000:D087 8A C2				    mov	    al,	dl
seg000:D089 24 03				    and	    al,	3
seg000:D08B D0 E6				    shl	    dh,	1
seg000:D08D D0 E6				    shl	    dh,	1
seg000:D08F 0A C6				    or	    al,	dh
seg000:D091 E8 57 01				    call    sub_FD1EB
seg000:D094 72 31				    jb	    short loc_FD0C7
seg000:D096 BB 03 00				    mov	    bx,	3
seg000:D099 B9 02 00				    mov	    cx,	2
seg000:D09C E8 2B 03				    call    sub_FD3CA
seg000:D09F 72 26				    jb	    short loc_FD0C7
seg000:D0A1 BB 07 00				    mov	    bx,	7
seg000:D0A4 E8 23 03				    call    sub_FD3CA
seg000:D0A7 72 1E				    jb	    short loc_FD0C7
seg000:D0A9 E8 57 00				    call    sub_FD103
seg000:D0AC 72 19				    jb	    short loc_FD0C7
seg000:D0AE B9 07 00				    mov	    cx,	7
seg000:D0B1 E8 8F 01				    call    sub_FD243
seg000:D0B4 72 11				    jb	    short loc_FD0C7
seg000:D0B6 F6 C4 C0				    test    ah,	0C0h
seg000:D0B9 74 05				    jz	    short loc_FD0C0
seg000:D0BB E8 C9 02				    call    sub_FD387
seg000:D0BE EB 07				    jmp	    short loc_FD0C7
seg000:D0C0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D0C0
seg000:D0C0			    loc_FD0C0:				    ; CODE XREF: int_13+3E9j
seg000:D0C0								    ; int_13+40Dj
seg000:D0C0								    ; int_13+460j
seg000:D0C0 8A 26 41 00				    mov	    ah,	ds:41h
seg000:D0C4 F8					    clc
seg000:D0C5 EB 05				    jmp	    short exit
seg000:D0C7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D0C7
seg000:D0C7			    loc_FD0C7:				    ; CODE XREF: int_13+41Cj
seg000:D0C7								    ; int_13+425j
seg000:D0C7								    ; int_13+42Cj
seg000:D0C7								    ; int_13+43Bj
seg000:D0C7								    ; int_13+446j
seg000:D0C7								    ; int_13+44Ej ...
seg000:D0C7 8A 26 41 00				    mov	    ah,	ds:41h
seg000:D0CB F9					    stc
seg000:D0CC
seg000:D0CC			    exit:				    ; CODE XREF: int_13+3Fj
seg000:D0CC								    ; int_13+B4j
seg000:D0CC								    ; int_13+BEj
seg000:D0CC								    ; int_13+CDj
seg000:D0CC								    ; int_13+D1j
seg000:D0CC								    ; int_13+168j ...
seg000:D0CC 9C					    pushf
seg000:D0CD 50					    push    ax
seg000:D0CE E8 E4 02				    call    get_diskette_params
seg000:D0D1 26 8A 44 02				    mov	    al,	es:[si+2]
seg000:D0D5 FA					    cli
seg000:D0D6 A2 40 00				    mov	    ds:p400.diskette_motor_off_timeout,	al
seg000:D0D9 FB					    sti
seg000:D0DA 58					    pop	    ax
seg000:D0DB 80 26 3E 00	7F			    and	    byte ptr ds:p400.diskette_recalibrate_status, 7Fh
seg000:D0E0 9D					    popf
seg000:D0E1 07					    pop	    es
seg000:D0E2 1F					    pop	    ds
seg000:D0E3 5D					    pop	    bp
seg000:D0E4 5F					    pop	    di
seg000:D0E5 5E					    pop	    si
seg000:D0E6 5A					    pop	    dx
seg000:D0E7 59					    pop	    cx
seg000:D0E8 5B					    pop	    bx
seg000:D0E9 CA 02 00				    retf    2
seg000:D0E9			    ; END OF FUNCTION CHUNK FOR	int_13
seg000:D0EC
seg000:D0EC			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D0EC
seg000:D0EC			    ; diskette controller
seg000:D0EC
seg000:D0EC			    int_0e	    proc far		    ; DATA XREF: seg000:FEFFo
seg000:D0EC 50					    push    ax
seg000:D0ED 52					    push    dx
seg000:D0EE 1E					    push    ds
seg000:D0EF B8 40 00				    mov	    ax,	40h ; '@'
seg000:D0F2 8E D8				    mov	    ds,	ax
seg000:D0F4 80 0E 3E 00	80			    or	    byte ptr ds:p400.diskette_recalibrate_status, 80h
seg000:D0F9 B0 20				    mov	    al,	20h ; ' '
seg000:D0FB BA 20 00				    mov	    dx,	20h ; ' '
seg000:D0FE EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:D0FF 1F					    pop	    ds
seg000:D100 5A					    pop	    dx
seg000:D101 58					    pop	    ax
seg000:D102 CF					    iret
seg000:D102			    int_0e	    endp
seg000:D102
seg000:D103
seg000:D103			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D103
seg000:D103
seg000:D103			    sub_FD103	    proc near		    ; CODE XREF: int_13+7Bp
seg000:D103								    ; int_13+143p
seg000:D103								    ; int_13+450p
seg000:D103								    ; sub_FD297+67p
seg000:D103								    ; sub_FD297+97p
seg000:D103 51					    push    cx
seg000:D104 B9 02 00				    mov	    cx,	2
seg000:D107 33 DB				    xor	    bx,	bx
seg000:D109
seg000:D109			    loc_FD109:				    ; CODE XREF: sub_FD103+11j
seg000:D109								    ; sub_FD103+13j
seg000:D109 F6 06 3E 00	80			    test    byte ptr ds:3Eh, 80h
seg000:D10E 75 10				    jnz	    short loc_FD120
seg000:D110 4B					    dec	    bx
seg000:D111 83 FB 00				    cmp	    bx,	0
seg000:D114 75 F3				    jnz	    short loc_FD109
seg000:D116 E2 F1				    loop    loc_FD109
seg000:D118 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D11D F9					    stc
seg000:D11E EB 06				    jmp	    short loc_FD126
seg000:D120			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D120
seg000:D120			    loc_FD120:				    ; CODE XREF: sub_FD103+Bj
seg000:D120 80 26 3E 00	7F			    and	    byte ptr ds:3Eh, 7Fh
seg000:D125 F8					    clc
seg000:D126
seg000:D126			    loc_FD126:				    ; CODE XREF: sub_FD103+1Bj
seg000:D126 59					    pop	    cx
seg000:D127 C3					    retn
seg000:D127			    sub_FD103	    endp
seg000:D127
seg000:D128
seg000:D128			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D128
seg000:D128
seg000:D128			    sub_FD128	    proc near		    ; CODE XREF: int_13+2B9p
seg000:D128								    ; int_13+3DBp
seg000:D128 52					    push    dx
seg000:D129 50					    push    ax
seg000:D12A 51					    push    cx
seg000:D12B B9 02 00				    mov	    cx,	2
seg000:D12E 33 DB				    xor	    bx,	bx
seg000:D130 BA F4 03				    mov	    dx,	3F4h
seg000:D133
seg000:D133			    loc_FD133:				    ; CODE XREF: sub_FD128+14j
seg000:D133								    ; sub_FD128+16j
seg000:D133								    ; sub_FD128+28j
seg000:D133 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D133								    ; 0-3: diskette busy
seg000:D133								    ; 4: 1=cntrlr busy
seg000:D133								    ; 5: 1=non-DMA mode
seg000:D133								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D133								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D134 A8 80				    test    al,	80h
seg000:D136 75 11				    jnz	    short loc_FD149
seg000:D138 4B					    dec	    bx
seg000:D139 83 FB 00				    cmp	    bx,	0
seg000:D13C 75 F5				    jnz	    short loc_FD133
seg000:D13E E2 F3				    loop    loc_FD133
seg000:D140 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D145 F9					    stc
seg000:D146 EB 10				    jmp	    short loc_FD158
seg000:D146			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D148 90					    db	90h ; 
seg000:D149			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D149
seg000:D149			    loc_FD149:				    ; CODE XREF: sub_FD128+Ej
seg000:D149 A8 20				    test    al,	20h
seg000:D14B 74 05				    jz	    short loc_FD152
seg000:D14D 42					    inc	    dx
seg000:D14E EC					    in	    al,	dx	    ; Floppy: FDC command/data register.
seg000:D14F 4A					    dec	    dx
seg000:D150 EB E1				    jmp	    short loc_FD133
seg000:D152			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D152
seg000:D152			    loc_FD152:				    ; CODE XREF: sub_FD128+23j
seg000:D152 80 26 3E 00	7F			    and	    byte ptr ds:3Eh, 7Fh
seg000:D157 F8					    clc
seg000:D158
seg000:D158			    loc_FD158:				    ; CODE XREF: sub_FD128+1Ej
seg000:D158 59					    pop	    cx
seg000:D159 58					    pop	    ax
seg000:D15A 5A					    pop	    dx
seg000:D15B C3					    retn
seg000:D15B			    sub_FD128	    endp
seg000:D15B
seg000:D15C
seg000:D15C			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D15C
seg000:D15C			    ; Attributes: bp-based frame
seg000:D15C
seg000:D15C			    diskette_no_dma_functions proc near	    ; CODE XREF: int_13+D6p
seg000:D15C								    ; int_13+DFp
seg000:D15C								    ; int_13+E8p
seg000:D15C								    ; int_13+417p
seg000:D15C 51					    push    cx
seg000:D15D 52					    push    dx
seg000:D15E 06					    push    es
seg000:D15F 53					    push    bx
seg000:D160 50					    push    ax
seg000:D161 8B EC				    mov	    bp,	sp
seg000:D163 E8 4F 02				    call    get_diskette_params
seg000:D166 26 8A 4C 03				    mov	    cl,	es:[si+3]
seg000:D16A BA 80 00				    mov	    dx,	80h ; '€'
seg000:D16D D3 E2				    shl	    dx,	cl
seg000:D16F 8B 46 00				    mov	    ax,	[bp+0]
seg000:D172 32 E4				    xor	    ah,	ah
seg000:D174 F7 E2				    mul	    dx
seg000:D176 83 FA 00				    cmp	    dx,	0
seg000:D179 75 61				    jnz	    short loc_FD1DC
seg000:D17B 59					    pop	    cx
seg000:D17C 5B					    pop	    bx
seg000:D17D 07					    pop	    es
seg000:D17E 06					    push    es
seg000:D17F 53					    push    bx
seg000:D180 51					    push    cx
seg000:D181 8B D0				    mov	    dx,	ax
seg000:D183 8C C0				    mov	    ax,	es
seg000:D185 B1 04				    mov	    cl,	4
seg000:D187 D3 E0				    shl	    ax,	cl
seg000:D189 03 D8				    add	    bx,	ax
seg000:D18B 8B C2				    mov	    ax,	dx
seg000:D18D 4A					    dec	    dx
seg000:D18E 03 DA				    add	    bx,	dx
seg000:D190 72 4A				    jb	    short loc_FD1DC
seg000:D192 48					    dec	    ax
seg000:D193 FA					    cli
seg000:D194 BA 0C 00				    mov	    dx,	0Ch
seg000:D197 EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D197								    ; clear byte pointer flip-flop.
seg000:D198 BA 05 00				    mov	    dx,	5
seg000:D19B EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D19B								    ; channel 2	base address and word count
seg000:D19C 86 E0				    xchg    ah,	al
seg000:D19E EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D19E								    ; channel 2	base address and word count
seg000:D19F 58					    pop	    ax
seg000:D1A0 86 E0				    xchg    ah,	al
seg000:D1A2 BA 0B 00				    mov	    dx,	0Bh
seg000:D1A5 EE					    out	    dx,	al	    ; DMA 8237A-5. mode	register bits:
seg000:D1A5								    ; 0-1: channel (00=0; 01=1;	10=2; 11=3)
seg000:D1A5								    ; 2-3: transfer type (00=verify=Nop; 01=write; 10=read)
seg000:D1A5								    ; 4: 1=enable auto-initialization
seg000:D1A5								    ; 5: 1=address increment; 0=address	decrement
seg000:D1A5								    ; 6-7: 00=demand mode; 01=single; 10=block;	11=cascade
seg000:D1A6 5B					    pop	    bx
seg000:D1A7 07					    pop	    es
seg000:D1A8 8C C0				    mov	    ax,	es
seg000:D1AA B1 04				    mov	    cl,	4
seg000:D1AC D3 E0				    shl	    ax,	cl
seg000:D1AE 03 C3				    add	    ax,	bx
seg000:D1B0 BB 00 00				    mov	    bx,	0
seg000:D1B3 73 03				    jnb	    short loc_FD1B8
seg000:D1B5 BB 01 00				    mov	    bx,	1
seg000:D1B8
seg000:D1B8			    loc_FD1B8:				    ; CODE XREF: diskette_no_dma_functions+57j
seg000:D1B8 BA 04 00				    mov	    dx,	4
seg000:D1BB EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D1BB								    ; channel 2	base address
seg000:D1BB								    ; (also sets current address)
seg000:D1BC 86 E0				    xchg    ah,	al
seg000:D1BE EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D1BE								    ; channel 2	base address
seg000:D1BE								    ; (also sets current address)
seg000:D1BF 8C C0				    mov	    ax,	es
seg000:D1C1 25 00 F0				    and	    ax,	0F000h
seg000:D1C4 B1 0C				    mov	    cl,	0Ch
seg000:D1C6 D3 E8				    shr	    ax,	cl
seg000:D1C8 83 FB 00				    cmp	    bx,	0
seg000:D1CB 74 02				    jz	    short loc_FD1CF
seg000:D1CD FE C0				    inc	    al
seg000:D1CF
seg000:D1CF			    loc_FD1CF:				    ; CODE XREF: diskette_no_dma_functions+6Fj
seg000:D1CF BA 81 00				    mov	    dx,	81h ; ''
seg000:D1D2 EE					    out	    dx,	al	    ; DMA page register	74LS612:
seg000:D1D2								    ; Channel 2	(diskette DMA)	(address bits 16-23)
seg000:D1D3 FB					    sti
seg000:D1D4 BA 0A 00				    mov	    dx,	0Ah
seg000:D1D7 B0 02				    mov	    al,	2
seg000:D1D9 EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:D1D9								    ; single mask bit register
seg000:D1D9								    ; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
seg000:D1D9								    ; 2: 1=set mask for	channel; 0=clear mask (enable)
seg000:D1DA EB 0B				    jmp	    short loc_FD1E7
seg000:D1DC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D1DC
seg000:D1DC			    loc_FD1DC:				    ; CODE XREF: diskette_no_dma_functions+1Dj
seg000:D1DC								    ; diskette_no_dma_functions+34j
seg000:D1DC F9					    stc
seg000:D1DD C6 06 41 00	09			    mov	    byte ptr ds:41h, 9
seg000:D1E2 58					    pop	    ax
seg000:D1E3 5B					    pop	    bx
seg000:D1E4 07					    pop	    es
seg000:D1E5 EB 01				    jmp	    short loc_FD1E8
seg000:D1E7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D1E7
seg000:D1E7			    loc_FD1E7:				    ; CODE XREF: diskette_no_dma_functions+7Ej
seg000:D1E7 F8					    clc
seg000:D1E8
seg000:D1E8			    loc_FD1E8:				    ; CODE XREF: diskette_no_dma_functions+89j
seg000:D1E8 5A					    pop	    dx
seg000:D1E9 59					    pop	    cx
seg000:D1EA C3					    retn
seg000:D1EA			    diskette_no_dma_functions endp
seg000:D1EA
seg000:D1EB
seg000:D1EB			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D1EB
seg000:D1EB
seg000:D1EB			    sub_FD1EB	    proc near		    ; CODE XREF: int_13+91p
seg000:D1EB								    ; int_13+10Dp
seg000:D1EB								    ; int_13+11Ep
seg000:D1EB								    ; int_13+125p
seg000:D1EB								    ; int_13+12Cp
seg000:D1EB								    ; int_13+133p ...
seg000:D1EB 51					    push    cx
seg000:D1EC 52					    push    dx
seg000:D1ED 8A E0				    mov	    ah,	al
seg000:D1EF BA F4 03				    mov	    dx,	3F4h
seg000:D1F2 33 C9				    xor	    cx,	cx
seg000:D1F4
seg000:D1F4			    loc_FD1F4:				    ; CODE XREF: sub_FD1EB+Ej
seg000:D1F4 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D1F4								    ; 0-3: diskette busy
seg000:D1F4								    ; 4: 1=cntrlr busy
seg000:D1F4								    ; 5: 1=non-DMA mode
seg000:D1F4								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D1F4								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D1F5 A8 80				    test    al,	80h
seg000:D1F7 75 09				    jnz	    short loc_FD202
seg000:D1F9 E2 F9				    loop    loc_FD1F4
seg000:D1FB 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D200 EB 15				    jmp	    short loc_FD217
seg000:D202			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D202
seg000:D202			    loc_FD202:				    ; CODE XREF: sub_FD1EB+Cj
seg000:D202 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D202								    ; 0-3: diskette busy
seg000:D202								    ; 4: 1=cntrlr busy
seg000:D202								    ; 5: 1=non-DMA mode
seg000:D202								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D202								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D203 A8 40				    test    al,	40h
seg000:D205 74 07				    jz	    short loc_FD20E
seg000:D207 80 0E 41 00	20			    or	    byte ptr ds:41h, 20h
seg000:D20C EB 09				    jmp	    short loc_FD217
seg000:D20E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D20E
seg000:D20E			    loc_FD20E:				    ; CODE XREF: sub_FD1EB+1Aj
seg000:D20E BA F5 03				    mov	    dx,	3F5h
seg000:D211 8A C4				    mov	    al,	ah
seg000:D213 EE					    out	    dx,	al	    ; Floppy: FDC command/data register.
seg000:D214 F8					    clc
seg000:D215 EB 01				    jmp	    short loc_FD218
seg000:D217			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D217
seg000:D217			    loc_FD217:				    ; CODE XREF: sub_FD1EB+15j
seg000:D217								    ; sub_FD1EB+21j
seg000:D217 F9					    stc
seg000:D218
seg000:D218			    loc_FD218:				    ; CODE XREF: sub_FD1EB+2Aj
seg000:D218 5A					    pop	    dx
seg000:D219 59					    pop	    cx
seg000:D21A C3					    retn
seg000:D21A			    sub_FD1EB	    endp
seg000:D21A
seg000:D21B
seg000:D21B			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D21B
seg000:D21B
seg000:D21B			    sub_FD21B	    proc near		    ; CODE XREF: sub_FD3DC+11p
seg000:D21B 51					    push    cx
seg000:D21C 52					    push    dx
seg000:D21D BA F4 03				    mov	    dx,	3F4h
seg000:D220 33 C9				    xor	    cx,	cx
seg000:D222
seg000:D222			    loc_FD222:				    ; CODE XREF: sub_FD21B+Cj
seg000:D222 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D222								    ; 0-3: diskette busy
seg000:D222								    ; 4: 1=cntrlr busy
seg000:D222								    ; 5: 1=non-DMA mode
seg000:D222								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D222								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D223 A8 80				    test    al,	80h
seg000:D225 75 09				    jnz	    short loc_FD230
seg000:D227 E2 F9				    loop    loc_FD222
seg000:D229 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D22E EB 0F				    jmp	    short loc_FD23F
seg000:D230			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D230
seg000:D230			    loc_FD230:				    ; CODE XREF: sub_FD21B+Aj
seg000:D230 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D230								    ; 0-3: diskette busy
seg000:D230								    ; 4: 1=cntrlr busy
seg000:D230								    ; 5: 1=non-DMA mode
seg000:D230								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D230								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D231 A8 40				    test    al,	40h
seg000:D233 74 07				    jz	    short loc_FD23C
seg000:D235 80 0E 41 00	20			    or	    byte ptr ds:41h, 20h
seg000:D23A EB 03				    jmp	    short loc_FD23F
seg000:D23C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D23C
seg000:D23C			    loc_FD23C:				    ; CODE XREF: sub_FD21B+18j
seg000:D23C F8					    clc
seg000:D23D EB 01				    jmp	    short loc_FD240
seg000:D23F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D23F
seg000:D23F			    loc_FD23F:				    ; CODE XREF: sub_FD21B+13j
seg000:D23F								    ; sub_FD21B+1Fj
seg000:D23F F9					    stc
seg000:D240
seg000:D240			    loc_FD240:				    ; CODE XREF: sub_FD21B+22j
seg000:D240 5A					    pop	    dx
seg000:D241 59					    pop	    cx
seg000:D242 C3					    retn
seg000:D242			    sub_FD21B	    endp
seg000:D242
seg000:D243
seg000:D243			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D243
seg000:D243
seg000:D243			    sub_FD243	    proc near		    ; CODE XREF: int_13+14Bp
seg000:D243								    ; int_13+2C1p
seg000:D243								    ; int_13+3E1p
seg000:D243								    ; int_13+458p
seg000:D243								    ; sub_FD360+13p
seg000:D243 52					    push    dx
seg000:D244 06					    push    es
seg000:D245 8C D8				    mov	    ax,	ds
seg000:D247 8E C0				    mov	    es,	ax
seg000:D249 8D 3E 42 00				    lea	    di,	ds:42h
seg000:D24D BA F4 03				    mov	    dx,	3F4h
seg000:D250 33 DB				    xor	    bx,	bx
seg000:D252
seg000:D252			    loc_FD252:				    ; CODE XREF: sub_FD243+15j
seg000:D252 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D252								    ; 0-3: diskette busy
seg000:D252								    ; 4: 1=cntrlr busy
seg000:D252								    ; 5: 1=non-DMA mode
seg000:D252								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D252								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D253 A8 80				    test    al,	80h
seg000:D255 75 0A				    jnz	    short loc_FD261
seg000:D257 4B					    dec	    bx
seg000:D258 75 F8				    jnz	    short loc_FD252
seg000:D25A 80 0E 41 00	80			    or	    byte ptr ds:41h, 80h
seg000:D25F EB 32				    jmp	    short loc_FD293
seg000:D261			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D261
seg000:D261			    loc_FD261:				    ; CODE XREF: sub_FD243+12j
seg000:D261 EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D261								    ; 0-3: diskette busy
seg000:D261								    ; 4: 1=cntrlr busy
seg000:D261								    ; 5: 1=non-DMA mode
seg000:D261								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D261								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D262 A8 40				    test    al,	40h
seg000:D264 75 07				    jnz	    short loc_FD26D
seg000:D266 80 0E 41 00	20			    or	    byte ptr ds:41h, 20h
seg000:D26B EB 26				    jmp	    short loc_FD293
seg000:D26D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D26D
seg000:D26D			    loc_FD26D:				    ; CODE XREF: sub_FD243+21j
seg000:D26D								    ; sub_FD243+3Ej
seg000:D26D BA F5 03				    mov	    dx,	3F5h
seg000:D270 EC					    in	    al,	dx	    ; Floppy: FDC command/data register.
seg000:D271 AA					    stosb
seg000:D272 51					    push    cx
seg000:D273 B9 08 00				    mov	    cx,	8
seg000:D276
seg000:D276			    loc_FD276:				    ; CODE XREF: sub_FD243:loc_FD276j
seg000:D276 E2 FE				    loop    loc_FD276
seg000:D278 59					    pop	    cx
seg000:D279 BA F4 03				    mov	    dx,	3F4h
seg000:D27C EC					    in	    al,	dx	    ; Floppy: main status reg bits:
seg000:D27C								    ; 0-3: diskette busy
seg000:D27C								    ; 4: 1=cntrlr busy
seg000:D27C								    ; 5: 1=non-DMA mode
seg000:D27C								    ; 6: Data dir: 1=cntrlr to CPU
seg000:D27C								    ; 7: 1=OK to snd/rcv cmd or	data
seg000:D27D A8 10				    test    al,	10h
seg000:D27F 74 09				    jz	    short loc_FD28A
seg000:D281 E2 EA				    loop    loc_FD26D
seg000:D283 80 0E 41 00	20			    or	    byte ptr ds:41h, 20h
seg000:D288 EB 09				    jmp	    short loc_FD293
seg000:D28A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D28A
seg000:D28A			    loc_FD28A:				    ; CODE XREF: sub_FD243+3Cj
seg000:D28A 8D 3E 42 00				    lea	    di,	ds:42h
seg000:D28E 8A 25				    mov	    ah,	[di]
seg000:D290 F8					    clc
seg000:D291 EB 01				    jmp	    short loc_FD294
seg000:D293			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D293
seg000:D293			    loc_FD293:				    ; CODE XREF: sub_FD243+1Cj
seg000:D293								    ; sub_FD243+28j
seg000:D293								    ; sub_FD243+45j
seg000:D293 F9					    stc
seg000:D294
seg000:D294			    loc_FD294:				    ; CODE XREF: sub_FD243+4Ej
seg000:D294 07					    pop	    es
seg000:D295 5A					    pop	    dx
seg000:D296 C3					    retn
seg000:D296			    sub_FD243	    endp
seg000:D296
seg000:D297
seg000:D297			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D297
seg000:D297
seg000:D297			    sub_FD297	    proc near		    ; CODE XREF: int_13+108p
seg000:D297								    ; int_13+1ACp
seg000:D297								    ; int_13+37Bp
seg000:D297								    ; int_13+422p
seg000:D297 50					    push    ax
seg000:D298 51					    push    cx
seg000:D299 52					    push    dx
seg000:D29A B0 01				    mov	    al,	1
seg000:D29C 8A CA				    mov	    cl,	dl
seg000:D29E D2 E0				    shl	    al,	cl
seg000:D2A0 8A E0				    mov	    ah,	al
seg000:D2A2 FA					    cli
seg000:D2A3 84 26 3F 00				    test    ds:3Fh, ah
seg000:D2A7 75 2D				    jnz	    short loc_FD2D6
seg000:D2A9 B1 04				    mov	    cl,	4
seg000:D2AB D2 E0				    shl	    al,	cl
seg000:D2AD 0C 0C				    or	    al,	0Ch
seg000:D2AF 0A C2				    or	    al,	dl
seg000:D2B1 BA F2 03				    mov	    dx,	3F2h
seg000:D2B4 EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:D2B4								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:D2B4								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:D2B4								    ; 3:   1=enable diskette DMA and interrupts
seg000:D2B4								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:D2B4								    ;
seg000:D2B5 80 26 3F 00	F0			    and	    byte ptr ds:3Fh, 0F0h
seg000:D2BA 08 26 3F 00				    or	    ds:3Fh, ah
seg000:D2BE 26 8A 44 0A				    mov	    al,	es:[si+0Ah]
seg000:D2C2 3C 00				    cmp	    al,	0
seg000:D2C4 74 10				    jz	    short loc_FD2D6
seg000:D2C6 33 C9				    xor	    cx,	cx
seg000:D2C8 C6 06 40 00	00			    mov	    byte ptr ds:40h, 0
seg000:D2CD FB					    sti
seg000:D2CE
seg000:D2CE			    loc_FD2CE:				    ; CODE XREF: sub_FD297:loc_FD2CEj
seg000:D2CE								    ; sub_FD297+3Dj
seg000:D2CE E2 FE				    loop    loc_FD2CE
seg000:D2D0 FE C8				    dec	    al
seg000:D2D2 3C 00				    cmp	    al,	0
seg000:D2D4 75 F8				    jnz	    short loc_FD2CE
seg000:D2D6
seg000:D2D6			    loc_FD2D6:				    ; CODE XREF: sub_FD297+10j
seg000:D2D6								    ; sub_FD297+2Dj
seg000:D2D6 C6 06 40 00	FF			    mov	    byte ptr ds:40h, 0FFh
seg000:D2DB FB					    sti
seg000:D2DC 5A					    pop	    dx
seg000:D2DD 59					    pop	    cx
seg000:D2DE 51					    push    cx
seg000:D2DF 52					    push    dx
seg000:D2E0 B0 01				    mov	    al,	1
seg000:D2E2 8A CA				    mov	    cl,	dl
seg000:D2E4 D2 E0				    shl	    al,	cl
seg000:D2E6 8A C8				    mov	    cl,	al
seg000:D2E8 84 06 3E 00				    test    ds:3Eh, al
seg000:D2EC 75 23				    jnz	    short loc_FD311
seg000:D2EE B0 07				    mov	    al,	7
seg000:D2F0 E8 F8 FE				    call    sub_FD1EB
seg000:D2F3 72 5E				    jb	    short loc_FD353
seg000:D2F5 8A C2				    mov	    al,	dl
seg000:D2F7 24 03				    and	    al,	3
seg000:D2F9 E8 EF FE				    call    sub_FD1EB
seg000:D2FC 72 55				    jb	    short loc_FD353
seg000:D2FE E8 02 FE				    call    sub_FD103
seg000:D301 72 50				    jb	    short loc_FD353
seg000:D303 E8 5A 00				    call    sub_FD360
seg000:D306 72 4B				    jb	    short loc_FD353
seg000:D308 F6 C4 C0				    test    ah,	0C0h
seg000:D30B 75 46				    jnz	    short loc_FD353
seg000:D30D 08 0E 3E 00				    or	    ds:3Eh, cl
seg000:D311
seg000:D311			    loc_FD311:				    ; CODE XREF: sub_FD297+55j
seg000:D311 B0 0F				    mov	    al,	0Fh
seg000:D313 E8 D5 FE				    call    sub_FD1EB
seg000:D316 72 3B				    jb	    short loc_FD353
seg000:D318 8A C2				    mov	    al,	dl
seg000:D31A 24 03				    and	    al,	3
seg000:D31C D0 E6				    shl	    dh,	1
seg000:D31E D0 E6				    shl	    dh,	1
seg000:D320 0A C6				    or	    al,	dh
seg000:D322 E8 C6 FE				    call    sub_FD1EB
seg000:D325 72 2C				    jb	    short loc_FD353
seg000:D327 8A C5				    mov	    al,	ch
seg000:D329 E8 BF FE				    call    sub_FD1EB
seg000:D32C 72 25				    jb	    short loc_FD353
seg000:D32E E8 D2 FD				    call    sub_FD103
seg000:D331 72 20				    jb	    short loc_FD353
seg000:D333 E8 2A 00				    call    sub_FD360
seg000:D336 72 1B				    jb	    short loc_FD353
seg000:D338 F6 C4 C0				    test    ah,	0C0h
seg000:D33B 75 16				    jnz	    short loc_FD353
seg000:D33D 26 8A 44 09				    mov	    al,	es:[si+9]
seg000:D341 3C 00				    cmp	    al,	0
seg000:D343 74 0B				    jz	    short loc_FD350
seg000:D345
seg000:D345			    loc_FD345:				    ; CODE XREF: sub_FD297+B7j
seg000:D345 B9 21 02				    mov	    cx,	221h
seg000:D348
seg000:D348			    loc_FD348:				    ; CODE XREF: sub_FD297:loc_FD348j
seg000:D348 E2 FE				    loop    loc_FD348
seg000:D34A FE C8				    dec	    al
seg000:D34C 3C 00				    cmp	    al,	0
seg000:D34E 75 F5				    jnz	    short loc_FD345
seg000:D350
seg000:D350			    loc_FD350:				    ; CODE XREF: sub_FD297+ACj
seg000:D350 F8					    clc
seg000:D351 EB 09				    jmp	    short loc_FD35C
seg000:D353			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D353
seg000:D353			    loc_FD353:				    ; CODE XREF: sub_FD297+5Cj
seg000:D353								    ; sub_FD297+65j
seg000:D353								    ; sub_FD297+6Aj
seg000:D353								    ; sub_FD297+6Fj
seg000:D353								    ; sub_FD297+74j
seg000:D353								    ; sub_FD297+7Fj ...
seg000:D353 80 0E 41 00	40			    or	    byte ptr ds:41h, 40h
seg000:D358 E8 2C 00				    call    sub_FD387
seg000:D35B F9					    stc
seg000:D35C
seg000:D35C			    loc_FD35C:				    ; CODE XREF: sub_FD297+BAj
seg000:D35C 5A					    pop	    dx
seg000:D35D 59					    pop	    cx
seg000:D35E 58					    pop	    ax
seg000:D35F C3					    retn
seg000:D35F			    sub_FD297	    endp
seg000:D35F
seg000:D360
seg000:D360			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D360
seg000:D360
seg000:D360			    sub_FD360	    proc near		    ; CODE XREF: int_13+7Ep
seg000:D360								    ; sub_FD297+6Cp
seg000:D360								    ; sub_FD297+9Cp
seg000:D360 51					    push    cx
seg000:D361 56					    push    si
seg000:D362 8D 36 42 00				    lea	    si,	ds:42h
seg000:D366 8B 04				    mov	    ax,	[si]
seg000:D368 50					    push    ax
seg000:D369 B0 08				    mov	    al,	8
seg000:D36B E8 7D FE				    call    sub_FD1EB
seg000:D36E 72 12				    jb	    short loc_FD382
seg000:D370 B9 02 00				    mov	    cx,	2
seg000:D373 E8 CD FE				    call    sub_FD243
seg000:D376 72 0A				    jb	    short loc_FD382
seg000:D378 8B 04				    mov	    ax,	[si]
seg000:D37A 86 E0				    xchg    ah,	al
seg000:D37C 5B					    pop	    bx
seg000:D37D 89 1C				    mov	    [si], bx
seg000:D37F F8					    clc
seg000:D380 EB 02				    jmp	    short loc_FD384
seg000:D382			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D382
seg000:D382			    loc_FD382:				    ; CODE XREF: sub_FD360+Ej
seg000:D382								    ; sub_FD360+16j
seg000:D382 5B					    pop	    bx
seg000:D383 F9					    stc
seg000:D384
seg000:D384			    loc_FD384:				    ; CODE XREF: sub_FD360+20j
seg000:D384 5E					    pop	    si
seg000:D385 59					    pop	    cx
seg000:D386 C3					    retn
seg000:D386			    sub_FD360	    endp
seg000:D386
seg000:D387
seg000:D387			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D387
seg000:D387
seg000:D387			    sub_FD387	    proc near		    ; CODE XREF: int_13+156p
seg000:D387								    ; int_13+2CCp
seg000:D387								    ; int_13+3EBp
seg000:D387								    ; int_13+462p
seg000:D387								    ; sub_FD297+C1p
seg000:D387 8D 36 42 00				    lea	    si,	ds:42h
seg000:D38B 8A 44 01				    mov	    al,	[si+1]
seg000:D38E 0A 44 02				    or	    al,	[si+2]
seg000:D391 B9 08 00				    mov	    cx,	8
seg000:D394 33 DB				    xor	    bx,	bx
seg000:D396 24 B7				    and	    al,	0B7h
seg000:D398
seg000:D398			    loc_FD398:				    ; CODE XREF: sub_FD387+18j
seg000:D398 A8 01				    test    al,	1
seg000:D39A 75 07				    jnz	    short loc_FD3A3
seg000:D39C 43					    inc	    bx
seg000:D39D D0 C8				    ror	    al,	1
seg000:D39F E2 F7				    loop    loc_FD398
seg000:D3A1 EB 09				    jmp	    short locret_FD3AC
seg000:D3A3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D3A3
seg000:D3A3			    loc_FD3A3:				    ; CODE XREF: sub_FD387+13j
seg000:D3A3 2E 8A 87 AD	D3			    mov	    al,	cs:byte_FD3AD[bx]
seg000:D3A8 08 06 41 00				    or	    ds:p400.diskette_last_status, al
seg000:D3AC
seg000:D3AC			    locret_FD3AC:			    ; CODE XREF: sub_FD387+1Aj
seg000:D3AC C3					    retn
seg000:D3AC			    sub_FD387	    endp
seg000:D3AC
seg000:D3AC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D3AD 02			    byte_FD3AD	    db 2		    ; DATA XREF: sub_FD387:loc_FD3A3r
seg000:D3AE 03					    db	  3
seg000:D3AF 04					    db	  4
seg000:D3B0 00					    db	  0
seg000:D3B1 08					    db	  8
seg000:D3B2 10					    db	10h
seg000:D3B3 00					    db	  0
seg000:D3B4 04					    db	  4
seg000:D3B5
seg000:D3B5			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D3B5
seg000:D3B5			    ; out:
seg000:D3B5			    ;	 es:si -> table	for diskette parameters
seg000:D3B5
seg000:D3B5			    get_diskette_params	proc near	    ; CODE XREF: int_13+105p
seg000:D3B5								    ; int_13+1A9p
seg000:D3B5								    ; diskette_dma_functions+Bp
seg000:D3B5								    ; int_13:loc_FCFD1p
seg000:D3B5								    ; int_13:loc_FD078p
seg000:D3B5								    ; int_13+475p ...
seg000:D3B5 50					    push    ax
seg000:D3B6 33 C0				    xor	    ax,	ax
seg000:D3B8 8E C0				    mov	    es,	ax	    ; es = 0x00
seg000:D3BA 53					    push    bx
seg000:D3BB BB 78 00				    mov	    bx,	78h ; 'x'   ; int 0x1e (diskette parameters)
seg000:D3BE 26 8B 37				    mov	    si,	es:[bx]
seg000:D3C1 26 8B 47 02				    mov	    ax,	es:[bx+2]
seg000:D3C5 8E C0				    mov	    es,	ax
seg000:D3C7 5B					    pop	    bx
seg000:D3C8 58					    pop	    ax
seg000:D3C9 C3					    retn
seg000:D3C9			    get_diskette_params	endp
seg000:D3C9
seg000:D3CA
seg000:D3CA			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D3CA
seg000:D3CA
seg000:D3CA			    sub_FD3CA	    proc near		    ; CODE XREF: int_13:loc_FCD02p
seg000:D3CA								    ; int_13+13Ep
seg000:D3CA								    ; int_13+39Cp
seg000:D3CA								    ; int_13+443p
seg000:D3CA								    ; int_13+44Bp
seg000:D3CA 51					    push    cx
seg000:D3CB E8 E7 FF				    call    get_diskette_params
seg000:D3CE
seg000:D3CE			    l0:					    ; CODE XREF: sub_FD3CA+Dj
seg000:D3CE 26 8A 00				    mov	    al,	es:[bx+si]
seg000:D3D1 E8 17 FE				    call    sub_FD1EB
seg000:D3D4 72 04				    jb	    short l1
seg000:D3D6 43					    inc	    bx
seg000:D3D7 E2 F5				    loop    l0
seg000:D3D9 F8					    clc
seg000:D3DA
seg000:D3DA			    l1:					    ; CODE XREF: sub_FD3CA+Aj
seg000:D3DA 59					    pop	    cx
seg000:D3DB C3					    retn
seg000:D3DB			    sub_FD3CA	    endp
seg000:D3DB
seg000:D3DC
seg000:D3DC			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D3DC
seg000:D3DC
seg000:D3DC			    sub_FD3DC	    proc near		    ; CODE XREF: int_13+1E2p
seg000:D3DC								    ; int_13+3A9p
seg000:D3DC 51					    push    cx
seg000:D3DD E8 D5 FF				    call    get_diskette_params
seg000:D3E0 49					    dec	    cx
seg000:D3E1
seg000:D3E1			    l0:					    ; CODE XREF: sub_FD3DC+Ej
seg000:D3E1 26 8A 00				    mov	    al,	es:[bx+si]
seg000:D3E4 E8 04 FE				    call    sub_FD1EB
seg000:D3E7 72 0C				    jb	    short l1
seg000:D3E9 43					    inc	    bx
seg000:D3EA E2 F5				    loop    l0
seg000:D3EC F8					    clc
seg000:D3ED E8 2B FE				    call    sub_FD21B
seg000:D3F0 72 03				    jb	    short l1
seg000:D3F2 26 8A 30				    mov	    dh,	es:[bx+si]
seg000:D3F5
seg000:D3F5			    l1:					    ; CODE XREF: sub_FD3DC+Bj
seg000:D3F5								    ; sub_FD3DC+14j
seg000:D3F5 59					    pop	    cx
seg000:D3F6 C3					    retn
seg000:D3F6			    sub_FD3DC	    endp
seg000:D3F6
seg000:D3F7
seg000:D3F7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D3F7
seg000:D3F7
seg000:D3F7			    sub_FD3F7	    proc near		    ; CODE XREF: int_13+A3p
seg000:D3F7 51					    push    cx
seg000:D3F8 E8 BA FF				    call    get_diskette_params
seg000:D3FB 26 8A 00				    mov	    al,	es:[bx+si]
seg000:D3FE E8 EA FD				    call    sub_FD1EB
seg000:D401 72 0C				    jb	    short l0
seg000:D403 43					    inc	    bx
seg000:D404 26 8A 00				    mov	    al,	es:[bx+si]
seg000:D407 0C 01				    or	    al,	1
seg000:D409 E8 DF FD				    call    sub_FD1EB
seg000:D40C 72 01				    jb	    short l0
seg000:D40E F8					    clc
seg000:D40F
seg000:D40F			    l0:					    ; CODE XREF: sub_FD3F7+Aj
seg000:D40F								    ; sub_FD3F7+15j
seg000:D40F 59					    pop	    cx
seg000:D410 C3					    retn
seg000:D410			    sub_FD3F7	    endp
seg000:D410
seg000:D410			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D411 00 B0		    value_b000	    dw 0B000h		    ; DATA XREF: sub_FF4ED:loc_FD413r
seg000:D411								    ; sub_FD5C7+15r
seg000:D411								    ; sub_FD754+CEr
seg000:D411								    ; sub_FD754+127r
seg000:D413			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D413			    ; START OF FUNCTION	CHUNK FOR sub_FF4ED
seg000:D413
seg000:D413			    loc_FD413:				    ; CODE XREF: sub_FF4ED+1Dj
seg000:D413 2E 8E 06 11	D4			    mov	    es,	cs:value_b000 ;	es = 0xb000
seg000:D418 83 7E 00 00				    cmp	    word ptr [bp+0], 0
seg000:D41C 74 02				    jz	    short loc_FD420
seg000:D41E 8A F5				    mov	    dh,	ch
seg000:D420
seg000:D420			    loc_FD420:				    ; CODE XREF: sub_FF4ED-20D1j
seg000:D420 FE C2				    inc	    dl
seg000:D422 50					    push    ax
seg000:D423 A1 4A 00				    mov	    ax,	ds:p400.crt_nr_cols
seg000:D426 8A E8				    mov	    ch,	al
seg000:D428 58					    pop	    ax
seg000:D429 3A D5				    cmp	    dl,	ch
seg000:D42B 75 09				    jnz	    short loc_FD436
seg000:D42D FE C6				    inc	    dh
seg000:D42F 32 D2				    xor	    dl,	dl
seg000:D431 E8 94 05				    call    sub_FD9C8
seg000:D434 EB 11				    jmp	    short loc_FD447
seg000:D436			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D436
seg000:D436			    loc_FD436:				    ; CODE XREF: sub_FF4ED-20C2j
seg000:D436 E8 8F 05				    call    sub_FD9C8
seg000:D439 81 C3 F0 00				    add	    bx,	0F0h ; 'ğ'
seg000:D43D 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D442 72 03				    jb	    short loc_FD447
seg000:D444 83 EB 50				    sub	    bx,	50h ; 'P'
seg000:D447
seg000:D447			    loc_FD447:				    ; CODE XREF: sub_FF4ED-20B9j
seg000:D447								    ; sub_FF4ED-20ABj
seg000:D447 80 C7 20				    add	    bh,	20h ; ' '
seg000:D44A 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D44F 72 03				    jb	    short loc_FD454
seg000:D451 80 C7 40				    add	    bh,	40h ; '@'
seg000:D454
seg000:D454			    loc_FD454:				    ; CODE XREF: sub_FF4ED-209Ej
seg000:D454 53					    push    bx
seg000:D455 8B EC				    mov	    bp,	sp
seg000:D457 32 ED				    xor	    ch,	ch
seg000:D459 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:D45D 74 06				    jz	    short loc_FD465
seg000:D45F 8A 6E 11				    mov	    ch,	[bp+11h]
seg000:D462 2A 6E 13				    sub	    ch,	[bp+13h]
seg000:D465
seg000:D465			    loc_FD465:				    ; CODE XREF: sub_FF4ED-2090j
seg000:D465 8B 56 12				    mov	    dx,	[bp+12h]
seg000:D468 02 F5				    add	    dh,	ch
seg000:D46A 51					    push    cx
seg000:D46B E8 5A 05				    call    sub_FD9C8
seg000:D46E 8B FB				    mov	    di,	bx
seg000:D470 59					    pop	    cx
seg000:D471 8A 76 11				    mov	    dh,	[bp+11h]
seg000:D474 2A 76 13				    sub	    dh,	[bp+13h]
seg000:D477 80 FE 00				    cmp	    dh,	0
seg000:D47A 75 03				    jnz	    short loc_FD47F
seg000:D47C E9 C8 00				    jmp	    loc_FD547
seg000:D47F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D47F
seg000:D47F			    loc_FD47F:				    ; CODE XREF: sub_FF4ED-2073j
seg000:D47F 8B 56 12				    mov	    dx,	[bp+12h]
seg000:D482 02 F5				    add	    dh,	ch
seg000:D484 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:D488 75 04				    jnz	    short loc_FD48E
seg000:D48A 02 F0				    add	    dh,	al
seg000:D48C EB 02				    jmp	    short loc_FD490
seg000:D48E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D48E
seg000:D48E			    loc_FD48E:				    ; CODE XREF: sub_FF4ED-2065j
seg000:D48E 2A F0				    sub	    dh,	al
seg000:D490
seg000:D490			    loc_FD490:				    ; CODE XREF: sub_FF4ED-2061j
seg000:D490 E8 35 05				    call    sub_FD9C8
seg000:D493 8B F3				    mov	    si,	bx
seg000:D495 33 C9				    xor	    cx,	cx
seg000:D497 3C 00				    cmp	    al,	0
seg000:D499 75 03				    jnz	    short loc_FD49E
seg000:D49B E9 A9 00				    jmp	    loc_FD547
seg000:D49E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D49E
seg000:D49E			    loc_FD49E:				    ; CODE XREF: sub_FF4ED-2054j
seg000:D49E								    ; sub_FF4ED-1FAEj
seg000:D49E 56					    push    si
seg000:D49F 57					    push    di
seg000:D4A0 1E					    push    ds
seg000:D4A1 33 DB				    xor	    bx,	bx
seg000:D4A3 8A CC				    mov	    cl,	ah
seg000:D4A5 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D4AA 74 12				    jz	    short loc_FD4BE
seg000:D4AC 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D4B1 72 09				    jb	    short loc_FD4BC
seg000:D4B3 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D4B8 73 02				    jnb	    short loc_FD4BC
seg000:D4BA D0 E1				    shl	    cl,	1
seg000:D4BC
seg000:D4BC			    loc_FD4BC:				    ; CODE XREF: sub_FF4ED-203Cj
seg000:D4BC								    ; sub_FF4ED-2035j
seg000:D4BC D0 E1				    shl	    cl,	1
seg000:D4BE
seg000:D4BE			    loc_FD4BE:				    ; CODE XREF: sub_FF4ED-2043j
seg000:D4BE 8A 36 49 00				    mov	    dh,	ds:p400.crt_mode
seg000:D4C2 50					    push    ax
seg000:D4C3 8C C0				    mov	    ax,	es
seg000:D4C5 8E D8				    mov	    ds,	ax
seg000:D4C7 58					    pop	    ax
seg000:D4C8 B2 04				    mov	    dl,	4
seg000:D4CA 80 FE 09				    cmp	    dh,	9
seg000:D4CD 72 02				    jb	    short loc_FD4D1
seg000:D4CF B2 02				    mov	    dl,	2
seg000:D4D1
seg000:D4D1			    loc_FD4D1:				    ; CODE XREF: sub_FF4ED-2020j
seg000:D4D1								    ; sub_FF4ED-1FBBj
seg000:D4D1 8B 76 FE				    mov	    si,	[bp-2]
seg000:D4D4 8B 7E FC				    mov	    di,	[bp-4]
seg000:D4D7 03 F3				    add	    si,	bx
seg000:D4D9 03 FB				    add	    di,	bx
seg000:D4DB 51					    push    cx
seg000:D4DC F3 A4				    rep	movsb
seg000:D4DE 59					    pop	    cx
seg000:D4DF 8B 76 FE				    mov	    si,	[bp-2]
seg000:D4E2 8B 7E FC				    mov	    di,	[bp-4]
seg000:D4E5 81 C6 00 20				    add	    si,	2000h
seg000:D4E9 81 C7 00 20				    add	    di,	2000h
seg000:D4ED 03 F3				    add	    si,	bx
seg000:D4EF 03 FB				    add	    di,	bx
seg000:D4F1 51					    push    cx
seg000:D4F2 F3 A4				    rep	movsb
seg000:D4F4 59					    pop	    cx
seg000:D4F5 80 FE 09				    cmp	    dh,	9
seg000:D4F8 72 33				    jb	    short loc_FD52D
seg000:D4FA 8B 76 FE				    mov	    si,	[bp-2]
seg000:D4FD 8B 7E FC				    mov	    di,	[bp-4]
seg000:D500 81 C6 00 40				    add	    si,	4000h
seg000:D504 81 C7 00 40				    add	    di,	4000h
seg000:D508 03 F3				    add	    si,	bx
seg000:D50A 03 FB				    add	    di,	bx
seg000:D50C 51					    push    cx
seg000:D50D F3 A4				    rep	movsb
seg000:D50F 59					    pop	    cx
seg000:D510 8B 76 FE				    mov	    si,	[bp-2]
seg000:D513 8B 7E FC				    mov	    di,	[bp-4]
seg000:D516 81 C6 00 60				    add	    si,	6000h
seg000:D51A 81 C7 00 60				    add	    di,	6000h
seg000:D51E 03 F3				    add	    si,	bx
seg000:D520 03 FB				    add	    di,	bx
seg000:D522 51					    push    cx
seg000:D523 F3 A4				    rep	movsb
seg000:D525 59					    pop	    cx
seg000:D526 81 C3 A0 00				    add	    bx,	0A0h ; ' '
seg000:D52A EB 04				    jmp	    short loc_FD530
seg000:D52A			    ; END OF FUNCTION CHUNK FOR	sub_FF4ED
seg000:D52A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D52C 90					    db	90h ; 
seg000:D52D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D52D			    ; START OF FUNCTION	CHUNK FOR sub_FF4ED
seg000:D52D
seg000:D52D			    loc_FD52D:				    ; CODE XREF: sub_FF4ED-1FF5j
seg000:D52D 83 C3 50				    add	    bx,	50h ; 'P'
seg000:D530
seg000:D530			    loc_FD530:				    ; CODE XREF: sub_FF4ED-1FC3j
seg000:D530 FE CA				    dec	    dl
seg000:D532 75 9D				    jnz	    short loc_FD4D1
seg000:D534 1F					    pop	    ds
seg000:D535 3B 76 00				    cmp	    si,	[bp+0]
seg000:D538 74 08				    jz	    short loc_FD542
seg000:D53A 5F					    pop	    di
seg000:D53B 5E					    pop	    si
seg000:D53C E8 E4 05				    call    sub_FDB23
seg000:D53F E9 5C FF				    jmp	    loc_FD49E
seg000:D542			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D542
seg000:D542			    loc_FD542:				    ; CODE XREF: sub_FF4ED-1FB5j
seg000:D542 5F					    pop	    di
seg000:D543 5E					    pop	    si
seg000:D544 E8 DC 05				    call    sub_FDB23
seg000:D547
seg000:D547			    loc_FD547:				    ; CODE XREF: sub_FF4ED-2071j
seg000:D547								    ; sub_FF4ED-2052j
seg000:D547								    ; sub_FF4ED-1F2Bj
seg000:D547 57					    push    di
seg000:D548 8A 46 15				    mov	    al,	[bp+15h]
seg000:D54B 33 DB				    xor	    bx,	bx
seg000:D54D 8A CC				    mov	    cl,	ah
seg000:D54F BA 04 00				    mov	    dx,	4
seg000:D552 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D557 72 03				    jb	    short loc_FD55C
seg000:D559 BA 02 00				    mov	    dx,	2
seg000:D55C
seg000:D55C			    loc_FD55C:				    ; CODE XREF: sub_FF4ED-1F96j
seg000:D55C 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D561 74 12				    jz	    short loc_FD575
seg000:D563 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D568 72 09				    jb	    short loc_FD573
seg000:D56A 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D56F 73 02				    jnb	    short loc_FD573
seg000:D571 D0 E1				    shl	    cl,	1
seg000:D573
seg000:D573			    loc_FD573:				    ; CODE XREF: sub_FF4ED-1F85j
seg000:D573								    ; sub_FF4ED-1F7Ej
seg000:D573 D0 E1				    shl	    cl,	1
seg000:D575
seg000:D575			    loc_FD575:				    ; CODE XREF: sub_FF4ED-1F8Cj
seg000:D575								    ; sub_FF4ED-1F36j
seg000:D575 8B 7E FE				    mov	    di,	[bp-2]
seg000:D578 03 FB				    add	    di,	bx
seg000:D57A 51					    push    cx
seg000:D57B F3 AA				    rep	stosb
seg000:D57D 59					    pop	    cx
seg000:D57E 8B 7E FE				    mov	    di,	[bp-2]
seg000:D581 81 C7 00 20				    add	    di,	2000h
seg000:D585 03 FB				    add	    di,	bx
seg000:D587 51					    push    cx
seg000:D588 F3 AA				    rep	stosb
seg000:D58A 59					    pop	    cx
seg000:D58B 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D590 72 21				    jb	    short loc_FD5B3
seg000:D592 8B 7E FE				    mov	    di,	[bp-2]
seg000:D595 81 C7 00 40				    add	    di,	4000h
seg000:D599 03 FB				    add	    di,	bx
seg000:D59B 51					    push    cx
seg000:D59C F3 AA				    rep	stosb
seg000:D59E 59					    pop	    cx
seg000:D59F 8B 7E FE				    mov	    di,	[bp-2]
seg000:D5A2 81 C7 00 60				    add	    di,	6000h
seg000:D5A6 03 FB				    add	    di,	bx
seg000:D5A8 51					    push    cx
seg000:D5A9 F3 AA				    rep	stosb
seg000:D5AB 59					    pop	    cx
seg000:D5AC 81 C3 A0 00				    add	    bx,	0A0h ; ' '
seg000:D5B0 EB 04				    jmp	    short loc_FD5B6
seg000:D5B0			    ; END OF FUNCTION CHUNK FOR	sub_FF4ED
seg000:D5B0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D5B2 90					    db	90h ; 
seg000:D5B3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D5B3			    ; START OF FUNCTION	CHUNK FOR sub_FF4ED
seg000:D5B3
seg000:D5B3			    loc_FD5B3:				    ; CODE XREF: sub_FF4ED-1F5Dj
seg000:D5B3 83 C3 50				    add	    bx,	50h ; 'P'
seg000:D5B6
seg000:D5B6			    loc_FD5B6:				    ; CODE XREF: sub_FF4ED-1F3Dj
seg000:D5B6 4A					    dec	    dx
seg000:D5B7 75 BC				    jnz	    short loc_FD575
seg000:D5B9 3B 7E 00				    cmp	    di,	[bp+0]
seg000:D5BC 74 06				    jz	    short loc_FD5C4
seg000:D5BE 5F					    pop	    di
seg000:D5BF E8 61 05				    call    sub_FDB23
seg000:D5C2 EB 83				    jmp	    short loc_FD547
seg000:D5C4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D5C4
seg000:D5C4			    loc_FD5C4:				    ; CODE XREF: sub_FF4ED-1F31j
seg000:D5C4 5F					    pop	    di
seg000:D5C5 5B					    pop	    bx
seg000:D5C6 C3					    retn
seg000:D5C6			    ; END OF FUNCTION CHUNK FOR	sub_FF4ED
seg000:D5C7
seg000:D5C7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D5C7
seg000:D5C7
seg000:D5C7			    sub_FD5C7	    proc near		    ; CODE XREF: int_10_08+Ap
seg000:D5C7 E8 FE 03				    call    sub_FD9C8
seg000:D5CA 83 EC 0A				    sub	    sp,	0Ah
seg000:D5CD 8B EC				    mov	    bp,	sp
seg000:D5CF 53					    push    bx
seg000:D5D0 33 DB				    xor	    bx,	bx
seg000:D5D2 B9 08 00				    mov	    cx,	8
seg000:D5D5 32 D2				    xor	    dl,	dl
seg000:D5D7
seg000:D5D7			    l0:					    ; CODE XREF: sub_FD5C7:l23j
seg000:D5D7 5E					    pop	    si
seg000:D5D8 56					    push    si
seg000:D5D9 03 F3				    add	    si,	bx
seg000:D5DB 06					    push    es
seg000:D5DC 2E 8E 06 11	D4			    mov	    es,	cs:value_b000
seg000:D5E1 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D5E6 75 03				    jnz	    short l1
seg000:D5E8 E9 AC 00				    jmp	    l17
seg000:D5EB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D5EB
seg000:D5EB			    l1:					    ; CODE XREF: sub_FD5C7+1Fj
seg000:D5EB 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D5F0 75 03				    jnz	    short l2
seg000:D5F2 E9 88 00				    jmp	    l14
seg000:D5F5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D5F5
seg000:D5F5			    l2:					    ; CODE XREF: sub_FD5C7+29j
seg000:D5F5 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D5FA 73 34				    jnb	    short l7
seg000:D5FC 26 8B 04				    mov	    ax,	es:[si]
seg000:D5FF 46					    inc	    si
seg000:D600 46					    inc	    si
seg000:D601 86 E0				    xchg    ah,	al
seg000:D603 53					    push    bx
seg000:D604 51					    push    cx
seg000:D605 B9 08 00				    mov	    cx,	8
seg000:D608 32 F6				    xor	    dh,	dh
seg000:D60A
seg000:D60A			    l3:					    ; CODE XREF: sub_FD5C7:l6j
seg000:D60A 32 DB				    xor	    bl,	bl
seg000:D60C D0 E6				    shl	    dh,	1
seg000:D60E D1 E0				    shl	    ax,	1
seg000:D610 73 05				    jnb	    short l4
seg000:D612 80 CA 02				    or	    dl,	2
seg000:D615 B3 01				    mov	    bl,	1
seg000:D617
seg000:D617			    l4:					    ; CODE XREF: sub_FD5C7+49j
seg000:D617 D1 E0				    shl	    ax,	1
seg000:D619 73 05				    jnb	    short l5
seg000:D61B 80 CA 01				    or	    dl,	1
seg000:D61E B3 01				    mov	    bl,	1
seg000:D620
seg000:D620			    l5:					    ; CODE XREF: sub_FD5C7+52j
seg000:D620 80 FB 00				    cmp	    bl,	0
seg000:D623 74 03				    jz	    short l6
seg000:D625 80 CE 01				    or	    dh,	1
seg000:D628
seg000:D628			    l6:					    ; CODE XREF: sub_FD5C7+5Cj
seg000:D628 E2 E0				    loop    l3
seg000:D62A 59					    pop	    cx
seg000:D62B 5B					    pop	    bx
seg000:D62C 8A C6				    mov	    al,	dh
seg000:D62E EB 71				    jmp	    short l18
seg000:D630			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D630
seg000:D630			    l7:					    ; CODE XREF: sub_FD5C7+33j
seg000:D630 53					    push    bx
seg000:D631 51					    push    cx
seg000:D632 32 F6				    xor	    dh,	dh
seg000:D634 B9 02 00				    mov	    cx,	2
seg000:D637
seg000:D637			    l7_1:				    ; CODE XREF: sub_FD5C7+AEj
seg000:D637 51					    push    cx
seg000:D638 B9 04 00				    mov	    cx,	4
seg000:D63B 26 8B 04				    mov	    ax,	es:[si]
seg000:D63E 46					    inc	    si
seg000:D63F 46					    inc	    si
seg000:D640 86 E0				    xchg    ah,	al
seg000:D642
seg000:D642			    l8:					    ; CODE XREF: sub_FD5C7:l13j
seg000:D642 32 DB				    xor	    bl,	bl
seg000:D644 D0 E6				    shl	    dh,	1
seg000:D646 D1 E0				    shl	    ax,	1
seg000:D648 73 05				    jnb	    short l9
seg000:D64A 80 CA 08				    or	    dl,	8
seg000:D64D B3 01				    mov	    bl,	1
seg000:D64F
seg000:D64F			    l9:					    ; CODE XREF: sub_FD5C7+81j
seg000:D64F D1 E0				    shl	    ax,	1
seg000:D651 73 05				    jnb	    short l10
seg000:D653 80 CA 04				    or	    dl,	4
seg000:D656 B3 01				    mov	    bl,	1
seg000:D658
seg000:D658			    l10:				    ; CODE XREF: sub_FD5C7+8Aj
seg000:D658 D1 E0				    shl	    ax,	1
seg000:D65A 73 05				    jnb	    short l11
seg000:D65C 80 CA 02				    or	    dl,	2
seg000:D65F B3 01				    mov	    bl,	1
seg000:D661
seg000:D661			    l11:				    ; CODE XREF: sub_FD5C7+93j
seg000:D661 D1 E0				    shl	    ax,	1
seg000:D663 73 05				    jnb	    short l12
seg000:D665 80 CA 01				    or	    dl,	1
seg000:D668 B3 01				    mov	    bl,	1
seg000:D66A
seg000:D66A			    l12:				    ; CODE XREF: sub_FD5C7+9Cj
seg000:D66A 80 FB 00				    cmp	    bl,	0
seg000:D66D 74 03				    jz	    short l13
seg000:D66F 80 CE 01				    or	    dh,	1
seg000:D672
seg000:D672			    l13:				    ; CODE XREF: sub_FD5C7+A6j
seg000:D672 E2 CE				    loop    l8
seg000:D674 59					    pop	    cx
seg000:D675 E2 C0				    loop    l7_1
seg000:D677 59					    pop	    cx
seg000:D678 5B					    pop	    bx
seg000:D679 8A C6				    mov	    al,	dh
seg000:D67B EB 24				    jmp	    short l18
seg000:D67D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D67D
seg000:D67D			    l14:				    ; CODE XREF: sub_FD5C7+2Bj
seg000:D67D 26 8A 04				    mov	    al,	es:[si]
seg000:D680 3C 00				    cmp	    al,	0
seg000:D682 74 03				    jz	    short l15
seg000:D684 80 CA 01				    or	    dl,	1
seg000:D687
seg000:D687			    l15:				    ; CODE XREF: sub_FD5C7+BBj
seg000:D687 26 8A 24				    mov	    ah,	es:[si]
seg000:D68A 80 FC 00				    cmp	    ah,	0
seg000:D68D 74 03				    jz	    short l16
seg000:D68F 80 CA 02				    or	    dl,	2
seg000:D692
seg000:D692			    l16:				    ; CODE XREF: sub_FD5C7+C6j
seg000:D692 0A C4				    or	    al,	ah
seg000:D694 EB 0B				    jmp	    short l18
seg000:D694			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D696 90					    db	90h ; 
seg000:D697			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D697
seg000:D697			    l17:				    ; CODE XREF: sub_FD5C7+21j
seg000:D697 26 8A 04				    mov	    al,	es:[si]
seg000:D69A 46					    inc	    si
seg000:D69B 3C 00				    cmp	    al,	0
seg000:D69D 74 02				    jz	    short l18
seg000:D69F B2 01				    mov	    dl,	1
seg000:D6A1
seg000:D6A1			    l18:				    ; CODE XREF: sub_FD5C7+67j
seg000:D6A1								    ; sub_FD5C7+B4j
seg000:D6A1								    ; sub_FD5C7+CDj
seg000:D6A1								    ; sub_FD5C7+D6j
seg000:D6A1 07					    pop	    es
seg000:D6A2 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D6A7 72 0C				    jb	    short l19
seg000:D6A9 83 F9 05				    cmp	    cx,	5
seg000:D6AC 75 0D				    jnz	    short l20
seg000:D6AE 81 EB 60 5F				    sub	    bx,	5F60h
seg000:D6B2 EB 10				    jmp	    short l22
seg000:D6B2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6B4 90					    db	90h ; 
seg000:D6B5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6B5
seg000:D6B5			    l19:				    ; CODE XREF: sub_FD5C7+E0j
seg000:D6B5 F7 C1 01 00				    test    cx,	1
seg000:D6B9 75 05				    jnz	    short l21
seg000:D6BB
seg000:D6BB			    l20:				    ; CODE XREF: sub_FD5C7+E5j
seg000:D6BB 80 C7 20				    add	    bh,	20h ; ' '
seg000:D6BE EB 04				    jmp	    short l22
seg000:D6C0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6C0
seg000:D6C0			    l21:				    ; CODE XREF: sub_FD5C7+F2j
seg000:D6C0 81 EB B0 1F				    sub	    bx,	1FB0h
seg000:D6C4
seg000:D6C4			    l22:				    ; CODE XREF: sub_FD5C7+EBj
seg000:D6C4								    ; sub_FD5C7+F7j
seg000:D6C4 88 46 00				    mov	    [bp+0], al
seg000:D6C7 45					    inc	    bp
seg000:D6C8 E2 03				    loop    l23
seg000:D6CA EB 04				    jmp	    short l24
seg000:D6CA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6CC 90					    db	90h ; 
seg000:D6CD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6CD
seg000:D6CD			    l23:				    ; CODE XREF: sub_FD5C7+101j
seg000:D6CD E9 07 FF				    jmp	    l0
seg000:D6D0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6D0
seg000:D6D0			    l24:				    ; CODE XREF: sub_FD5C7+103j
seg000:D6D0 83 ED 08				    sub	    bp,	8
seg000:D6D3 88 56 08				    mov	    [bp+8], dl
seg000:D6D6 33 C0				    xor	    ax,	ax
seg000:D6D8 8E C0				    mov	    es,	ax
seg000:D6DA BB 10 01				    mov	    bx,	110h
seg000:D6DD 26 8B 3F				    mov	    di,	es:[bx]
seg000:D6E0 26 8B 47 02				    mov	    ax,	es:[bx+2]
seg000:D6E4 8E C0				    mov	    es,	ax
seg000:D6E6 33 C9				    xor	    cx,	cx
seg000:D6E8 1E					    push    ds
seg000:D6E9 8C D0				    mov	    ax,	ss
seg000:D6EB 8E D8				    mov	    ds,	ax
seg000:D6ED 33 C0				    xor	    ax,	ax
seg000:D6EF EB 06				    jmp	    short l26
seg000:D6F1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D6F1
seg000:D6F1			    l25:				    ; CODE XREF: sub_FD5C7+13Dj
seg000:D6F1								    ; sub_FD5C7+142j
seg000:D6F1 40					    inc	    ax
seg000:D6F2 3D 7F 00				    cmp	    ax,	7Fh ; ''
seg000:D6F5 77 16				    ja	    short l28
seg000:D6F7
seg000:D6F7			    l26:				    ; CODE XREF: sub_FD5C7+128j
seg000:D6F7 8B F5				    mov	    si,	bp
seg000:D6F9 B9 04 00				    mov	    cx,	4
seg000:D6FC F3 A7				    repe cmpsw
seg000:D6FE 74 06				    jz	    short l27
seg000:D700 03 F9				    add	    di,	cx
seg000:D702 03 F9				    add	    di,	cx
seg000:D704 EB EB				    jmp	    short l25
seg000:D706			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D706
seg000:D706			    l27:				    ; CODE XREF: sub_FD5C7+137j
seg000:D706 83 F9 00				    cmp	    cx,	0
seg000:D709 75 E6				    jnz	    short l25
seg000:D70B EB 3E				    jmp	    short l33
seg000:D70D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D70D
seg000:D70D			    l28:				    ; CODE XREF: sub_FD5C7+12Ej
seg000:D70D 33 C0				    xor	    ax,	ax
seg000:D70F 8E C0				    mov	    es,	ax
seg000:D711 BB 7C 00				    mov	    bx,	7Ch ; '|'
seg000:D714 26 8B 3F				    mov	    di,	es:[bx]
seg000:D717 26 8B 47 02				    mov	    ax,	es:[bx+2]
seg000:D71B 8E C0				    mov	    es,	ax
seg000:D71D 33 C9				    xor	    cx,	cx
seg000:D71F 8C D0				    mov	    ax,	ss
seg000:D721 8E D8				    mov	    ds,	ax
seg000:D723 33 C0				    xor	    ax,	ax
seg000:D725 EB 06				    jmp	    short l30
seg000:D727			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D727
seg000:D727			    l29:				    ; CODE XREF: sub_FD5C7+173j
seg000:D727								    ; sub_FD5C7+178j
seg000:D727 40					    inc	    ax
seg000:D728 3D 7F 00				    cmp	    ax,	7Fh ; ''
seg000:D72B 77 19				    ja	    short l32
seg000:D72D
seg000:D72D			    l30:				    ; CODE XREF: sub_FD5C7+15Ej
seg000:D72D 8B F5				    mov	    si,	bp
seg000:D72F B9 04 00				    mov	    cx,	4
seg000:D732 F3 A7				    repe cmpsw
seg000:D734 74 06				    jz	    short l31
seg000:D736 03 F9				    add	    di,	cx
seg000:D738 03 F9				    add	    di,	cx
seg000:D73A EB EB				    jmp	    short l29
seg000:D73C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D73C
seg000:D73C			    l31:				    ; CODE XREF: sub_FD5C7+16Dj
seg000:D73C 83 F9 00				    cmp	    cx,	0
seg000:D73F 75 E6				    jnz	    short l29
seg000:D741 05 80 00				    add	    ax,	80h ; '€'
seg000:D744 EB 05				    jmp	    short l33
seg000:D746			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D746
seg000:D746			    l32:				    ; CODE XREF: sub_FD5C7+164j
seg000:D746 1F					    pop	    ds
seg000:D747 33 C0				    xor	    ax,	ax
seg000:D749 EB 04				    jmp	    short l34
seg000:D74B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D74B
seg000:D74B			    l33:				    ; CODE XREF: sub_FD5C7+144j
seg000:D74B								    ; sub_FD5C7+17Dj
seg000:D74B 1F					    pop	    ds
seg000:D74C 8A 66 08				    mov	    ah,	[bp+8]
seg000:D74F
seg000:D74F			    l34:				    ; CODE XREF: sub_FD5C7+182j
seg000:D74F 83 C4 0A				    add	    sp,	0Ah
seg000:D752 5B					    pop	    bx
seg000:D753 C3					    retn
seg000:D753			    sub_FD5C7	    endp
seg000:D753
seg000:D754
seg000:D754			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D754
seg000:D754
seg000:D754			    sub_FD754	    proc near		    ; CODE XREF: int_10_0a+12p
seg000:D754
seg000:D754			    ; FUNCTION CHUNK AT	seg000:D91B SIZE 00000003 BYTES
seg000:D754
seg000:D754 8B D9				    mov	    bx,	cx
seg000:D756 E8 90 03				    call    sub_FDAE9
seg000:D759 51					    push    cx
seg000:D75A 52					    push    dx
seg000:D75B 53					    push    bx
seg000:D75C 50					    push    ax
seg000:D75D 3C 7F				    cmp	    al,	7Fh ; ''
seg000:D75F 76 16				    jbe	    short loc_FD777
seg000:D761 58					    pop	    ax
seg000:D762 2C 80				    sub	    al,	80h ; '€'
seg000:D764 50					    push    ax
seg000:D765 33 C0				    xor	    ax,	ax
seg000:D767 8E C0				    mov	    es,	ax	    ; es = 0
seg000:D769 BB 7C 00				    mov	    bx,	7Ch ; '|'   ; int 0x1f
seg000:D76C 26 8B 37				    mov	    si,	es:[bx]	    ; int 0x1f offset (chatset 128-255)
seg000:D76F 26 8B 47 02				    mov	    ax,	es:[bx+2]   ; int 0x1f segment
seg000:D773 8E C0				    mov	    es,	ax
seg000:D775 EB 10				    jmp	    short loc_FD787
seg000:D777			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D777
seg000:D777			    loc_FD777:				    ; CODE XREF: sub_FD754+Bj
seg000:D777 33 C0				    xor	    ax,	ax
seg000:D779 8E C0				    mov	    es,	ax
seg000:D77B BB 10 01				    mov	    bx,	110h	    ; int 0x44
seg000:D77E 26 8B 37				    mov	    si,	es:[bx]	    ; int 0x44 offset (charset 0-127)
seg000:D781 26 8B 47 02				    mov	    ax,	es:[bx+2]   ; int 0x44 segment
seg000:D785 8E C0				    mov	    es,	ax
seg000:D787
seg000:D787			    loc_FD787:				    ; CODE XREF: sub_FD754+21j
seg000:D787 58					    pop	    ax
seg000:D788 32 FF				    xor	    bh,	bh
seg000:D78A 8A D8				    mov	    bl,	al
seg000:D78C D1 E3				    shl	    bx,	1
seg000:D78E D1 E3				    shl	    bx,	1
seg000:D790 D1 E3				    shl	    bx,	1
seg000:D792 03 F3				    add	    si,	bx
seg000:D794 EB 3B				    jmp	    short loc_FD7D1
seg000:D796			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D796
seg000:D796			    loc_FD796:				    ; CODE XREF: sub_FD754:loc_FD86Cj
seg000:D796 8B E9				    mov	    bp,	cx
seg000:D798 5A					    pop	    dx
seg000:D799 59					    pop	    cx
seg000:D79A 83 EE 08				    sub	    si,	8
seg000:D79D BB A0 00				    mov	    bx,	0A0h ; ' '
seg000:D7A0 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D7A5 74 14				    jz	    short loc_FD7BB
seg000:D7A7 BB 40 01				    mov	    bx,	140h
seg000:D7AA 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D7AF 74 0A				    jz	    short loc_FD7BB
seg000:D7B1 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D7B6 72 03				    jb	    short loc_FD7BB
seg000:D7B8 BB 80 02				    mov	    bx,	280h
seg000:D7BB
seg000:D7BB			    loc_FD7BB:				    ; CODE XREF: sub_FD754+51j
seg000:D7BB								    ; sub_FD754+5Bj
seg000:D7BB								    ; sub_FD754+62j
seg000:D7BB 83 C1 08				    add	    cx,	8
seg000:D7BE 3B CB				    cmp	    cx,	bx
seg000:D7C0 75 0C				    jnz	    short loc_FD7CE
seg000:D7C2 83 C2 08				    add	    dx,	8
seg000:D7C5 33 C9				    xor	    cx,	cx
seg000:D7C7 81 FA C8 00				    cmp	    dx,	0C8h ; 'È'
seg000:D7CB 75 01				    jnz	    short loc_FD7CE
seg000:D7CD C3					    retn
seg000:D7CE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D7CE
seg000:D7CE			    loc_FD7CE:				    ; CODE XREF: sub_FD754+6Cj
seg000:D7CE								    ; sub_FD754+77j
seg000:D7CE 51					    push    cx
seg000:D7CF 52					    push    dx
seg000:D7D0 55					    push    bp
seg000:D7D1
seg000:D7D1			    loc_FD7D1:				    ; CODE XREF: sub_FD754+40j
seg000:D7D1 E8 F7 01				    call    sub_FD9CB
seg000:D7D4 8B FB				    mov	    di,	bx
seg000:D7D6 57					    push    di
seg000:D7D7 8B EC				    mov	    bp,	sp
seg000:D7D9 33 DB				    xor	    bx,	bx
seg000:D7DB B9 08 00				    mov	    cx,	8
seg000:D7DE 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D7E3 75 03				    jnz	    short loc_FD7E8
seg000:D7E5 E9 87 00				    jmp	    loc_FD86F
seg000:D7E8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D7E8
seg000:D7E8			    loc_FD7E8:				    ; CODE XREF: sub_FD754+8Fj
seg000:D7E8 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D7ED 75 03				    jnz	    short loc_FD7F2
seg000:D7EF EB 7E				    jmp	    short loc_FD86F
seg000:D7EF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D7F1 90					    db	90h ; 
seg000:D7F2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D7F2
seg000:D7F2			    loc_FD7F2:				    ; CODE XREF: sub_FD754+99j
seg000:D7F2 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D7F7 75 03				    jnz	    short loc_FD7FC
seg000:D7F9 E9 1F 01				    jmp	    loc_FD91B
seg000:D7FC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D7FC
seg000:D7FC			    loc_FD7FC:				    ; CODE XREF: sub_FD754+A3j
seg000:D7FC								    ; sub_FD754:loc_FD863j
seg000:D7FC 26 8A 14				    mov	    dl,	es:[si]
seg000:D7FF 46					    inc	    si
seg000:D800 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D805 74 1A				    jz	    short loc_FD821
seg000:D807 51					    push    cx
seg000:D808 B9 08 00				    mov	    cx,	8
seg000:D80B 8A C2				    mov	    al,	dl
seg000:D80D 33 D2				    xor	    dx,	dx
seg000:D80F
seg000:D80F			    loc_FD80F:				    ; CODE XREF: sub_FD754:loc_FD81Ej
seg000:D80F D1 E2				    shl	    dx,	1
seg000:D811 D1 E2				    shl	    dx,	1
seg000:D813 D0 E0				    shl	    al,	1
seg000:D815 73 07				    jnb	    short loc_FD81E
seg000:D817 50					    push    ax
seg000:D818 80 E4 03				    and	    ah,	3
seg000:D81B 0A D4				    or	    dl,	ah
seg000:D81D 58					    pop	    ax
seg000:D81E
seg000:D81E			    loc_FD81E:				    ; CODE XREF: sub_FD754+C1j
seg000:D81E E2 EF				    loop    loc_FD80F
seg000:D820 59					    pop	    cx
seg000:D821
seg000:D821			    loc_FD821:				    ; CODE XREF: sub_FD754+B1j
seg000:D821 06					    push    es
seg000:D822 2E 8E 06 11	D4			    mov	    es,	cs:value_b000
seg000:D827 50					    push    ax
seg000:D828 92					    xchg    ax,	dx
seg000:D829 8B 7E 00				    mov	    di,	[bp+0]
seg000:D82C 03 FB				    add	    di,	bx
seg000:D82E 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D833 74 11				    jz	    short loc_FD846
seg000:D835 86 E0				    xchg    ah,	al
seg000:D837 F6 C6 80				    test    dh,	80h
seg000:D83A 74 07				    jz	    short loc_FD843
seg000:D83C 26 31 05				    xor	    es:[di], ax
seg000:D83F 47					    inc	    di
seg000:D840 47					    inc	    di
seg000:D841 EB 0F				    jmp	    short loc_FD852
seg000:D843			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D843
seg000:D843			    loc_FD843:				    ; CODE XREF: sub_FD754+E6j
seg000:D843 AB					    stosw
seg000:D844 EB 0C				    jmp	    short loc_FD852
seg000:D846			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D846
seg000:D846			    loc_FD846:				    ; CODE XREF: sub_FD754+DFj
seg000:D846 F6 C6 80				    test    dh,	80h
seg000:D849 74 06				    jz	    short loc_FD851
seg000:D84B 26 30 05				    xor	    es:[di], al
seg000:D84E 47					    inc	    di
seg000:D84F EB 01				    jmp	    short loc_FD852
seg000:D851			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D851
seg000:D851			    loc_FD851:				    ; CODE XREF: sub_FD754+F5j
seg000:D851 AA					    stosb
seg000:D852
seg000:D852			    loc_FD852:				    ; CODE XREF: sub_FD754+EDj
seg000:D852								    ; sub_FD754+F0j
seg000:D852								    ; sub_FD754+FBj
seg000:D852 58					    pop	    ax
seg000:D853 07					    pop	    es
seg000:D854 F7 C1 01 00				    test    cx,	1
seg000:D858 75 05				    jnz	    short loc_FD85F
seg000:D85A 80 C7 20				    add	    bh,	20h ; ' '
seg000:D85D EB 04				    jmp	    short loc_FD863
seg000:D85F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D85F
seg000:D85F			    loc_FD85F:				    ; CODE XREF: sub_FD754+104j
seg000:D85F 81 EB B0 1F				    sub	    bx,	1FB0h
seg000:D863
seg000:D863			    loc_FD863:				    ; CODE XREF: sub_FD754+109j
seg000:D863 E2 97				    loop    loc_FD7FC
seg000:D865
seg000:D865			    loc_FD865:				    ; CODE XREF: sub_FD754+198j
seg000:D865 5F					    pop	    di
seg000:D866 59					    pop	    cx
seg000:D867 E2 03				    loop    loc_FD86C
seg000:D869 5A					    pop	    dx
seg000:D86A 59					    pop	    cx
seg000:D86B C3					    retn
seg000:D86C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D86C
seg000:D86C			    loc_FD86C:				    ; CODE XREF: sub_FD754+113j
seg000:D86C E9 27 FF				    jmp	    loc_FD796
seg000:D86F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D86F
seg000:D86F			    loc_FD86F:				    ; CODE XREF: sub_FD754+91j
seg000:D86F								    ; sub_FD754+9Bj
seg000:D86F								    ; sub_FD754:loc_FD91Bj
seg000:D86F B9 08 00				    mov	    cx,	8
seg000:D872
seg000:D872			    loc_FD872:				    ; CODE XREF: sub_FD754:loc_FD8EAj
seg000:D872 51					    push    cx
seg000:D873 26 8A 14				    mov	    dl,	es:[si]
seg000:D876 46					    inc	    si
seg000:D877 8A C2				    mov	    al,	dl
seg000:D879 06					    push    es
seg000:D87A 53					    push    bx
seg000:D87B 2E 8E 06 11	D4			    mov	    es,	cs:value_b000
seg000:D880 8B 7E 00				    mov	    di,	[bp+0]
seg000:D883 03 FB				    add	    di,	bx
seg000:D885 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D88A 75 23				    jnz	    short loc_FD8AF
seg000:D88C 92					    xchg    ax,	dx
seg000:D88D 8A E0				    mov	    ah,	al
seg000:D88F F6 C6 01				    test    dh,	1
seg000:D892 75 02				    jnz	    short loc_FD896
seg000:D894 B0 00				    mov	    al,	0
seg000:D896
seg000:D896			    loc_FD896:				    ; CODE XREF: sub_FD754+13Ej
seg000:D896 F6 C6 02				    test    dh,	2
seg000:D899 75 02				    jnz	    short loc_FD89D
seg000:D89B B4 00				    mov	    ah,	0
seg000:D89D
seg000:D89D			    loc_FD89D:				    ; CODE XREF: sub_FD754+145j
seg000:D89D F6 C6 80				    test    dh,	80h
seg000:D8A0 74 08				    jz	    short loc_FD8AA
seg000:D8A2 26 31 05				    xor	    es:[di], ax
seg000:D8A5 47					    inc	    di
seg000:D8A6 47					    inc	    di
seg000:D8A7 EB 02				    jmp	    short loc_FD8AB
seg000:D8A7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8A9 90					    db	90h ; 
seg000:D8AA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8AA
seg000:D8AA			    loc_FD8AA:				    ; CODE XREF: sub_FD754+14Cj
seg000:D8AA AB					    stosw
seg000:D8AB
seg000:D8AB			    loc_FD8AB:				    ; CODE XREF: sub_FD754+153j
seg000:D8AB 92					    xchg    ax,	dx
seg000:D8AC EB 22				    jmp	    short loc_FD8D0
seg000:D8AC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8AE 90					    db	90h ; 
seg000:D8AF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8AF
seg000:D8AF			    loc_FD8AF:				    ; CODE XREF: sub_FD754+136j
seg000:D8AF E8 4E 00				    call    sub_FD900
seg000:D8B2 8B D3				    mov	    dx,	bx
seg000:D8B4 E8 49 00				    call    sub_FD900
seg000:D8B7 B9 02 00				    mov	    cx,	2
seg000:D8BA
seg000:D8BA			    loc_FD8BA:				    ; CODE XREF: sub_FD754+17Aj
seg000:D8BA 92					    xchg    ax,	dx
seg000:D8BB 86 E0				    xchg    ah,	al
seg000:D8BD F6 C6 80				    test    dh,	80h
seg000:D8C0 74 08				    jz	    short loc_FD8CA
seg000:D8C2 26 31 05				    xor	    es:[di], ax
seg000:D8C5 47					    inc	    di
seg000:D8C6 47					    inc	    di
seg000:D8C7 EB 02				    jmp	    short loc_FD8CB
seg000:D8C7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8C9 90					    db	90h ; 
seg000:D8CA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8CA
seg000:D8CA			    loc_FD8CA:				    ; CODE XREF: sub_FD754+16Cj
seg000:D8CA AB					    stosw
seg000:D8CB
seg000:D8CB			    loc_FD8CB:				    ; CODE XREF: sub_FD754+173j
seg000:D8CB 92					    xchg    ax,	dx
seg000:D8CC 8B D3				    mov	    dx,	bx
seg000:D8CE E2 EA				    loop    loc_FD8BA
seg000:D8D0
seg000:D8D0			    loc_FD8D0:				    ; CODE XREF: sub_FD754+158j
seg000:D8D0 5B					    pop	    bx
seg000:D8D1 07					    pop	    es
seg000:D8D2 59					    pop	    cx
seg000:D8D3 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D8D8 75 15				    jnz	    short loc_FD8EF
seg000:D8DA F7 C1 01 00				    test    cx,	1
seg000:D8DE 75 06				    jnz	    short loc_FD8E6
seg000:D8E0 80 C7 20				    add	    bh,	20h ; ' '
seg000:D8E3 EB 05				    jmp	    short loc_FD8EA
seg000:D8E3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8E5 90					    db	90h ; 
seg000:D8E6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8E6
seg000:D8E6			    loc_FD8E6:				    ; CODE XREF: sub_FD754+18Aj
seg000:D8E6 81 EB B0 1F				    sub	    bx,	1FB0h
seg000:D8EA
seg000:D8EA			    loc_FD8EA:				    ; CODE XREF: sub_FD754+18Fj
seg000:D8EA								    ; sub_FD754:loc_FD8FEj
seg000:D8EA E2 86				    loop    loc_FD872
seg000:D8EC E9 76 FF				    jmp	    loc_FD865
seg000:D8EF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8EF
seg000:D8EF			    loc_FD8EF:				    ; CODE XREF: sub_FD754+184j
seg000:D8EF 83 F9 05				    cmp	    cx,	5
seg000:D8F2 75 07				    jnz	    short loc_FD8FB
seg000:D8F4 81 EB 60 5F				    sub	    bx,	5F60h
seg000:D8F8 EB 04				    jmp	    short loc_FD8FE
seg000:D8F8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8FA 90					    db	90h ; 
seg000:D8FB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D8FB
seg000:D8FB			    loc_FD8FB:				    ; CODE XREF: sub_FD754+19Ej
seg000:D8FB 80 C7 20				    add	    bh,	20h ; ' '
seg000:D8FE
seg000:D8FE			    loc_FD8FE:				    ; CODE XREF: sub_FD754+1A4j
seg000:D8FE EB EA				    jmp	    short loc_FD8EA
seg000:D8FE			    sub_FD754	    endp
seg000:D8FE
seg000:D900
seg000:D900			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D900
seg000:D900
seg000:D900			    sub_FD900	    proc near		    ; CODE XREF: sub_FD754:loc_FD8AFp
seg000:D900								    ; sub_FD754+160p
seg000:D900 33 DB				    xor	    bx,	bx
seg000:D902 B9 04 00				    mov	    cx,	4
seg000:D905
seg000:D905			    l0:					    ; CODE XREF: sub_FD900:l1j
seg000:D905 D1 E3				    shl	    bx,	1
seg000:D907 D1 E3				    shl	    bx,	1
seg000:D909 D1 E3				    shl	    bx,	1
seg000:D90B D1 E3				    shl	    bx,	1
seg000:D90D D0 E0				    shl	    al,	1
seg000:D90F 73 07				    jnb	    short l1
seg000:D911 50					    push    ax
seg000:D912 80 E4 0F				    and	    ah,	0Fh
seg000:D915 0A DC				    or	    bl,	ah
seg000:D917 58					    pop	    ax
seg000:D918
seg000:D918			    l1:					    ; CODE XREF: sub_FD900+Fj
seg000:D918 E2 EB				    loop    l0
seg000:D91A C3					    retn
seg000:D91A			    sub_FD900	    endp
seg000:D91A
seg000:D91B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D91B			    ; START OF FUNCTION	CHUNK FOR sub_FD754
seg000:D91B
seg000:D91B			    loc_FD91B:				    ; CODE XREF: sub_FD754+A5j
seg000:D91B E9 51 FF				    jmp	    loc_FD86F
seg000:D91B			    ; END OF FUNCTION CHUNK FOR	sub_FD754
seg000:D91E
seg000:D91E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D91E
seg000:D91E			    ;	  Returns a list of installed equipment	on the system.
seg000:D91E			    ;
seg000:D91E			    ;	     On	entry:	    No parameters
seg000:D91E			    ;
seg000:D91E			    ;	     Returns:	    AX	       Equipment code
seg000:D91E			    ;
seg000:D91E			    ;	--------------------------------------------------------------------------
seg000:D91E			    ;
seg000:D91E			    ;				 Equipment code	(AX)
seg000:D91E			    ;
seg000:D91E			    ;	F E D C	B A 9 8	 7 6 5 4 3 2 1 0
seg000:D91E			    ;	x x . .	. . . .	 . . . . . . . .  Number of printers installed
seg000:D91E			    ;	. . x .	. . . .	 . . . . . . . .  Internal modem installed
seg000:D91E			    ;	. . . x	. . . .	 . . . . . . . .  Game adapter installed? (always 1 on PCJr)
seg000:D91E			    ;	. . . .	x x x .	 . . . . . . . .  Number of RS-232 ports
seg000:D91E			    ;	. . . .	. . . x	 . . . . . . . .  Reserved
seg000:D91E			    ;	. . . .	. . . .	 x x . . . . . .  Number of diskettes -	1 (i.e.	0=1 disk)
seg000:D91E			    ;	. . . .	. . . .	 . . x x . . . .  Initial video	mode (see below)
seg000:D91E			    ;	. . . .	. . . .	 . . . . x . . .  Reserved
seg000:D91E			    ;	. . . .	. . . .	 . . . . . x . .  Reserved
seg000:D91E			    ;	. . . .	. . . .	 . . . . . . x .  Math coprocessor installed?
seg000:D91E			    ;	. . . .	. . . .	 . . . . . . . x  1=diskettes present; 0=no disks present
seg000:D91E			    ;
seg000:D91E			    ;
seg000:D91E			    ;			       Initial video mode
seg000:D91E			    ;
seg000:D91E			    ;			  Value			Meaning
seg000:D91E			    ;			   00			Reserved
seg000:D91E			    ;			   01			40 x 25	Color
seg000:D91E			    ;			   10			80 x 25	Color
seg000:D91E			    ;			   11			80 x 25	Monochrome
seg000:D91E
seg000:D91E			    int_11	    proc far		    ; DATA XREF: seg000:FF05o
seg000:D91E 53					    push    bx
seg000:D91F 1E					    push    ds
seg000:D920 B8 40 00				    mov	    ax,	40h ; '@'
seg000:D923 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:D925 8D 1E 10 00				    lea	    bx,	ds:p400.installed_hardware
seg000:D929 8B 07				    mov	    ax,	[bx]	    ; isn't it better a  `mov ax, ds:10h`?
seg000:D92B 1F					    pop	    ds
seg000:D92C 5B					    pop	    bx
seg000:D92D CF					    iret
seg000:D92D			    int_11	    endp
seg000:D92D
seg000:D92E
seg000:D92E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D92E
seg000:D92E			    ;	  Reports the number of	contiguous 1K memory blocks in the system (up to
seg000:D92E			    ;	  640K).
seg000:D92E			    ;
seg000:D92E			    ;	     On	entry:	    No parameters
seg000:D92E			    ;
seg000:D92E			    ;	     Returns:	    AX	       Memory size (up to 640K)
seg000:D92E
seg000:D92E			    int_12	    proc far		    ; DATA XREF: seg000:FF07o
seg000:D92E 53					    push    bx
seg000:D92F 1E					    push    ds
seg000:D930 B8 40 00				    mov	    ax,	40h ; '@'
seg000:D933 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:D935 8D 1E 13 00				    lea	    bx,	ds:p400.base_mem_kb
seg000:D939 8B 07				    mov	    ax,	[bx]
seg000:D93B 1F					    pop	    ds
seg000:D93C 5B					    pop	    bx
seg000:D93D CF					    iret
seg000:D93D			    int_12	    endp
seg000:D93D
seg000:D93E
seg000:D93E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D93E
seg000:D93E			    ; Attributes: bp-based frame
seg000:D93E
seg000:D93E			    int_push_regs   proc near		    ; CODE XREF: int_13p
seg000:D93E								    ; int_14p
seg000:D93E								    ; seg000:int_09p
seg000:D93E								    ; int_17p
seg000:D93E								    ; int_10p
seg000:D93E
seg000:D93E			    arg_C	    = word ptr	0Eh
seg000:D93E
seg000:D93E FB					    sti
seg000:D93F 51					    push    cx
seg000:D940 52					    push    dx
seg000:D941 56					    push    si
seg000:D942 57					    push    di
seg000:D943 55					    push    bp
seg000:D944 1E					    push    ds
seg000:D945 06					    push    es
seg000:D946 8B EC				    mov	    bp,	sp
seg000:D948 FF 76 0E				    push    [bp+arg_C]
seg000:D94B 89 5E 0E				    mov	    [bp+arg_C],	bx
seg000:D94E C3					    retn
seg000:D94E			    int_push_regs   endp ; sp =	-10h
seg000:D94E
seg000:D94F
seg000:D94F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D94F
seg000:D94F
seg000:D94F			    int_pop_regs_and_exit proc far	    ; CODE XREF: int_14:exit1j
seg000:D94F								    ; seg000:EB1Ej
seg000:D94F								    ; int_17:exit1j
seg000:D94F								    ; int_10:errorj
seg000:D94F								    ; int_10_00+1Aj
seg000:D94F								    ; int_10_00+1C3j ...
seg000:D94F 07					    pop	    es
seg000:D950 1F					    pop	    ds
seg000:D951 5D					    pop	    bp
seg000:D952 5F					    pop	    di
seg000:D953 5E					    pop	    si
seg000:D954 5A					    pop	    dx
seg000:D955 59					    pop	    cx
seg000:D956 5B					    pop	    bx
seg000:D957 CF					    iret
seg000:D957			    int_pop_regs_and_exit endp ; sp =  10h
seg000:D957
seg000:D958
seg000:D958			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D958
seg000:D958			    ; check whether al is between 0 and	di
seg000:D958			    ; set ds to	0x40
seg000:D958
seg000:D958			    check_valid_subfunction proc near	    ; CODE XREF: int_13+7p
seg000:D958								    ; int_14+7p
seg000:D958								    ; int_16+Bp
seg000:D958								    ; int_17+7p
seg000:D958								    ; int_10+8p
seg000:D958 50					    push    ax
seg000:D959 8A C4				    mov	    al,	ah
seg000:D95B 32 E4				    xor	    ah,	ah
seg000:D95D D1 E0				    shl	    ax,	1
seg000:D95F 3B C7				    cmp	    ax,	di
seg000:D961 8B F8				    mov	    di,	ax
seg000:D963 B8 40 00				    mov	    ax,	40h ; '@'
seg000:D966 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:D968 58					    pop	    ax
seg000:D969 73 02				    jnb	    short error
seg000:D96B F8					    clc
seg000:D96C C3					    retn
seg000:D96D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D96D
seg000:D96D			    error:				    ; CODE XREF: check_valid_subfunction+11j
seg000:D96D F9					    stc
seg000:D96E C3					    retn
seg000:D96E			    check_valid_subfunction endp
seg000:D96E
seg000:D96F
seg000:D96F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D96F
seg000:D96F
seg000:D96F			    sub_FD96F	    proc near		    ; CODE XREF: sub_FF4ED+2Ep
seg000:D96F								    ; sub_FF4ED+4Fp
seg000:D96F								    ; sub_FF4ED+79p
seg000:D96F								    ; int_10_08+11p
seg000:D96F								    ; int_10_0a+1Cp
seg000:D96F 50					    push    ax
seg000:D970 52					    push    dx
seg000:D971 57					    push    di
seg000:D972 B8 00 B0				    mov	    ax,	0B000h
seg000:D975 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7
seg000:D97A 75 06				    jnz	    short loc_FD982
seg000:D97C 32 FF				    xor	    bh,	bh
seg000:D97E 8E C0				    mov	    es,	ax
seg000:D980 EB 0E				    jmp	    short loc_FD990
seg000:D982			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D982
seg000:D982			    loc_FD982:				    ; CODE XREF: sub_FD96F+Bj
seg000:D982 80 C4 08				    add	    ah,	8
seg000:D985 8E C0				    mov	    es,	ax
seg000:D987 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:D98C 7C 02				    jl	    short loc_FD990
seg000:D98E 32 FF				    xor	    bh,	bh
seg000:D990
seg000:D990			    loc_FD990:				    ; CODE XREF: sub_FD96F+11j
seg000:D990								    ; sub_FD96F+1Dj
seg000:D990 80 FB 00				    cmp	    bl,	0
seg000:D993 74 05				    jz	    short loc_FD99A
seg000:D995 8A DF				    mov	    bl,	bh
seg000:D997 E8 64 01				    call    sub_FDAFE
seg000:D99A
seg000:D99A			    loc_FD99A:				    ; CODE XREF: sub_FD96F+24j
seg000:D99A 33 FF				    xor	    di,	di
seg000:D99C 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7
seg000:D9A1 74 0D				    jz	    short loc_FD9B0
seg000:D9A3 52					    push    dx
seg000:D9A4 A1 4C 00				    mov	    ax,	ds:p400.crt_page_len
seg000:D9A7 8A DF				    mov	    bl,	bh
seg000:D9A9 32 FF				    xor	    bh,	bh
seg000:D9AB F7 E3				    mul	    bx
seg000:D9AD 03 F8				    add	    di,	ax
seg000:D9AF 5A					    pop	    dx
seg000:D9B0
seg000:D9B0			    loc_FD9B0:				    ; CODE XREF: sub_FD96F+32j
seg000:D9B0 32 E4				    xor	    ah,	ah
seg000:D9B2 8A C6				    mov	    al,	dh
seg000:D9B4 F6 26 4A 00				    mul	    byte ptr ds:p400.crt_nr_cols
seg000:D9B8 D1 E0				    shl	    ax,	1
seg000:D9BA 32 F6				    xor	    dh,	dh
seg000:D9BC D1 E2				    shl	    dx,	1
seg000:D9BE 03 C2				    add	    ax,	dx
seg000:D9C0 8B D8				    mov	    bx,	ax
seg000:D9C2 03 DF				    add	    bx,	di
seg000:D9C4 5F					    pop	    di
seg000:D9C5 5A					    pop	    dx
seg000:D9C6 58					    pop	    ax
seg000:D9C7 C3					    retn
seg000:D9C7			    sub_FD96F	    endp
seg000:D9C7
seg000:D9C8
seg000:D9C8			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D9C8
seg000:D9C8
seg000:D9C8			    sub_FD9C8	    proc near		    ; CODE XREF: sub_FF4ED-20BCp
seg000:D9C8								    ; sub_FF4ED:loc_FD436p
seg000:D9C8								    ; sub_FF4ED-2082p
seg000:D9C8								    ; sub_FF4ED:loc_FD490p
seg000:D9C8								    ; sub_FD5C7p
seg000:D9C8 E8 1E 01				    call    sub_FDAE9
seg000:D9C8			    sub_FD9C8	    endp
seg000:D9C8
seg000:D9CB
seg000:D9CB			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:D9CB
seg000:D9CB
seg000:D9CB			    sub_FD9CB	    proc near		    ; CODE XREF: sub_FD754:loc_FD7D1p
seg000:D9CB								    ; sub_FF93F:loc_FF980p
seg000:D9CB								    ; sub_FF93F+51p
seg000:D9CB 50					    push    ax
seg000:D9CC 51					    push    cx
seg000:D9CD 52					    push    dx
seg000:D9CE 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:D9D3 75 03				    jnz	    short l0
seg000:D9D5 EB 5C				    jmp	    short l7
seg000:D9D5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D9D7 90					    db	90h ; 
seg000:D9D8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D9D8
seg000:D9D8			    l0:					    ; CODE XREF: sub_FD9CB+8j
seg000:D9D8 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:D9DD 75 03				    jnz	    short l1
seg000:D9DF E9 7F 00				    jmp	    l10
seg000:D9E2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D9E2
seg000:D9E2			    l1:					    ; CODE XREF: sub_FD9CB+12j
seg000:D9E2 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:D9E7 75 03				    jnz	    short l2
seg000:D9E9 E9 B8 00				    jmp	    l15
seg000:D9EC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:D9EC
seg000:D9EC			    l2:					    ; CODE XREF: sub_FD9CB+1Cj
seg000:D9EC B8 28 00				    mov	    ax,	28h ; '('
seg000:D9EF 81 E2 FE FF				    and	    dx,	0FFFEh
seg000:D9F3 F7 E2				    mul	    dx
seg000:D9F5 D1 E9				    shr	    cx,	1
seg000:D9F7 D1 E9				    shr	    cx,	1
seg000:D9F9 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:D9FE 75 02				    jnz	    short l3
seg000:DA00 D1 E9				    shr	    cx,	1
seg000:DA02
seg000:DA02			    l3:					    ; CODE XREF: sub_FD9CB+33j
seg000:DA02 03 C1				    add	    ax,	cx
seg000:DA04 80 C4 80				    add	    ah,	80h ; '€'
seg000:DA07 5B					    pop	    bx
seg000:DA08 F7 C3 01 00				    test    bx,	1
seg000:DA0C 74 03				    jz	    short l4
seg000:DA0E 80 C4 20				    add	    ah,	20h ; ' '
seg000:DA11
seg000:DA11			    l4:					    ; CODE XREF: sub_FD9CB+41j
seg000:DA11 8B D8				    mov	    bx,	ax
seg000:DA13 58					    pop	    ax
seg000:DA14 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:DA19 75 0B				    jnz	    short l5
seg000:DA1B B9 08 00				    mov	    cx,	8
seg000:DA1E F7 F1				    div	    cx
seg000:DA20 B1 07				    mov	    cl,	7
seg000:DA22 2A CA				    sub	    cl,	dl
seg000:DA24 EB 0B				    jmp	    short l6
seg000:DA26			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DA26
seg000:DA26			    l5:					    ; CODE XREF: sub_FD9CB+4Ej
seg000:DA26 B9 04 00				    mov	    cx,	4
seg000:DA29 F7 F1				    div	    cx
seg000:DA2B D1 E2				    shl	    dx,	1
seg000:DA2D B1 06				    mov	    cl,	6
seg000:DA2F 2A CA				    sub	    cl,	dl
seg000:DA31
seg000:DA31			    l6:					    ; CODE XREF: sub_FD9CB+59j
seg000:DA31								    ; sub_FD9CB:l9j
seg000:DA31								    ; sub_FD9CB:l14j
seg000:DA31								    ; sub_FD9CB+11Bj
seg000:DA31 58					    pop	    ax
seg000:DA32 C3					    retn
seg000:DA33			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DA33
seg000:DA33			    l7:					    ; CODE XREF: sub_FD9CB+Aj
seg000:DA33 B8 28 00				    mov	    ax,	28h ; '('
seg000:DA36 81 E2 FE FF				    and	    dx,	0FFFEh
seg000:DA3A F7 E2				    mul	    dx
seg000:DA3C D1 E9				    shr	    cx,	1
seg000:DA3E 03 C1				    add	    ax,	cx
seg000:DA40 80 C4 80				    add	    ah,	80h ; '€'
seg000:DA43 5B					    pop	    bx
seg000:DA44 F7 C3 01 00				    test    bx,	1
seg000:DA48 74 03				    jz	    short l8
seg000:DA4A 80 C4 20				    add	    ah,	20h ; ' '
seg000:DA4D
seg000:DA4D			    l8:					    ; CODE XREF: sub_FD9CB+7Dj
seg000:DA4D 8B D8				    mov	    bx,	ax
seg000:DA4F 58					    pop	    ax
seg000:DA50 B9 02 00				    mov	    cx,	2
seg000:DA53 F7 F1				    div	    cx
seg000:DA55 B9 04 00				    mov	    cx,	4
seg000:DA58 22 D2				    and	    dl,	dl
seg000:DA5A 74 03				    jz	    short l9
seg000:DA5C B9 00 00				    mov	    cx,	0
seg000:DA5F
seg000:DA5F			    l9:					    ; CODE XREF: sub_FD9CB+8Fj
seg000:DA5F EB D0				    jmp	    short l6
seg000:DA61			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DA61
seg000:DA61			    l10:				    ; CODE XREF: sub_FD9CB+14j
seg000:DA61 B8 50 00				    mov	    ax,	50h ; 'P'
seg000:DA64 81 E2 FC FF				    and	    dx,	0FFFCh
seg000:DA68 D1 EA				    shr	    dx,	1
seg000:DA6A F7 E2				    mul	    dx
seg000:DA6C D1 E9				    shr	    cx,	1
seg000:DA6E 03 C1				    add	    ax,	cx
seg000:DA70 80 C4 80				    add	    ah,	80h ; '€'
seg000:DA73 5B					    pop	    bx
seg000:DA74 81 E3 03 00				    and	    bx,	3
seg000:DA78 83 FB 03				    cmp	    bx,	3
seg000:DA7B 72 03				    jb	    short l11
seg000:DA7D 80 C4 20				    add	    ah,	20h ; ' '
seg000:DA80
seg000:DA80			    l11:				    ; CODE XREF: sub_FD9CB+B0j
seg000:DA80 83 FB 02				    cmp	    bx,	2
seg000:DA83 72 03				    jb	    short l12
seg000:DA85 80 C4 20				    add	    ah,	20h ; ' '
seg000:DA88
seg000:DA88			    l12:				    ; CODE XREF: sub_FD9CB+B8j
seg000:DA88 83 FB 01				    cmp	    bx,	1
seg000:DA8B 72 03				    jb	    short l13
seg000:DA8D 80 C4 20				    add	    ah,	20h ; ' '
seg000:DA90
seg000:DA90			    l13:				    ; CODE XREF: sub_FD9CB+C0j
seg000:DA90 8B D8				    mov	    bx,	ax
seg000:DA92 58					    pop	    ax
seg000:DA93 B9 02 00				    mov	    cx,	2
seg000:DA96 F7 F1				    div	    cx
seg000:DA98 B9 04 00				    mov	    cx,	4
seg000:DA9B 22 D2				    and	    dl,	dl
seg000:DA9D 74 03				    jz	    short l14
seg000:DA9F B9 00 00				    mov	    cx,	0
seg000:DAA2
seg000:DAA2			    l14:				    ; CODE XREF: sub_FD9CB+D2j
seg000:DAA2 EB 8D				    jmp	    short l6
seg000:DAA4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DAA4
seg000:DAA4			    l15:				    ; CODE XREF: sub_FD9CB+1Ej
seg000:DAA4 B8 50 00				    mov	    ax,	50h ; 'P'
seg000:DAA7 81 E2 FC FF				    and	    dx,	0FFFCh
seg000:DAAB D1 EA				    shr	    dx,	1
seg000:DAAD F7 E2				    mul	    dx
seg000:DAAF D1 E9				    shr	    cx,	1
seg000:DAB1 D1 E9				    shr	    cx,	1
seg000:DAB3 81 E1 FE FF				    and	    cx,	0FFFEh
seg000:DAB7 03 C1				    add	    ax,	cx
seg000:DAB9 80 C4 80				    add	    ah,	80h ; '€'
seg000:DABC 5B					    pop	    bx
seg000:DABD 81 E3 03 00				    and	    bx,	3
seg000:DAC1 83 FB 03				    cmp	    bx,	3
seg000:DAC4 72 03				    jb	    short l16
seg000:DAC6 80 C4 20				    add	    ah,	20h ; ' '
seg000:DAC9
seg000:DAC9			    l16:				    ; CODE XREF: sub_FD9CB+F9j
seg000:DAC9 83 FB 02				    cmp	    bx,	2
seg000:DACC 72 03				    jb	    short l17
seg000:DACE 80 C4 20				    add	    ah,	20h ; ' '
seg000:DAD1
seg000:DAD1			    l17:				    ; CODE XREF: sub_FD9CB+101j
seg000:DAD1 83 FB 01				    cmp	    bx,	1
seg000:DAD4 72 03				    jb	    short l18
seg000:DAD6 80 C4 20				    add	    ah,	20h ; ' '
seg000:DAD9
seg000:DAD9			    l18:				    ; CODE XREF: sub_FD9CB+109j
seg000:DAD9 8B D8				    mov	    bx,	ax
seg000:DADB 58					    pop	    ax
seg000:DADC B9 08 00				    mov	    cx,	8
seg000:DADF F7 F1				    div	    cx
seg000:DAE1 B9 07 00				    mov	    cx,	7
seg000:DAE4 2B CA				    sub	    cx,	dx
seg000:DAE6 E9 48 FF				    jmp	    l6
seg000:DAE6			    sub_FD9CB	    endp
seg000:DAE6
seg000:DAE9
seg000:DAE9			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DAE9
seg000:DAE9
seg000:DAE9			    sub_FDAE9	    proc near		    ; CODE XREF: sub_FD754+2p
seg000:DAE9								    ; sub_FD9C8p
seg000:DAE9 32 ED				    xor	    ch,	ch
seg000:DAEB 8A CA				    mov	    cl,	dl
seg000:DAED D1 E1				    shl	    cx,	1
seg000:DAEF D1 E1				    shl	    cx,	1
seg000:DAF1 D1 E1				    shl	    cx,	1
seg000:DAF3 8A D6				    mov	    dl,	dh
seg000:DAF5 32 F6				    xor	    dh,	dh
seg000:DAF7 D1 E2				    shl	    dx,	1
seg000:DAF9 D1 E2				    shl	    dx,	1
seg000:DAFB D1 E2				    shl	    dx,	1
seg000:DAFD C3					    retn
seg000:DAFD			    sub_FDAE9	    endp
seg000:DAFD
seg000:DAFE
seg000:DAFE			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DAFE
seg000:DAFE
seg000:DAFE			    sub_FDAFE	    proc near		    ; CODE XREF: sub_FD96F+28p
seg000:DAFE								    ; int_10_03+Bp
seg000:DAFE								    ; int_10_05+2Ep
seg000:DAFE								    ; int_10_08+7p
seg000:DAFE								    ; int_10_0a+Fp
seg000:DAFE								    ; int_10_0e+6p
seg000:DAFE 53					    push    bx
seg000:DAFF 32 FF				    xor	    bh,	bh
seg000:DB01 D1 E3				    shl	    bx,	1
seg000:DB03 8B 97 50 00				    mov	    dx,	[bx+p400.cursor_row_col_in_pages]
seg000:DB07 5B					    pop	    bx
seg000:DB08 C3					    retn
seg000:DB08			    sub_FDAFE	    endp
seg000:DB08
seg000:DB09
seg000:DB09			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DB09
seg000:DB09
seg000:DB09			    sub_FDB09	    proc near		    ; CODE XREF: sub_FF4ED+99p
seg000:DB09								    ; sub_FF4ED+A0p
seg000:DB09								    ; sub_FF4ED+B7p
seg000:DB09 52					    push    dx
seg000:DB0A 8B 16 4A 00				    mov	    dx,	ds:p400.crt_nr_cols
seg000:DB0E D1 E2				    shl	    dx,	1
seg000:DB10 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:DB14 75 07				    jnz	    short l0
seg000:DB16 03 F2				    add	    si,	dx
seg000:DB18 03 FA				    add	    di,	dx
seg000:DB1A EB 05				    jmp	    short l1
seg000:DB1A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DB1C 90					    db	90h ; 
seg000:DB1D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DB1D
seg000:DB1D			    l0:					    ; CODE XREF: sub_FDB09+Bj
seg000:DB1D 2B F2				    sub	    si,	dx
seg000:DB1F 2B FA				    sub	    di,	dx
seg000:DB21
seg000:DB21			    l1:					    ; CODE XREF: sub_FDB09+11j
seg000:DB21 5A					    pop	    dx
seg000:DB22 C3					    retn
seg000:DB22			    sub_FDB09	    endp
seg000:DB22
seg000:DB23
seg000:DB23			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DB23
seg000:DB23
seg000:DB23			    sub_FDB23	    proc near		    ; CODE XREF: sub_FF4ED-1FB1p
seg000:DB23								    ; sub_FF4ED-1FA9p
seg000:DB23								    ; sub_FF4ED-1F2Ep
seg000:DB23 50					    push    ax
seg000:DB24 B8 40 01				    mov	    ax,	140h
seg000:DB27 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:DB2B 74 02				    jz	    short l0
seg000:DB2D F7 D8				    neg	    ax
seg000:DB2F
seg000:DB2F			    l0:					    ; CODE XREF: sub_FDB23+8j
seg000:DB2F 03 F0				    add	    si,	ax
seg000:DB31 03 F8				    add	    di,	ax
seg000:DB33 58					    pop	    ax
seg000:DB34 C3					    retn
seg000:DB34			    sub_FDB23	    endp
seg000:DB34
seg000:DB34			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DB35 50					    db	50h ; P
seg000:DB36 52					    db	52h ; R
seg000:DB37 E8					    db 0E8h ; è
seg000:DB38 4A					    db	4Ah ; J
seg000:DB39 00					    db	  0
seg000:DB3A 73					    db	73h ; s
seg000:DB3B 13					    db	13h
seg000:DB3C BA					    db 0BAh ; º
seg000:DB3D DA					    db 0DAh ; Ú
seg000:DB3E 03					    db	  3
seg000:DB3F FA					    db 0FAh ; ú
seg000:DB40 EC					    db 0ECh ; ì
seg000:DB41 A8					    db 0A8h ; ¨
seg000:DB42 08					    db	  8
seg000:DB43 74					    db	74h ; t
seg000:DB44 FB					    db 0FBh ; û
seg000:DB45 FB					    db 0FBh ; û
seg000:DB46 BA					    db 0BAh ; º
seg000:DB47 D8					    db 0D8h ; Ø
seg000:DB48 03					    db	  3
seg000:DB49 A0					    db 0A0h ;  
seg000:DB4A 65					    db	65h ; e
seg000:DB4B 00					    db	  0
seg000:DB4C 24					    db	24h ; $
seg000:DB4D 37					    db	37h ; 7
seg000:DB4E EE					    db 0EEh ; î
seg000:DB4F 5A					    db	5Ah ; Z
seg000:DB50 58					    db	58h ; X
seg000:DB51 C3					    db 0C3h ; Ã
seg000:DB52 E8					    db 0E8h ; è
seg000:DB53 2F					    db	2Fh ; /
seg000:DB54 00					    db	  0
seg000:DB55 73					    db	73h ; s
seg000:DB56 07					    db	  7
seg000:DB57 BA					    db 0BAh ; º
seg000:DB58 D8					    db 0D8h ; Ø
seg000:DB59 03					    db	  3
seg000:DB5A A0					    db 0A0h ;  
seg000:DB5B 65					    db	65h ; e
seg000:DB5C 00					    db	  0
seg000:DB5D EE					    db 0EEh ; î
seg000:DB5E C3					    db 0C3h ; Ã
seg000:DB5F
seg000:DB5F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DB5F
seg000:DB5F
seg000:DB5F			    sub_FDB5F	    proc near		    ; CODE XREF: seg000:loc_FE185p
seg000:DB5F								    ; seg000:E9A0p
seg000:DB5F								    ; sub_FEDAA+1Ep
seg000:DB5F								    ; int_10_0e+Dp
seg000:DB5F 50					    push    ax
seg000:DB60 53					    push    bx
seg000:DB61 51					    push    cx
seg000:DB62 BB 20 00				    mov	    bx,	20h ; ' '
seg000:DB65 E4 61				    in	    al,	61h	    ; PC/XT PPI	port B bits:
seg000:DB65								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DB65								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DB65								    ; 3: 1=read	high switches
seg000:DB65								    ; 4: 0=enable RAM parity checking
seg000:DB65								    ; 5: 0=enable I/O channel check
seg000:DB65								    ; 6: 0=hold	keyboard clock low
seg000:DB65								    ; 7: 0=enable kbrd
seg000:DB67 50					    push    ax
seg000:DB68
seg000:DB68			    l0:					    ; CODE XREF: sub_FDB5F+1Cj
seg000:DB68 24 FC				    and	    al,	0FCh
seg000:DB6A E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:DB6A								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DB6A								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DB6A								    ; 3: 1=read	high switches
seg000:DB6A								    ; 4: 0=enable RAM parity checking
seg000:DB6A								    ; 5: 0=enable I/O channel check
seg000:DB6A								    ; 6: 0=hold	keyboard clock low
seg000:DB6A								    ; 7: 0=enable kbrd
seg000:DB6C B9 20 01				    mov	    cx,	120h
seg000:DB6F
seg000:DB6F			    l1:					    ; CODE XREF: sub_FDB5F:l1j
seg000:DB6F E2 FE				    loop    l1
seg000:DB71 0C 02				    or	    al,	2
seg000:DB73 E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:DB73								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DB73								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DB73								    ; 3: 1=read	high switches
seg000:DB73								    ; 4: 0=enable RAM parity checking
seg000:DB73								    ; 5: 0=enable I/O channel check
seg000:DB73								    ; 6: 0=hold	keyboard clock low
seg000:DB73								    ; 7: 0=enable kbrd
seg000:DB75 B9 20 01				    mov	    cx,	120h
seg000:DB78
seg000:DB78			    l2:					    ; CODE XREF: sub_FDB5F:l2j
seg000:DB78 E2 FE				    loop    l2
seg000:DB7A 4B					    dec	    bx
seg000:DB7B 75 EB				    jnz	    short l0
seg000:DB7D 58					    pop	    ax
seg000:DB7E E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:DB7E								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DB7E								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DB7E								    ; 3: 1=read	high switches
seg000:DB7E								    ; 4: 0=enable RAM parity checking
seg000:DB7E								    ; 5: 0=enable I/O channel check
seg000:DB7E								    ; 6: 0=hold	keyboard clock low
seg000:DB7E								    ; 7: 0=enable kbrd
seg000:DB80 59					    pop	    cx
seg000:DB81 5B					    pop	    bx
seg000:DB82 58					    pop	    ax
seg000:DB83 C3					    retn
seg000:DB83			    sub_FDB5F	    endp
seg000:DB83
seg000:DB84
seg000:DB84			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DB84
seg000:DB84
seg000:DB84			    sub_FDB84	    proc near
seg000:DB84 80 3E 49 00	02			    cmp	    byte ptr ds:49h, 2
seg000:DB89 7C 09				    jl	    short loc_FDB94
seg000:DB8B 80 3E 49 00	03			    cmp	    byte ptr ds:49h, 3
seg000:DB90 7F 02				    jg	    short loc_FDB94
seg000:DB92 F9					    stc
seg000:DB93 C3					    retn
seg000:DB94			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DB94
seg000:DB94			    loc_FDB94:				    ; CODE XREF: sub_FDB84+5j
seg000:DB94								    ; sub_FDB84+Cj
seg000:DB94 F8					    clc
seg000:DB95 C3					    retn
seg000:DB95			    sub_FDB84	    endp
seg000:DB95
seg000:DB96
seg000:DB96			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DB96
seg000:DB96
seg000:DB96			    int_1a	    proc far		    ; DATA XREF: seg000:FF17o
seg000:DB96 1E					    push    ds
seg000:DB97 2E 8E 1E 35	FF			    mov	    ds,	cs:value_0040 ;	ds = 0x40
seg000:DB9C 80 FC 80				    cmp	    ah,	80h ; '€'
seg000:DB9F 74 2D				    jz	    short setup_sound_multiplexer
seg000:DBA1 0A E4				    or	    ah,	ah
seg000:DBA3 74 06				    jz	    short read_system_timer
seg000:DBA5 FE CC				    dec	    ah
seg000:DBA7 74 14				    jz	    short set_system_timer
seg000:DBA9 EB 21				    jmp	    short exit
seg000:DBAB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DBAB
seg000:DBAB			    read_system_timer:			    ; CODE XREF: int_1a+Dj
seg000:DBAB 8B 16 6C 00				    mov	    dx,	ds:p400.timer_ticks_since_midnight
seg000:DBAF 8B 0E 6E 00				    mov	    cx,	ds:p400.timer_ticks_since_midnight+2
seg000:DBB3 A0 70 00				    mov	    al,	ds:p400.timer_overflow
seg000:DBB6 C6 06 70 00	00			    mov	    byte ptr ds:p400.timer_overflow, 0
seg000:DBBB EB 0F				    jmp	    short exit
seg000:DBBD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DBBD
seg000:DBBD			    set_system_timer:			    ; CODE XREF: int_1a+11j
seg000:DBBD C6 06 70 00	00			    mov	    byte ptr ds:p400.timer_overflow, 0
seg000:DBC2 89 16 6C 00				    mov	    ds:p400.timer_ticks_since_midnight,	dx
seg000:DBC6 89 0E 6E 00				    mov	    ds:p400.timer_ticks_since_midnight+2, cx
seg000:DBCA 32 E4				    xor	    ah,	ah
seg000:DBCC
seg000:DBCC			    exit:				    ; CODE XREF: int_1a+13j
seg000:DBCC								    ; int_1a+25j
seg000:DBCC								    ; int_1a+4Bj
seg000:DBCC 1F					    pop	    ds
seg000:DBCD CF					    iret
seg000:DBCE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DBCE
seg000:DBCE			    setup_sound_multiplexer:		    ; CODE XREF: int_1a+9j
seg000:DBCE 51					    push    cx
seg000:DBCF 8A E0				    mov	    ah,	al
seg000:DBD1 E4 61				    in	    al,	61h	    ; PC/XT PPI	port B bits:
seg000:DBD1								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DBD1								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DBD1								    ; 3: 1=read	high switches
seg000:DBD1								    ; 4: 0=enable RAM parity checking
seg000:DBD1								    ; 5: 0=enable I/O channel check
seg000:DBD1								    ; 6: 0=hold	keyboard clock low
seg000:DBD1								    ; 7: 0=enable kbrd
seg000:DBD3 24 9F				    and	    al,	9Fh
seg000:DBD5 80 E4 03				    and	    ah,	3
seg000:DBD8 B1 05				    mov	    cl,	5
seg000:DBDA D2 C4				    rol	    ah,	cl
seg000:DBDC 0A C4				    or	    al,	ah
seg000:DBDE E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:DBDE								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:DBDE								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:DBDE								    ; 3: 1=read	high switches
seg000:DBDE								    ; 4: 0=enable RAM parity checking
seg000:DBDE								    ; 5: 0=enable I/O channel check
seg000:DBDE								    ; 6: 0=hold	keyboard clock low
seg000:DBDE								    ; 7: 0=enable kbrd
seg000:DBE0 59					    pop	    cx
seg000:DBE1 EB E9				    jmp	    short exit
seg000:DBE1			    int_1a	    endp
seg000:DBE1
seg000:DBE3
seg000:DBE3			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:DBE3
seg000:DBE3			    ; INT 08h (8)	       System Timer
seg000:DBE3			    ;
seg000:DBE3			    ;	  This interrupt is a hardware interrupt (IRQ 0) activated by the system
seg000:DBE3			    ;	  timer	18.2 times per second (every 55	ms). The default handler does
seg000:DBE3			    ;	  the following:
seg000:DBE3			    ;
seg000:DBE3			    ;	       .   Keeps a count of the	number of timer	ticks at memory	location
seg000:DBE3			    ;		   0:46Ch (System Timer	Counter--long integer).	After 24 hours of
seg000:DBE3			    ;		   operation, a	flag is	set at memory location 0:470h to signal
seg000:DBE3			    ;		   this	condition and the System Timer Counter (0:46Ch)	is reset to
seg000:DBE3			    ;		   0.
seg000:DBE3			    ;
seg000:DBE3			    ;	       .   Decrements the Diskette Drive Motor Off Counter at memory
seg000:DBE3			    ;		   location 0:440h if it is not	0. When	this location reaches 0,
seg000:DBE3			    ;		   the diskette	drive motor is turned off and the Diskette Drive
seg000:DBE3			    ;		   Motor Status	byte at	memory location	0:43Fh is updated to
seg000:DBE3			    ;		   reflect that	the motor has been turned off.
seg000:DBE3			    ;
seg000:DBE3			    ;	       .   Generates INT 1Ch.
seg000:DBE3			    ;
seg000:DBE3			    ;	       .   For the PC Convertible, generates INT 4Ah if	an alarm interrupt
seg000:DBE3			    ;		   occurs.
seg000:DBE3
seg000:DBE3			    int_08	    proc far		    ; DATA XREF: seg000:tbl_ints_8_32o
seg000:DBE3 50					    push    ax
seg000:DBE4 52					    push    dx
seg000:DBE5 1E					    push    ds
seg000:DBE6 33 D2				    xor	    dx,	dx
seg000:DBE8 2E 8E 1E 35	FF			    mov	    ds,	cs:value_0040 ;	ds = 0x40
seg000:DBED FF 06 6C 00				    inc	    word ptr ds:p400.timer_ticks_since_midnight
seg000:DBF1 75 04				    jnz	    short l0
seg000:DBF3 FF 06 6E 00				    inc	    word ptr ds:p400.timer_ticks_since_midnight+2
seg000:DBF7
seg000:DBF7			    l0:					    ; CODE XREF: int_08+Ej
seg000:DBF7 81 3E 6C 00	B0 00			    cmp	    word ptr ds:p400.timer_ticks_since_midnight, 0B0h ;	'°'
seg000:DBFD 75 13				    jnz	    short l1
seg000:DBFF 83 3E 6E 00	18			    cmp	    word ptr ds:p400.timer_ticks_since_midnight+2, 18h
seg000:DC04 75 0C				    jnz	    short l1
seg000:DC06 FE 06 70 00				    inc	    byte ptr ds:p400.timer_overflow
seg000:DC0A 89 16 6C 00				    mov	    ds:p400.timer_ticks_since_midnight,	dx
seg000:DC0E 89 16 6E 00				    mov	    ds:p400.timer_ticks_since_midnight+2, dx
seg000:DC12
seg000:DC12			    l1:					    ; CODE XREF: int_08+1Aj
seg000:DC12								    ; int_08+21j
seg000:DC12 FE 0E 40 00				    dec	    byte ptr ds:p400.diskette_motor_off_timeout
seg000:DC16 75 0B				    jnz	    short l2
seg000:DC18 BA F2 03				    mov	    dx,	3F2h	    ; turn off diskette	motor
seg000:DC1B B0 0F				    mov	    al,	0Fh
seg000:DC1D EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:DC1D								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:DC1D								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:DC1D								    ; 3:   1=enable diskette DMA and interrupts
seg000:DC1D								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:DC1D								    ;
seg000:DC1E 80 26 3F 00	F0			    and	    byte ptr ds:3Fh, 0F0h
seg000:DC23
seg000:DC23			    l2:					    ; CODE XREF: int_08+33j
seg000:DC23 CD 1C				    int	    1Ch		    ; CLOCK TICK
seg000:DC25 B0 20				    mov	    al,	20h ; ' '
seg000:DC27 E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:DC29 1F					    pop	    ds
seg000:DC2A 5A					    pop	    dx
seg000:DC2B 58					    pop	    ax
seg000:DC2C CF					    iret
seg000:DC2C			    int_08	    endp
seg000:DC2C
seg000:DC2C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:DC2D DE					    db 0DEh ; Ş
seg000:DC2E AD					    db 0ADh ; ­
seg000:DC2F DE					    db 0DEh ; Ş
seg000:DC30 AD					    db 0ADh ; ­
seg000:DC31 DE					    db 0DEh ; Ş
seg000:DC32 AD					    db 0ADh ; ­
seg000:DC33 DE					    db 0DEh ; Ş
seg000:DC34 AD					    db 0ADh ; ­
seg000:DC35 DE					    db 0DEh ; Ş
seg000:DC36 AD					    db 0ADh ; ­
seg000:DC37 DE					    db 0DEh ; Ş
seg000:DC38 AD					    db 0ADh ; ­
seg000:DC39 DE					    db 0DEh ; Ş
seg000:DC3A AD					    db 0ADh ; ­
seg000:DC3B DE					    db 0DEh ; Ş
seg000:DC3C AD					    db 0ADh ; ­
seg000:DC3D DE					    db 0DEh ; Ş
seg000:DC3E AD					    db 0ADh ; ­
seg000:DC3F DE					    db 0DEh ; Ş
seg000:DC40 AD					    db 0ADh ; ­
seg000:DC41 DE					    db 0DEh ; Ş
seg000:DC42 AD					    db 0ADh ; ­
seg000:DC43 DE					    db 0DEh ; Ş
seg000:DC44 AD					    db 0ADh ; ­
seg000:DC45 DE					    db 0DEh ; Ş
seg000:DC46 AD					    db 0ADh ; ­
seg000:DC47 DE					    db 0DEh ; Ş
seg000:DC48 AD					    db 0ADh ; ­
seg000:DC49 DE					    db 0DEh ; Ş
seg000:DC4A AD					    db 0ADh ; ­
seg000:DC4B DE					    db 0DEh ; Ş
seg000:DC4C AD					    db 0ADh ; ­
seg000:DC4D DE					    db 0DEh ; Ş
seg000:DC4E AD					    db 0ADh ; ­
seg000:DC4F DE					    db 0DEh ; Ş
seg000:DC50 AD					    db 0ADh ; ­
seg000:DC51 DE					    db 0DEh ; Ş
seg000:DC52 AD					    db 0ADh ; ­
seg000:DC53 DE					    db 0DEh ; Ş
seg000:DC54 AD					    db 0ADh ; ­
seg000:DC55 DE					    db 0DEh ; Ş
seg000:DC56 AD					    db 0ADh ; ­
seg000:DC57 DE					    db 0DEh ; Ş
seg000:DC58 AD					    db 0ADh ; ­
seg000:DC59 DE					    db 0DEh ; Ş
seg000:DC5A AD					    db 0ADh ; ­
seg000:DC5B DE					    db 0DEh ; Ş
seg000:DC5C AD					    db 0ADh ; ­
seg000:DC5D DE					    db 0DEh ; Ş
seg000:DC5E AD					    db 0ADh ; ­
seg000:DC5F DE					    db 0DEh ; Ş
seg000:DC60 AD					    db 0ADh ; ­
seg000:DC61 DE					    db 0DEh ; Ş
seg000:DC62 AD					    db 0ADh ; ­
seg000:DC63 DE					    db 0DEh ; Ş
seg000:DC64 AD					    db 0ADh ; ­
seg000:DC65 DE					    db 0DEh ; Ş
seg000:DC66 AD					    db 0ADh ; ­
seg000:DC67 DE					    db 0DEh ; Ş
seg000:DC68 AD					    db 0ADh ; ­
seg000:DC69 DE					    db 0DEh ; Ş
seg000:DC6A AD					    db 0ADh ; ­
seg000:DC6B DE					    db 0DEh ; Ş
seg000:DC6C AD					    db 0ADh ; ­
seg000:DC6D DE					    db 0DEh ; Ş
seg000:DC6E AD					    db 0ADh ; ­
seg000:DC6F DE					    db 0DEh ; Ş
seg000:DC70 AD					    db 0ADh ; ­
seg000:DC71 DE					    db 0DEh ; Ş
seg000:DC72 AD					    db 0ADh ; ­
seg000:DC73 DE					    db 0DEh ; Ş
seg000:DC74 AD					    db 0ADh ; ­
seg000:DC75 DE					    db 0DEh ; Ş
seg000:DC76 AD					    db 0ADh ; ­
seg000:DC77 DE					    db 0DEh ; Ş
seg000:DC78 AD					    db 0ADh ; ­
seg000:DC79 DE					    db 0DEh ; Ş
seg000:DC7A AD					    db 0ADh ; ­
seg000:DC7B DE					    db 0DEh ; Ş
seg000:DC7C AD					    db 0ADh ; ­
seg000:DC7D DE					    db 0DEh ; Ş
seg000:DC7E AD					    db 0ADh ; ­
seg000:DC7F DE					    db 0DEh ; Ş
seg000:DC80 AD					    db 0ADh ; ­
seg000:DC81 DE					    db 0DEh ; Ş
seg000:DC82 AD					    db 0ADh ; ­
seg000:DC83 DE					    db 0DEh ; Ş
seg000:DC84 AD					    db 0ADh ; ­
seg000:DC85 DE					    db 0DEh ; Ş
seg000:DC86 AD					    db 0ADh ; ­
seg000:DC87 DE					    db 0DEh ; Ş
seg000:DC88 AD					    db 0ADh ; ­
seg000:DC89 DE					    db 0DEh ; Ş
seg000:DC8A AD					    db 0ADh ; ­
seg000:DC8B DE					    db 0DEh ; Ş
seg000:DC8C AD					    db 0ADh ; ­
seg000:DC8D DE					    db 0DEh ; Ş
seg000:DC8E AD					    db 0ADh ; ­
seg000:DC8F DE					    db 0DEh ; Ş
seg000:DC90 AD					    db 0ADh ; ­
seg000:DC91 DE					    db 0DEh ; Ş
seg000:DC92 AD					    db 0ADh ; ­
seg000:DC93 DE					    db 0DEh ; Ş
seg000:DC94 AD					    db 0ADh ; ­
seg000:DC95 DE					    db 0DEh ; Ş
seg000:DC96 AD					    db 0ADh ; ­
seg000:DC97 DE					    db 0DEh ; Ş
seg000:DC98 AD					    db 0ADh ; ­
seg000:DC99 DE					    db 0DEh ; Ş
seg000:DC9A AD					    db 0ADh ; ­
seg000:DC9B DE					    db 0DEh ; Ş
seg000:DC9C AD					    db 0ADh ; ­
seg000:DC9D DE					    db 0DEh ; Ş
seg000:DC9E AD					    db 0ADh ; ­
seg000:DC9F DE					    db 0DEh ; Ş
seg000:DCA0 AD					    db 0ADh ; ­
seg000:DCA1 DE					    db 0DEh ; Ş
seg000:DCA2 AD					    db 0ADh ; ­
seg000:DCA3 DE					    db 0DEh ; Ş
seg000:DCA4 AD					    db 0ADh ; ­
seg000:DCA5 DE					    db 0DEh ; Ş
seg000:DCA6 AD					    db 0ADh ; ­
seg000:DCA7 DE					    db 0DEh ; Ş
seg000:DCA8 AD					    db 0ADh ; ­
seg000:DCA9 DE					    db 0DEh ; Ş
seg000:DCAA AD					    db 0ADh ; ­
seg000:DCAB DE					    db 0DEh ; Ş
seg000:DCAC AD					    db 0ADh ; ­
seg000:DCAD DE					    db 0DEh ; Ş
seg000:DCAE AD					    db 0ADh ; ­
seg000:DCAF DE					    db 0DEh ; Ş
seg000:DCB0 AD					    db 0ADh ; ­
seg000:DCB1 DE					    db 0DEh ; Ş
seg000:DCB2 AD					    db 0ADh ; ­
seg000:DCB3 DE					    db 0DEh ; Ş
seg000:DCB4 AD					    db 0ADh ; ­
seg000:DCB5 DE					    db 0DEh ; Ş
seg000:DCB6 AD					    db 0ADh ; ­
seg000:DCB7 DE					    db 0DEh ; Ş
seg000:DCB8 AD					    db 0ADh ; ­
seg000:DCB9 DE					    db 0DEh ; Ş
seg000:DCBA AD					    db 0ADh ; ­
seg000:DCBB DE					    db 0DEh ; Ş
seg000:DCBC AD					    db 0ADh ; ­
seg000:DCBD DE					    db 0DEh ; Ş
seg000:DCBE AD					    db 0ADh ; ­
seg000:DCBF DE					    db 0DEh ; Ş
seg000:DCC0 AD					    db 0ADh ; ­
seg000:DCC1 DE					    db 0DEh ; Ş
seg000:DCC2 AD					    db 0ADh ; ­
seg000:DCC3 DE					    db 0DEh ; Ş
seg000:DCC4 AD					    db 0ADh ; ­
seg000:DCC5 DE					    db 0DEh ; Ş
seg000:DCC6 AD					    db 0ADh ; ­
seg000:DCC7 DE					    db 0DEh ; Ş
seg000:DCC8 AD					    db 0ADh ; ­
seg000:DCC9 DE					    db 0DEh ; Ş
seg000:DCCA AD					    db 0ADh ; ­
seg000:DCCB DE					    db 0DEh ; Ş
seg000:DCCC AD					    db 0ADh ; ­
seg000:DCCD DE					    db 0DEh ; Ş
seg000:DCCE AD					    db 0ADh ; ­
seg000:DCCF DE					    db 0DEh ; Ş
seg000:DCD0 AD					    db 0ADh ; ­
seg000:DCD1 DE					    db 0DEh ; Ş
seg000:DCD2 AD					    db 0ADh ; ­
seg000:DCD3 DE					    db 0DEh ; Ş
seg000:DCD4 AD					    db 0ADh ; ­
seg000:DCD5 DE					    db 0DEh ; Ş
seg000:DCD6 AD					    db 0ADh ; ­
seg000:DCD7 DE					    db 0DEh ; Ş
seg000:DCD8 AD					    db 0ADh ; ­
seg000:DCD9 DE					    db 0DEh ; Ş
seg000:DCDA AD					    db 0ADh ; ­
seg000:DCDB DE					    db 0DEh ; Ş
seg000:DCDC AD					    db 0ADh ; ­
seg000:DCDD DE					    db 0DEh ; Ş
seg000:DCDE AD					    db 0ADh ; ­
seg000:DCDF DE					    db 0DEh ; Ş
seg000:DCE0 AD					    db 0ADh ; ­
seg000:DCE1 DE					    db 0DEh ; Ş
seg000:DCE2 AD					    db 0ADh ; ­
seg000:DCE3 DE					    db 0DEh ; Ş
seg000:DCE4 AD					    db 0ADh ; ­
seg000:DCE5 DE					    db 0DEh ; Ş
seg000:DCE6 AD					    db 0ADh ; ­
seg000:DCE7 DE					    db 0DEh ; Ş
seg000:DCE8 AD					    db 0ADh ; ­
seg000:DCE9 DE					    db 0DEh ; Ş
seg000:DCEA AD					    db 0ADh ; ­
seg000:DCEB DE					    db 0DEh ; Ş
seg000:DCEC AD					    db 0ADh ; ­
seg000:DCED DE					    db 0DEh ; Ş
seg000:DCEE AD					    db 0ADh ; ­
seg000:DCEF DE					    db 0DEh ; Ş
seg000:DCF0 AD					    db 0ADh ; ­
seg000:DCF1 DE					    db 0DEh ; Ş
seg000:DCF2 AD					    db 0ADh ; ­
seg000:DCF3 DE					    db 0DEh ; Ş
seg000:DCF4 AD					    db 0ADh ; ­
seg000:DCF5 DE					    db 0DEh ; Ş
seg000:DCF6 AD					    db 0ADh ; ­
seg000:DCF7 DE					    db 0DEh ; Ş
seg000:DCF8 AD					    db 0ADh ; ­
seg000:DCF9 DE					    db 0DEh ; Ş
seg000:DCFA AD					    db 0ADh ; ­
seg000:DCFB DE					    db 0DEh ; Ş
seg000:DCFC AD					    db 0ADh ; ­
seg000:DCFD DE					    db 0DEh ; Ş
seg000:DCFE AD					    db 0ADh ; ­
seg000:DCFF DE					    db 0DEh ; Ş
seg000:DD00 AD					    db 0ADh ; ­
seg000:DD01 DE					    db 0DEh ; Ş
seg000:DD02 AD					    db 0ADh ; ­
seg000:DD03 DE					    db 0DEh ; Ş
seg000:DD04 AD					    db 0ADh ; ­
seg000:DD05 DE					    db 0DEh ; Ş
seg000:DD06 AD					    db 0ADh ; ­
seg000:DD07 DE					    db 0DEh ; Ş
seg000:DD08 AD					    db 0ADh ; ­
seg000:DD09 DE					    db 0DEh ; Ş
seg000:DD0A AD					    db 0ADh ; ­
seg000:DD0B DE					    db 0DEh ; Ş
seg000:DD0C AD					    db 0ADh ; ­
seg000:DD0D DE					    db 0DEh ; Ş
seg000:DD0E AD					    db 0ADh ; ­
seg000:DD0F DE					    db 0DEh ; Ş
seg000:DD10 AD					    db 0ADh ; ­
seg000:DD11 DE					    db 0DEh ; Ş
seg000:DD12 AD					    db 0ADh ; ­
seg000:DD13 DE					    db 0DEh ; Ş
seg000:DD14 AD					    db 0ADh ; ­
seg000:DD15 DE					    db 0DEh ; Ş
seg000:DD16 AD					    db 0ADh ; ­
seg000:DD17 DE					    db 0DEh ; Ş
seg000:DD18 AD					    db 0ADh ; ­
seg000:DD19 DE					    db 0DEh ; Ş
seg000:DD1A AD					    db 0ADh ; ­
seg000:DD1B DE					    db 0DEh ; Ş
seg000:DD1C AD					    db 0ADh ; ­
seg000:DD1D DE					    db 0DEh ; Ş
seg000:DD1E AD					    db 0ADh ; ­
seg000:DD1F DE					    db 0DEh ; Ş
seg000:DD20 AD					    db 0ADh ; ­
seg000:DD21 DE					    db 0DEh ; Ş
seg000:DD22 AD					    db 0ADh ; ­
seg000:DD23 DE					    db 0DEh ; Ş
seg000:DD24 AD					    db 0ADh ; ­
seg000:DD25 DE					    db 0DEh ; Ş
seg000:DD26 AD					    db 0ADh ; ­
seg000:DD27 DE					    db 0DEh ; Ş
seg000:DD28 AD					    db 0ADh ; ­
seg000:DD29 DE					    db 0DEh ; Ş
seg000:DD2A AD					    db 0ADh ; ­
seg000:DD2B DE					    db 0DEh ; Ş
seg000:DD2C AD					    db 0ADh ; ­
seg000:DD2D DE					    db 0DEh ; Ş
seg000:DD2E AD					    db 0ADh ; ­
seg000:DD2F DE					    db 0DEh ; Ş
seg000:DD30 AD					    db 0ADh ; ­
seg000:DD31 DE					    db 0DEh ; Ş
seg000:DD32 AD					    db 0ADh ; ­
seg000:DD33 DE					    db 0DEh ; Ş
seg000:DD34 AD					    db 0ADh ; ­
seg000:DD35 DE					    db 0DEh ; Ş
seg000:DD36 AD					    db 0ADh ; ­
seg000:DD37 DE					    db 0DEh ; Ş
seg000:DD38 AD					    db 0ADh ; ­
seg000:DD39 DE					    db 0DEh ; Ş
seg000:DD3A AD					    db 0ADh ; ­
seg000:DD3B DE					    db 0DEh ; Ş
seg000:DD3C AD					    db 0ADh ; ­
seg000:DD3D DE					    db 0DEh ; Ş
seg000:DD3E AD					    db 0ADh ; ­
seg000:DD3F DE					    db 0DEh ; Ş
seg000:DD40 AD					    db 0ADh ; ­
seg000:DD41 DE					    db 0DEh ; Ş
seg000:DD42 AD					    db 0ADh ; ­
seg000:DD43 DE					    db 0DEh ; Ş
seg000:DD44 AD					    db 0ADh ; ­
seg000:DD45 DE					    db 0DEh ; Ş
seg000:DD46 AD					    db 0ADh ; ­
seg000:DD47 DE					    db 0DEh ; Ş
seg000:DD48 AD					    db 0ADh ; ­
seg000:DD49 DE					    db 0DEh ; Ş
seg000:DD4A AD					    db 0ADh ; ­
seg000:DD4B DE					    db 0DEh ; Ş
seg000:DD4C AD					    db 0ADh ; ­
seg000:DD4D DE					    db 0DEh ; Ş
seg000:DD4E AD					    db 0ADh ; ­
seg000:DD4F DE					    db 0DEh ; Ş
seg000:DD50 AD					    db 0ADh ; ­
seg000:DD51 DE					    db 0DEh ; Ş
seg000:DD52 AD					    db 0ADh ; ­
seg000:DD53 DE					    db 0DEh ; Ş
seg000:DD54 AD					    db 0ADh ; ­
seg000:DD55 DE					    db 0DEh ; Ş
seg000:DD56 AD					    db 0ADh ; ­
seg000:DD57 DE					    db 0DEh ; Ş
seg000:DD58 AD					    db 0ADh ; ­
seg000:DD59 DE					    db 0DEh ; Ş
seg000:DD5A AD					    db 0ADh ; ­
seg000:DD5B DE					    db 0DEh ; Ş
seg000:DD5C AD					    db 0ADh ; ­
seg000:DD5D DE					    db 0DEh ; Ş
seg000:DD5E AD					    db 0ADh ; ­
seg000:DD5F DE					    db 0DEh ; Ş
seg000:DD60 AD					    db 0ADh ; ­
seg000:DD61 DE					    db 0DEh ; Ş
seg000:DD62 AD					    db 0ADh ; ­
seg000:DD63 DE					    db 0DEh ; Ş
seg000:DD64 AD					    db 0ADh ; ­
seg000:DD65 DE					    db 0DEh ; Ş
seg000:DD66 AD					    db 0ADh ; ­
seg000:DD67 DE					    db 0DEh ; Ş
seg000:DD68 AD					    db 0ADh ; ­
seg000:DD69 DE					    db 0DEh ; Ş
seg000:DD6A AD					    db 0ADh ; ­
seg000:DD6B DE					    db 0DEh ; Ş
seg000:DD6C AD					    db 0ADh ; ­
seg000:DD6D DE					    db 0DEh ; Ş
seg000:DD6E AD					    db 0ADh ; ­
seg000:DD6F DE					    db 0DEh ; Ş
seg000:DD70 AD					    db 0ADh ; ­
seg000:DD71 DE					    db 0DEh ; Ş
seg000:DD72 AD					    db 0ADh ; ­
seg000:DD73 DE					    db 0DEh ; Ş
seg000:DD74 AD					    db 0ADh ; ­
seg000:DD75 DE					    db 0DEh ; Ş
seg000:DD76 AD					    db 0ADh ; ­
seg000:DD77 DE					    db 0DEh ; Ş
seg000:DD78 AD					    db 0ADh ; ­
seg000:DD79 DE					    db 0DEh ; Ş
seg000:DD7A AD					    db 0ADh ; ­
seg000:DD7B DE					    db 0DEh ; Ş
seg000:DD7C AD					    db 0ADh ; ­
seg000:DD7D DE					    db 0DEh ; Ş
seg000:DD7E AD					    db 0ADh ; ­
seg000:DD7F DE					    db 0DEh ; Ş
seg000:DD80 AD					    db 0ADh ; ­
seg000:DD81 DE					    db 0DEh ; Ş
seg000:DD82 AD					    db 0ADh ; ­
seg000:DD83 DE					    db 0DEh ; Ş
seg000:DD84 AD					    db 0ADh ; ­
seg000:DD85 DE					    db 0DEh ; Ş
seg000:DD86 AD					    db 0ADh ; ­
seg000:DD87 DE					    db 0DEh ; Ş
seg000:DD88 AD					    db 0ADh ; ­
seg000:DD89 DE					    db 0DEh ; Ş
seg000:DD8A AD					    db 0ADh ; ­
seg000:DD8B DE					    db 0DEh ; Ş
seg000:DD8C AD					    db 0ADh ; ­
seg000:DD8D DE					    db 0DEh ; Ş
seg000:DD8E AD					    db 0ADh ; ­
seg000:DD8F DE					    db 0DEh ; Ş
seg000:DD90 AD					    db 0ADh ; ­
seg000:DD91 DE					    db 0DEh ; Ş
seg000:DD92 AD					    db 0ADh ; ­
seg000:DD93 DE					    db 0DEh ; Ş
seg000:DD94 AD					    db 0ADh ; ­
seg000:DD95 DE					    db 0DEh ; Ş
seg000:DD96 AD					    db 0ADh ; ­
seg000:DD97 DE					    db 0DEh ; Ş
seg000:DD98 AD					    db 0ADh ; ­
seg000:DD99 DE					    db 0DEh ; Ş
seg000:DD9A AD					    db 0ADh ; ­
seg000:DD9B DE					    db 0DEh ; Ş
seg000:DD9C AD					    db 0ADh ; ­
seg000:DD9D DE					    db 0DEh ; Ş
seg000:DD9E AD					    db 0ADh ; ­
seg000:DD9F DE					    db 0DEh ; Ş
seg000:DDA0 AD					    db 0ADh ; ­
seg000:DDA1 DE					    db 0DEh ; Ş
seg000:DDA2 AD					    db 0ADh ; ­
seg000:DDA3 DE					    db 0DEh ; Ş
seg000:DDA4 AD					    db 0ADh ; ­
seg000:DDA5 DE					    db 0DEh ; Ş
seg000:DDA6 AD					    db 0ADh ; ­
seg000:DDA7 DE					    db 0DEh ; Ş
seg000:DDA8 AD					    db 0ADh ; ­
seg000:DDA9 DE					    db 0DEh ; Ş
seg000:DDAA AD					    db 0ADh ; ­
seg000:DDAB DE					    db 0DEh ; Ş
seg000:DDAC AD					    db 0ADh ; ­
seg000:DDAD DE					    db 0DEh ; Ş
seg000:DDAE AD					    db 0ADh ; ­
seg000:DDAF DE					    db 0DEh ; Ş
seg000:DDB0 AD					    db 0ADh ; ­
seg000:DDB1 DE					    db 0DEh ; Ş
seg000:DDB2 AD					    db 0ADh ; ­
seg000:DDB3 DE					    db 0DEh ; Ş
seg000:DDB4 AD					    db 0ADh ; ­
seg000:DDB5 DE					    db 0DEh ; Ş
seg000:DDB6 AD					    db 0ADh ; ­
seg000:DDB7 DE					    db 0DEh ; Ş
seg000:DDB8 AD					    db 0ADh ; ­
seg000:DDB9 DE					    db 0DEh ; Ş
seg000:DDBA AD					    db 0ADh ; ­
seg000:DDBB DE					    db 0DEh ; Ş
seg000:DDBC AD					    db 0ADh ; ­
seg000:DDBD DE					    db 0DEh ; Ş
seg000:DDBE AD					    db 0ADh ; ­
seg000:DDBF DE					    db 0DEh ; Ş
seg000:DDC0 AD					    db 0ADh ; ­
seg000:DDC1 DE					    db 0DEh ; Ş
seg000:DDC2 AD					    db 0ADh ; ­
seg000:DDC3 DE					    db 0DEh ; Ş
seg000:DDC4 AD					    db 0ADh ; ­
seg000:DDC5 DE					    db 0DEh ; Ş
seg000:DDC6 AD					    db 0ADh ; ­
seg000:DDC7 DE					    db 0DEh ; Ş
seg000:DDC8 AD					    db 0ADh ; ­
seg000:DDC9 DE					    db 0DEh ; Ş
seg000:DDCA AD					    db 0ADh ; ­
seg000:DDCB DE					    db 0DEh ; Ş
seg000:DDCC AD					    db 0ADh ; ­
seg000:DDCD DE					    db 0DEh ; Ş
seg000:DDCE AD					    db 0ADh ; ­
seg000:DDCF DE					    db 0DEh ; Ş
seg000:DDD0 AD					    db 0ADh ; ­
seg000:DDD1 DE					    db 0DEh ; Ş
seg000:DDD2 AD					    db 0ADh ; ­
seg000:DDD3 DE					    db 0DEh ; Ş
seg000:DDD4 AD					    db 0ADh ; ­
seg000:DDD5 DE					    db 0DEh ; Ş
seg000:DDD6 AD					    db 0ADh ; ­
seg000:DDD7 DE					    db 0DEh ; Ş
seg000:DDD8 AD					    db 0ADh ; ­
seg000:DDD9 DE					    db 0DEh ; Ş
seg000:DDDA AD					    db 0ADh ; ­
seg000:DDDB DE					    db 0DEh ; Ş
seg000:DDDC AD					    db 0ADh ; ­
seg000:DDDD DE					    db 0DEh ; Ş
seg000:DDDE AD					    db 0ADh ; ­
seg000:DDDF DE					    db 0DEh ; Ş
seg000:DDE0 AD					    db 0ADh ; ­
seg000:DDE1 DE					    db 0DEh ; Ş
seg000:DDE2 AD					    db 0ADh ; ­
seg000:DDE3 DE					    db 0DEh ; Ş
seg000:DDE4 AD					    db 0ADh ; ­
seg000:DDE5 DE					    db 0DEh ; Ş
seg000:DDE6 AD					    db 0ADh ; ­
seg000:DDE7 DE					    db 0DEh ; Ş
seg000:DDE8 AD					    db 0ADh ; ­
seg000:DDE9 DE					    db 0DEh ; Ş
seg000:DDEA AD					    db 0ADh ; ­
seg000:DDEB DE					    db 0DEh ; Ş
seg000:DDEC AD					    db 0ADh ; ­
seg000:DDED DE					    db 0DEh ; Ş
seg000:DDEE AD					    db 0ADh ; ­
seg000:DDEF DE					    db 0DEh ; Ş
seg000:DDF0 AD					    db 0ADh ; ­
seg000:DDF1 DE					    db 0DEh ; Ş
seg000:DDF2 AD					    db 0ADh ; ­
seg000:DDF3 DE					    db 0DEh ; Ş
seg000:DDF4 AD					    db 0ADh ; ­
seg000:DDF5 DE					    db 0DEh ; Ş
seg000:DDF6 AD					    db 0ADh ; ­
seg000:DDF7 DE					    db 0DEh ; Ş
seg000:DDF8 AD					    db 0ADh ; ­
seg000:DDF9 DE					    db 0DEh ; Ş
seg000:DDFA AD					    db 0ADh ; ­
seg000:DDFB DE					    db 0DEh ; Ş
seg000:DDFC AD					    db 0ADh ; ­
seg000:DDFD DE					    db 0DEh ; Ş
seg000:DDFE AD					    db 0ADh ; ­
seg000:DDFF DE					    db 0DEh ; Ş
seg000:DE00 AD					    db 0ADh ; ­
seg000:DE01 DE					    db 0DEh ; Ş
seg000:DE02 AD					    db 0ADh ; ­
seg000:DE03 DE					    db 0DEh ; Ş
seg000:DE04 AD					    db 0ADh ; ­
seg000:DE05 DE					    db 0DEh ; Ş
seg000:DE06 AD					    db 0ADh ; ­
seg000:DE07 DE					    db 0DEh ; Ş
seg000:DE08 AD					    db 0ADh ; ­
seg000:DE09 DE					    db 0DEh ; Ş
seg000:DE0A AD					    db 0ADh ; ­
seg000:DE0B DE					    db 0DEh ; Ş
seg000:DE0C AD					    db 0ADh ; ­
seg000:DE0D DE					    db 0DEh ; Ş
seg000:DE0E AD					    db 0ADh ; ­
seg000:DE0F DE					    db 0DEh ; Ş
seg000:DE10 AD					    db 0ADh ; ­
seg000:DE11 DE					    db 0DEh ; Ş
seg000:DE12 AD					    db 0ADh ; ­
seg000:DE13 DE					    db 0DEh ; Ş
seg000:DE14 AD					    db 0ADh ; ­
seg000:DE15 DE					    db 0DEh ; Ş
seg000:DE16 AD					    db 0ADh ; ­
seg000:DE17 DE					    db 0DEh ; Ş
seg000:DE18 AD					    db 0ADh ; ­
seg000:DE19 DE					    db 0DEh ; Ş
seg000:DE1A AD					    db 0ADh ; ­
seg000:DE1B DE					    db 0DEh ; Ş
seg000:DE1C AD					    db 0ADh ; ­
seg000:DE1D DE					    db 0DEh ; Ş
seg000:DE1E AD					    db 0ADh ; ­
seg000:DE1F DE					    db 0DEh ; Ş
seg000:DE20 AD					    db 0ADh ; ­
seg000:DE21 DE					    db 0DEh ; Ş
seg000:DE22 AD					    db 0ADh ; ­
seg000:DE23 DE					    db 0DEh ; Ş
seg000:DE24 AD					    db 0ADh ; ­
seg000:DE25 DE					    db 0DEh ; Ş
seg000:DE26 AD					    db 0ADh ; ­
seg000:DE27 DE					    db 0DEh ; Ş
seg000:DE28 AD					    db 0ADh ; ­
seg000:DE29 DE					    db 0DEh ; Ş
seg000:DE2A AD					    db 0ADh ; ­
seg000:DE2B DE					    db 0DEh ; Ş
seg000:DE2C AD					    db 0ADh ; ­
seg000:DE2D DE					    db 0DEh ; Ş
seg000:DE2E AD					    db 0ADh ; ­
seg000:DE2F DE					    db 0DEh ; Ş
seg000:DE30 AD					    db 0ADh ; ­
seg000:DE31 DE					    db 0DEh ; Ş
seg000:DE32 AD					    db 0ADh ; ­
seg000:DE33 DE					    db 0DEh ; Ş
seg000:DE34 AD					    db 0ADh ; ­
seg000:DE35 DE					    db 0DEh ; Ş
seg000:DE36 AD					    db 0ADh ; ­
seg000:DE37 DE					    db 0DEh ; Ş
seg000:DE38 AD					    db 0ADh ; ­
seg000:DE39 DE					    db 0DEh ; Ş
seg000:DE3A AD					    db 0ADh ; ­
seg000:DE3B DE					    db 0DEh ; Ş
seg000:DE3C AD					    db 0ADh ; ­
seg000:DE3D DE					    db 0DEh ; Ş
seg000:DE3E AD					    db 0ADh ; ­
seg000:DE3F DE					    db 0DEh ; Ş
seg000:DE40 AD					    db 0ADh ; ­
seg000:DE41 DE					    db 0DEh ; Ş
seg000:DE42 AD					    db 0ADh ; ­
seg000:DE43 DE					    db 0DEh ; Ş
seg000:DE44 AD					    db 0ADh ; ­
seg000:DE45 DE					    db 0DEh ; Ş
seg000:DE46 AD					    db 0ADh ; ­
seg000:DE47 DE					    db 0DEh ; Ş
seg000:DE48 AD					    db 0ADh ; ­
seg000:DE49 DE					    db 0DEh ; Ş
seg000:DE4A AD					    db 0ADh ; ­
seg000:DE4B DE					    db 0DEh ; Ş
seg000:DE4C AD					    db 0ADh ; ­
seg000:DE4D DE					    db 0DEh ; Ş
seg000:DE4E AD					    db 0ADh ; ­
seg000:DE4F DE					    db 0DEh ; Ş
seg000:DE50 AD					    db 0ADh ; ­
seg000:DE51 DE					    db 0DEh ; Ş
seg000:DE52 AD					    db 0ADh ; ­
seg000:DE53 DE					    db 0DEh ; Ş
seg000:DE54 AD					    db 0ADh ; ­
seg000:DE55 DE					    db 0DEh ; Ş
seg000:DE56 AD					    db 0ADh ; ­
seg000:DE57 DE					    db 0DEh ; Ş
seg000:DE58 AD					    db 0ADh ; ­
seg000:DE59 DE					    db 0DEh ; Ş
seg000:DE5A AD					    db 0ADh ; ­
seg000:DE5B DE					    db 0DEh ; Ş
seg000:DE5C AD					    db 0ADh ; ­
seg000:DE5D DE					    db 0DEh ; Ş
seg000:DE5E AD					    db 0ADh ; ­
seg000:DE5F DE					    db 0DEh ; Ş
seg000:DE60 AD					    db 0ADh ; ­
seg000:DE61 DE					    db 0DEh ; Ş
seg000:DE62 AD					    db 0ADh ; ­
seg000:DE63 DE					    db 0DEh ; Ş
seg000:DE64 AD					    db 0ADh ; ­
seg000:DE65 DE					    db 0DEh ; Ş
seg000:DE66 AD					    db 0ADh ; ­
seg000:DE67 DE					    db 0DEh ; Ş
seg000:DE68 AD					    db 0ADh ; ­
seg000:DE69 DE					    db 0DEh ; Ş
seg000:DE6A AD					    db 0ADh ; ­
seg000:DE6B DE					    db 0DEh ; Ş
seg000:DE6C AD					    db 0ADh ; ­
seg000:DE6D DE					    db 0DEh ; Ş
seg000:DE6E AD					    db 0ADh ; ­
seg000:DE6F DE					    db 0DEh ; Ş
seg000:DE70 AD					    db 0ADh ; ­
seg000:DE71 DE					    db 0DEh ; Ş
seg000:DE72 AD					    db 0ADh ; ­
seg000:DE73 DE					    db 0DEh ; Ş
seg000:DE74 AD					    db 0ADh ; ­
seg000:DE75 DE					    db 0DEh ; Ş
seg000:DE76 AD					    db 0ADh ; ­
seg000:DE77 DE					    db 0DEh ; Ş
seg000:DE78 AD					    db 0ADh ; ­
seg000:DE79 DE					    db 0DEh ; Ş
seg000:DE7A AD					    db 0ADh ; ­
seg000:DE7B DE					    db 0DEh ; Ş
seg000:DE7C AD					    db 0ADh ; ­
seg000:DE7D DE					    db 0DEh ; Ş
seg000:DE7E AD					    db 0ADh ; ­
seg000:DE7F DE					    db 0DEh ; Ş
seg000:DE80 AD					    db 0ADh ; ­
seg000:DE81 DE					    db 0DEh ; Ş
seg000:DE82 AD					    db 0ADh ; ­
seg000:DE83 DE					    db 0DEh ; Ş
seg000:DE84 AD					    db 0ADh ; ­
seg000:DE85 DE					    db 0DEh ; Ş
seg000:DE86 AD					    db 0ADh ; ­
seg000:DE87 DE					    db 0DEh ; Ş
seg000:DE88 AD					    db 0ADh ; ­
seg000:DE89 DE					    db 0DEh ; Ş
seg000:DE8A AD					    db 0ADh ; ­
seg000:DE8B DE					    db 0DEh ; Ş
seg000:DE8C AD					    db 0ADh ; ­
seg000:DE8D DE					    db 0DEh ; Ş
seg000:DE8E AD					    db 0ADh ; ­
seg000:DE8F DE					    db 0DEh ; Ş
seg000:DE90 AD					    db 0ADh ; ­
seg000:DE91 DE					    db 0DEh ; Ş
seg000:DE92 AD					    db 0ADh ; ­
seg000:DE93 DE					    db 0DEh ; Ş
seg000:DE94 AD					    db 0ADh ; ­
seg000:DE95 DE					    db 0DEh ; Ş
seg000:DE96 AD					    db 0ADh ; ­
seg000:DE97 DE					    db 0DEh ; Ş
seg000:DE98 AD					    db 0ADh ; ­
seg000:DE99 DE					    db 0DEh ; Ş
seg000:DE9A AD					    db 0ADh ; ­
seg000:DE9B DE					    db 0DEh ; Ş
seg000:DE9C AD					    db 0ADh ; ­
seg000:DE9D DE					    db 0DEh ; Ş
seg000:DE9E AD					    db 0ADh ; ­
seg000:DE9F DE					    db 0DEh ; Ş
seg000:DEA0 AD					    db 0ADh ; ­
seg000:DEA1 DE					    db 0DEh ; Ş
seg000:DEA2 AD					    db 0ADh ; ­
seg000:DEA3 DE					    db 0DEh ; Ş
seg000:DEA4 AD					    db 0ADh ; ­
seg000:DEA5 DE					    db 0DEh ; Ş
seg000:DEA6 AD					    db 0ADh ; ­
seg000:DEA7 DE					    db 0DEh ; Ş
seg000:DEA8 AD					    db 0ADh ; ­
seg000:DEA9 DE					    db 0DEh ; Ş
seg000:DEAA AD					    db 0ADh ; ­
seg000:DEAB DE					    db 0DEh ; Ş
seg000:DEAC AD					    db 0ADh ; ­
seg000:DEAD DE					    db 0DEh ; Ş
seg000:DEAE AD					    db 0ADh ; ­
seg000:DEAF DE					    db 0DEh ; Ş
seg000:DEB0 AD					    db 0ADh ; ­
seg000:DEB1 DE					    db 0DEh ; Ş
seg000:DEB2 AD					    db 0ADh ; ­
seg000:DEB3 DE					    db 0DEh ; Ş
seg000:DEB4 AD					    db 0ADh ; ­
seg000:DEB5 DE					    db 0DEh ; Ş
seg000:DEB6 AD					    db 0ADh ; ­
seg000:DEB7 DE					    db 0DEh ; Ş
seg000:DEB8 AD					    db 0ADh ; ­
seg000:DEB9 DE					    db 0DEh ; Ş
seg000:DEBA AD					    db 0ADh ; ­
seg000:DEBB DE					    db 0DEh ; Ş
seg000:DEBC AD					    db 0ADh ; ­
seg000:DEBD DE					    db 0DEh ; Ş
seg000:DEBE AD					    db 0ADh ; ­
seg000:DEBF DE					    db 0DEh ; Ş
seg000:DEC0 AD					    db 0ADh ; ­
seg000:DEC1 DE					    db 0DEh ; Ş
seg000:DEC2 AD					    db 0ADh ; ­
seg000:DEC3 DE					    db 0DEh ; Ş
seg000:DEC4 AD					    db 0ADh ; ­
seg000:DEC5 DE					    db 0DEh ; Ş
seg000:DEC6 AD					    db 0ADh ; ­
seg000:DEC7 DE					    db 0DEh ; Ş
seg000:DEC8 AD					    db 0ADh ; ­
seg000:DEC9 DE					    db 0DEh ; Ş
seg000:DECA AD					    db 0ADh ; ­
seg000:DECB DE					    db 0DEh ; Ş
seg000:DECC AD					    db 0ADh ; ­
seg000:DECD DE					    db 0DEh ; Ş
seg000:DECE AD					    db 0ADh ; ­
seg000:DECF DE					    db 0DEh ; Ş
seg000:DED0 AD					    db 0ADh ; ­
seg000:DED1 DE					    db 0DEh ; Ş
seg000:DED2 AD					    db 0ADh ; ­
seg000:DED3 DE					    db 0DEh ; Ş
seg000:DED4 AD					    db 0ADh ; ­
seg000:DED5 DE					    db 0DEh ; Ş
seg000:DED6 AD					    db 0ADh ; ­
seg000:DED7 DE					    db 0DEh ; Ş
seg000:DED8 AD					    db 0ADh ; ­
seg000:DED9 DE					    db 0DEh ; Ş
seg000:DEDA AD					    db 0ADh ; ­
seg000:DEDB DE					    db 0DEh ; Ş
seg000:DEDC AD					    db 0ADh ; ­
seg000:DEDD DE					    db 0DEh ; Ş
seg000:DEDE AD					    db 0ADh ; ­
seg000:DEDF DE					    db 0DEh ; Ş
seg000:DEE0 AD					    db 0ADh ; ­
seg000:DEE1 DE					    db 0DEh ; Ş
seg000:DEE2 AD					    db 0ADh ; ­
seg000:DEE3 DE					    db 0DEh ; Ş
seg000:DEE4 AD					    db 0ADh ; ­
seg000:DEE5 DE					    db 0DEh ; Ş
seg000:DEE6 AD					    db 0ADh ; ­
seg000:DEE7 DE					    db 0DEh ; Ş
seg000:DEE8 AD					    db 0ADh ; ­
seg000:DEE9 DE					    db 0DEh ; Ş
seg000:DEEA AD					    db 0ADh ; ­
seg000:DEEB DE					    db 0DEh ; Ş
seg000:DEEC AD					    db 0ADh ; ­
seg000:DEED DE					    db 0DEh ; Ş
seg000:DEEE AD					    db 0ADh ; ­
seg000:DEEF DE					    db 0DEh ; Ş
seg000:DEF0 AD					    db 0ADh ; ­
seg000:DEF1 DE					    db 0DEh ; Ş
seg000:DEF2 AD					    db 0ADh ; ­
seg000:DEF3 DE					    db 0DEh ; Ş
seg000:DEF4 AD					    db 0ADh ; ­
seg000:DEF5 DE					    db 0DEh ; Ş
seg000:DEF6 AD					    db 0ADh ; ­
seg000:DEF7 DE					    db 0DEh ; Ş
seg000:DEF8 AD					    db 0ADh ; ­
seg000:DEF9 DE					    db 0DEh ; Ş
seg000:DEFA AD					    db 0ADh ; ­
seg000:DEFB DE					    db 0DEh ; Ş
seg000:DEFC AD					    db 0ADh ; ­
seg000:DEFD DE					    db 0DEh ; Ş
seg000:DEFE AD					    db 0ADh ; ­
seg000:DEFF DE					    db 0DEh ; Ş
seg000:DF00 AD					    db 0ADh ; ­
seg000:DF01 DE					    db 0DEh ; Ş
seg000:DF02 AD					    db 0ADh ; ­
seg000:DF03 DE					    db 0DEh ; Ş
seg000:DF04 AD					    db 0ADh ; ­
seg000:DF05 DE					    db 0DEh ; Ş
seg000:DF06 AD					    db 0ADh ; ­
seg000:DF07 DE					    db 0DEh ; Ş
seg000:DF08 AD					    db 0ADh ; ­
seg000:DF09 DE					    db 0DEh ; Ş
seg000:DF0A AD					    db 0ADh ; ­
seg000:DF0B DE					    db 0DEh ; Ş
seg000:DF0C AD					    db 0ADh ; ­
seg000:DF0D DE					    db 0DEh ; Ş
seg000:DF0E AD					    db 0ADh ; ­
seg000:DF0F DE					    db 0DEh ; Ş
seg000:DF10 AD					    db 0ADh ; ­
seg000:DF11 DE					    db 0DEh ; Ş
seg000:DF12 AD					    db 0ADh ; ­
seg000:DF13 DE					    db 0DEh ; Ş
seg000:DF14 AD					    db 0ADh ; ­
seg000:DF15 DE					    db 0DEh ; Ş
seg000:DF16 AD					    db 0ADh ; ­
seg000:DF17 DE					    db 0DEh ; Ş
seg000:DF18 AD					    db 0ADh ; ­
seg000:DF19 DE					    db 0DEh ; Ş
seg000:DF1A AD					    db 0ADh ; ­
seg000:DF1B DE					    db 0DEh ; Ş
seg000:DF1C AD					    db 0ADh ; ­
seg000:DF1D DE					    db 0DEh ; Ş
seg000:DF1E AD					    db 0ADh ; ­
seg000:DF1F DE					    db 0DEh ; Ş
seg000:DF20 AD					    db 0ADh ; ­
seg000:DF21 DE					    db 0DEh ; Ş
seg000:DF22 AD					    db 0ADh ; ­
seg000:DF23 DE					    db 0DEh ; Ş
seg000:DF24 AD					    db 0ADh ; ­
seg000:DF25 DE					    db 0DEh ; Ş
seg000:DF26 AD					    db 0ADh ; ­
seg000:DF27 DE					    db 0DEh ; Ş
seg000:DF28 AD					    db 0ADh ; ­
seg000:DF29 DE					    db 0DEh ; Ş
seg000:DF2A AD					    db 0ADh ; ­
seg000:DF2B DE					    db 0DEh ; Ş
seg000:DF2C AD					    db 0ADh ; ­
seg000:DF2D DE					    db 0DEh ; Ş
seg000:DF2E AD					    db 0ADh ; ­
seg000:DF2F DE					    db 0DEh ; Ş
seg000:DF30 AD					    db 0ADh ; ­
seg000:DF31 DE					    db 0DEh ; Ş
seg000:DF32 AD					    db 0ADh ; ­
seg000:DF33 DE					    db 0DEh ; Ş
seg000:DF34 AD					    db 0ADh ; ­
seg000:DF35 DE					    db 0DEh ; Ş
seg000:DF36 AD					    db 0ADh ; ­
seg000:DF37 DE					    db 0DEh ; Ş
seg000:DF38 AD					    db 0ADh ; ­
seg000:DF39 DE					    db 0DEh ; Ş
seg000:DF3A AD					    db 0ADh ; ­
seg000:DF3B DE					    db 0DEh ; Ş
seg000:DF3C AD					    db 0ADh ; ­
seg000:DF3D DE					    db 0DEh ; Ş
seg000:DF3E AD					    db 0ADh ; ­
seg000:DF3F DE					    db 0DEh ; Ş
seg000:DF40 AD					    db 0ADh ; ­
seg000:DF41 DE					    db 0DEh ; Ş
seg000:DF42 AD					    db 0ADh ; ­
seg000:DF43 DE					    db 0DEh ; Ş
seg000:DF44 AD					    db 0ADh ; ­
seg000:DF45 DE					    db 0DEh ; Ş
seg000:DF46 AD					    db 0ADh ; ­
seg000:DF47 DE					    db 0DEh ; Ş
seg000:DF48 AD					    db 0ADh ; ­
seg000:DF49 DE					    db 0DEh ; Ş
seg000:DF4A AD					    db 0ADh ; ­
seg000:DF4B DE					    db 0DEh ; Ş
seg000:DF4C AD					    db 0ADh ; ­
seg000:DF4D DE					    db 0DEh ; Ş
seg000:DF4E AD					    db 0ADh ; ­
seg000:DF4F DE					    db 0DEh ; Ş
seg000:DF50 AD					    db 0ADh ; ­
seg000:DF51 DE					    db 0DEh ; Ş
seg000:DF52 AD					    db 0ADh ; ­
seg000:DF53 DE					    db 0DEh ; Ş
seg000:DF54 AD					    db 0ADh ; ­
seg000:DF55 DE					    db 0DEh ; Ş
seg000:DF56 AD					    db 0ADh ; ­
seg000:DF57 DE					    db 0DEh ; Ş
seg000:DF58 AD					    db 0ADh ; ­
seg000:DF59 DE					    db 0DEh ; Ş
seg000:DF5A AD					    db 0ADh ; ­
seg000:DF5B DE					    db 0DEh ; Ş
seg000:DF5C AD					    db 0ADh ; ­
seg000:DF5D DE					    db 0DEh ; Ş
seg000:DF5E AD					    db 0ADh ; ­
seg000:DF5F DE					    db 0DEh ; Ş
seg000:DF60 AD					    db 0ADh ; ­
seg000:DF61 DE					    db 0DEh ; Ş
seg000:DF62 AD					    db 0ADh ; ­
seg000:DF63 DE					    db 0DEh ; Ş
seg000:DF64 AD					    db 0ADh ; ­
seg000:DF65 DE					    db 0DEh ; Ş
seg000:DF66 AD					    db 0ADh ; ­
seg000:DF67 DE					    db 0DEh ; Ş
seg000:DF68 AD					    db 0ADh ; ­
seg000:DF69 DE					    db 0DEh ; Ş
seg000:DF6A AD					    db 0ADh ; ­
seg000:DF6B DE					    db 0DEh ; Ş
seg000:DF6C AD					    db 0ADh ; ­
seg000:DF6D DE					    db 0DEh ; Ş
seg000:DF6E AD					    db 0ADh ; ­
seg000:DF6F DE					    db 0DEh ; Ş
seg000:DF70 AD					    db 0ADh ; ­
seg000:DF71 DE					    db 0DEh ; Ş
seg000:DF72 AD					    db 0ADh ; ­
seg000:DF73 DE					    db 0DEh ; Ş
seg000:DF74 AD					    db 0ADh ; ­
seg000:DF75 DE					    db 0DEh ; Ş
seg000:DF76 AD					    db 0ADh ; ­
seg000:DF77 DE					    db 0DEh ; Ş
seg000:DF78 AD					    db 0ADh ; ­
seg000:DF79 DE					    db 0DEh ; Ş
seg000:DF7A AD					    db 0ADh ; ­
seg000:DF7B DE					    db 0DEh ; Ş
seg000:DF7C AD					    db 0ADh ; ­
seg000:DF7D DE					    db 0DEh ; Ş
seg000:DF7E AD					    db 0ADh ; ­
seg000:DF7F DE					    db 0DEh ; Ş
seg000:DF80 AD					    db 0ADh ; ­
seg000:DF81 DE					    db 0DEh ; Ş
seg000:DF82 AD					    db 0ADh ; ­
seg000:DF83 DE					    db 0DEh ; Ş
seg000:DF84 AD					    db 0ADh ; ­
seg000:DF85 DE					    db 0DEh ; Ş
seg000:DF86 AD					    db 0ADh ; ­
seg000:DF87 DE					    db 0DEh ; Ş
seg000:DF88 AD					    db 0ADh ; ­
seg000:DF89 DE					    db 0DEh ; Ş
seg000:DF8A AD					    db 0ADh ; ­
seg000:DF8B DE					    db 0DEh ; Ş
seg000:DF8C AD					    db 0ADh ; ­
seg000:DF8D DE					    db 0DEh ; Ş
seg000:DF8E AD					    db 0ADh ; ­
seg000:DF8F DE					    db 0DEh ; Ş
seg000:DF90 AD					    db 0ADh ; ­
seg000:DF91 DE					    db 0DEh ; Ş
seg000:DF92 AD					    db 0ADh ; ­
seg000:DF93 DE					    db 0DEh ; Ş
seg000:DF94 AD					    db 0ADh ; ­
seg000:DF95 DE					    db 0DEh ; Ş
seg000:DF96 AD					    db 0ADh ; ­
seg000:DF97 DE					    db 0DEh ; Ş
seg000:DF98 AD					    db 0ADh ; ­
seg000:DF99 DE					    db 0DEh ; Ş
seg000:DF9A AD					    db 0ADh ; ­
seg000:DF9B DE					    db 0DEh ; Ş
seg000:DF9C AD					    db 0ADh ; ­
seg000:DF9D DE					    db 0DEh ; Ş
seg000:DF9E AD					    db 0ADh ; ­
seg000:DF9F DE					    db 0DEh ; Ş
seg000:DFA0 AD					    db 0ADh ; ­
seg000:DFA1 DE					    db 0DEh ; Ş
seg000:DFA2 AD					    db 0ADh ; ­
seg000:DFA3 DE					    db 0DEh ; Ş
seg000:DFA4 AD					    db 0ADh ; ­
seg000:DFA5 DE					    db 0DEh ; Ş
seg000:DFA6 AD					    db 0ADh ; ­
seg000:DFA7 DE					    db 0DEh ; Ş
seg000:DFA8 AD					    db 0ADh ; ­
seg000:DFA9 DE					    db 0DEh ; Ş
seg000:DFAA AD					    db 0ADh ; ­
seg000:DFAB DE					    db 0DEh ; Ş
seg000:DFAC AD					    db 0ADh ; ­
seg000:DFAD DE					    db 0DEh ; Ş
seg000:DFAE AD					    db 0ADh ; ­
seg000:DFAF DE					    db 0DEh ; Ş
seg000:DFB0 AD					    db 0ADh ; ­
seg000:DFB1 DE					    db 0DEh ; Ş
seg000:DFB2 AD					    db 0ADh ; ­
seg000:DFB3 DE					    db 0DEh ; Ş
seg000:DFB4 AD					    db 0ADh ; ­
seg000:DFB5 DE					    db 0DEh ; Ş
seg000:DFB6 AD					    db 0ADh ; ­
seg000:DFB7 DE					    db 0DEh ; Ş
seg000:DFB8 AD					    db 0ADh ; ­
seg000:DFB9 DE					    db 0DEh ; Ş
seg000:DFBA AD					    db 0ADh ; ­
seg000:DFBB DE					    db 0DEh ; Ş
seg000:DFBC AD					    db 0ADh ; ­
seg000:DFBD DE					    db 0DEh ; Ş
seg000:DFBE AD					    db 0ADh ; ­
seg000:DFBF DE					    db 0DEh ; Ş
seg000:DFC0 AD					    db 0ADh ; ­
seg000:DFC1 DE					    db 0DEh ; Ş
seg000:DFC2 AD					    db 0ADh ; ­
seg000:DFC3 DE					    db 0DEh ; Ş
seg000:DFC4 AD					    db 0ADh ; ­
seg000:DFC5 DE					    db 0DEh ; Ş
seg000:DFC6 AD					    db 0ADh ; ­
seg000:DFC7 DE					    db 0DEh ; Ş
seg000:DFC8 AD					    db 0ADh ; ­
seg000:DFC9 DE					    db 0DEh ; Ş
seg000:DFCA AD					    db 0ADh ; ­
seg000:DFCB DE					    db 0DEh ; Ş
seg000:DFCC AD					    db 0ADh ; ­
seg000:DFCD DE					    db 0DEh ; Ş
seg000:DFCE AD					    db 0ADh ; ­
seg000:DFCF DE					    db 0DEh ; Ş
seg000:DFD0 AD					    db 0ADh ; ­
seg000:DFD1 DE					    db 0DEh ; Ş
seg000:DFD2 AD					    db 0ADh ; ­
seg000:DFD3 DE					    db 0DEh ; Ş
seg000:DFD4 AD					    db 0ADh ; ­
seg000:DFD5 DE					    db 0DEh ; Ş
seg000:DFD6 AD					    db 0ADh ; ­
seg000:DFD7 DE					    db 0DEh ; Ş
seg000:DFD8 AD					    db 0ADh ; ­
seg000:DFD9 DE					    db 0DEh ; Ş
seg000:DFDA AD					    db 0ADh ; ­
seg000:DFDB DE					    db 0DEh ; Ş
seg000:DFDC AD					    db 0ADh ; ­
seg000:DFDD DE					    db 0DEh ; Ş
seg000:DFDE AD					    db 0ADh ; ­
seg000:DFDF DE					    db 0DEh ; Ş
seg000:DFE0 AD					    db 0ADh ; ­
seg000:DFE1 DE					    db 0DEh ; Ş
seg000:DFE2 AD					    db 0ADh ; ­
seg000:DFE3 DE					    db 0DEh ; Ş
seg000:DFE4 AD					    db 0ADh ; ­
seg000:DFE5 DE					    db 0DEh ; Ş
seg000:DFE6 AD					    db 0ADh ; ­
seg000:DFE7 DE					    db 0DEh ; Ş
seg000:DFE8 AD					    db 0ADh ; ­
seg000:DFE9 DE					    db 0DEh ; Ş
seg000:DFEA AD					    db 0ADh ; ­
seg000:DFEB DE					    db 0DEh ; Ş
seg000:DFEC AD					    db 0ADh ; ­
seg000:DFED DE					    db 0DEh ; Ş
seg000:DFEE AD					    db 0ADh ; ­
seg000:DFEF DE					    db 0DEh ; Ş
seg000:DFF0 AD					    db 0ADh ; ­
seg000:DFF1 DE					    db 0DEh ; Ş
seg000:DFF2 AD					    db 0ADh ; ­
seg000:DFF3 DE					    db 0DEh ; Ş
seg000:DFF4 AD					    db 0ADh ; ­
seg000:DFF5 DE					    db 0DEh ; Ş
seg000:DFF6 AD					    db 0ADh ; ­
seg000:DFF7 DE					    db 0DEh ; Ş
seg000:DFF8 AD					    db 0ADh ; ­
seg000:DFF9 DE					    db 0DEh ; Ş
seg000:DFFA AD					    db 0ADh ; ­
seg000:DFFB DE					    db 0DEh ; Ş
seg000:DFFC AD					    db 0ADh ; ­
seg000:DFFD DE					    db 0DEh ; Ş
seg000:DFFE AD					    db 0ADh ; ­
seg000:DFFF FF					    db 0FFh
seg000:E000 38 28 2D 0A	1C 01 19 1A+int_1d	    db 38h, 28h, 2Dh, 0Ah, 1Ch,	1, 19h,	1Ah, 2,	8, 6, 7, 4 dup(0); init_modes_0_1
seg000:E000 02 08 06 07	00 00 00 00+					    ; DATA XREF: seg000:FF1Do
seg000:E000 71 50 5A 0A	1C 01 19 1A+		    db 71h, 50h, 5Ah, 0Ah, 1Ch,	1, 19h,	1Ah, 2,	8, 6, 7, 4 dup(0); init_modes_2_3 ; video init param
seg000:E000 02 08 06 07	00 00 00 00+		    db 38h, 28h, 2Dh, 0Ah, 7Fh,	6, 64h,	70h, 2,	1, 6, 7, 4 dup(0); init_modes_4_5_6_8
seg000:E000 38 28 2D 0A	7F 06 64 70+		    db 61h, 50h, 52h, 0Fh, 19h,	6, 2 dup(19h), 2, 0Dh, 0Bh; init_mode_7
seg000:E000 02 01 06 07	00 00 00 00+		    db 0Ch, 4 dup(0)	    ; init_mode_7
seg000:E000 61 50 52 0F	19 06 19 19+		    db 71h, 50h, 5Ah, 0Ah, 3Fh,	6, 32h,	38h, 2,	3, 6, 7, 4 dup(0); init_modes_9_a
seg000:E050 00					    db	  0
seg000:E051 00					    db	  0
seg000:E052 00					    db	  0
seg000:E053 00					    db	  0
seg000:E054 00					    db	  0
seg000:E055 00					    db	  0
seg000:E056 00					    db	  0
seg000:E057 00					    db	  0
seg000:E058 00					    db	  0
seg000:E059 00					    db	  0
seg000:E05A 00					    db	  0
seg000:E05B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E05B
seg000:E05B			    reset:				    ; CODE XREF: seg000:E33Cj
seg000:E05B								    ; seg000:reset_entryJ
seg000:E05B B8 40 00				    mov	    ax,	40h ; '@'
seg000:E05E 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E060 B8 E8 BB				    mov	    ax,	0BBE8h
seg000:E063 8E C0				    mov	    es,	ax	    ; es = 0xbbe8
seg000:E065 33 C0				    xor	    ax,	ax
seg000:E067 81 3E 72 00	34 12			    cmp	    word ptr ds:p400.POST_reset_flag, 1234h
seg000:E06D 75 06				    jnz	    short loc_FE075
seg000:E06F A1 17 00				    mov	    ax,	ds:p400.keyb_status_flags_1
seg000:E072 25 60 60				    and	    ax,	6060h	    ; insert / caps filter
seg000:E075
seg000:E075			    loc_FE075:				    ; CODE XREF: seg000:E06Dj
seg000:E075 26 A3 12 00				    mov	    es:pbbe80.shadow_keyb_status_flags_1, ax
seg000:E079 A1 72 00				    mov	    ax,	ds:p400.POST_reset_flag
seg000:E07C 26 A3 14 00				    mov	    es:pbbe80.shadow_POST_reset_flag, ax
seg000:E080 E9 ED E3				    jmp	    loc_FC470
seg000:E083			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E083
seg000:E083			    loc_FE083:				    ; CODE XREF: seg000:loc_FCC56j
seg000:E083 B8 40 00				    mov	    ax,	40h ; '@'
seg000:E086 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E088 B8 E8 BB				    mov	    ax,	0BBE8h
seg000:E08B 8E C0				    mov	    es,	ax	    ; es = 0xbbe8
seg000:E08D 26 81 3E 14	00 34 12		    cmp	    word ptr es:pbbe80.shadow_POST_reset_flag, 1234h
seg000:E094 75 07				    jnz	    short loc_FE09D
seg000:E096 26 A1 12 00				    mov	    ax,	es:pbbe80.shadow_keyb_status_flags_1
seg000:E09A A3 17 00				    mov	    ds:p400.keyb_status_flags_1, ax
seg000:E09D
seg000:E09D			    loc_FE09D:				    ; CODE XREF: seg000:E094j
seg000:E09D FA					    cli
seg000:E09E FC					    cld
seg000:E09F B8 36 00				    mov	    ax,	36h ; '6'
seg000:E0A2 BA 43 00				    mov	    dx,	43h ; 'C'
seg000:E0A5 EE					    out	    dx,	al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0A6 BA 40 00				    mov	    dx,	40h ; '@'
seg000:E0A9 B0 00				    mov	    al,	0
seg000:E0AB EE					    out	    dx,	al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0AC EE					    out	    dx,	al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0AD B0 54				    mov	    al,	54h ; 'T'
seg000:E0AF BA 43 00				    mov	    dx,	43h ; 'C'
seg000:E0B2 EE					    out	    dx,	al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0B3 B0 12				    mov	    al,	12h
seg000:E0B5 BA 41 00				    mov	    dx,	41h ; 'A'
seg000:E0B8 EE					    out	    dx,	al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0B9 B0 B6				    mov	    al,	0B6h ; '¶'
seg000:E0BB E6 43				    out	    43h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0BD 32 C0				    xor	    al,	al
seg000:E0BF E6 42				    out	    42h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0C1 B0 05				    mov	    al,	5
seg000:E0C3 E6 42				    out	    42h, al	    ; Timer 8253-5 (AT:	8254.2).
seg000:E0C5 33 C0				    xor	    ax,	ax
seg000:E0C7 8E C0				    mov	    es,	ax	    ; es = 0
seg000:E0C9 B8 30 00				    mov	    ax,	30h ; '0'
seg000:E0CC 8E D0				    mov	    ss,	ax	    ; stack from 30:ff to 30:00
seg000:E0CE B8 00 01				    mov	    ax,	100h
seg000:E0D1 8B E0				    mov	    sp,	ax
seg000:E0D3 8C C8				    mov	    ax,	cs
seg000:E0D5 8E D8				    mov	    ds,	ax	    ; ds = cs
seg000:E0D7 BE 23 FF				    mov	    si,	offset tbl_ints_0_7
seg000:E0DA 33 FF				    xor	    di,	di
seg000:E0DC B9 08 00				    mov	    cx,	8
seg000:E0DF E8 5D 02				    call    sub_FE33F
seg000:E0E2 BE F3 FE				    mov	    si,	offset tbl_ints_8_32
seg000:E0E5 BF 20 00				    mov	    di,	20h ; ' '   ; starting from int 8 (0x20/4 == 8)
seg000:E0E8 B9 18 00				    mov	    cx,	18h
seg000:E0EB E8 51 02				    call    sub_FE33F
seg000:E0EE BE 33 FF				    mov	    si,	offset tbl_int_44
seg000:E0F1 BF 10 01				    mov	    di,	110h	    ; int 0x44 (0x110/4	= 0x44)
seg000:E0F4 B9 01 00				    mov	    cx,	1
seg000:E0F7 E8 45 02				    call    sub_FE33F
seg000:E0FA B8 E8 BB				    mov	    ax,	0BBE8h
seg000:E0FD 8E D8				    mov	    ds,	ax	    ; ds = 0xbbe8
seg000:E0FF 8B 16 0B 00				    mov	    dx,	ds:pbbe80.field_B
seg000:E103 B1 06				    mov	    cl,	6
seg000:E105 D3 EA				    shr	    dx,	cl
seg000:E107 83 C2 70				    add	    dx,	70h ; 'p'
seg000:E10A B8 40 00				    mov	    ax,	40h ; '@'
seg000:E10D 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E10F 89 16 13 00				    mov	    ds:pbbe80.shadow_keyb_status_flags_2, dx
seg000:E113 83 C2 10				    add	    dx,	10h
seg000:E116 89 16 15 00				    mov	    ds:pbbe80.shadow_POST_reset_flag+1,	dx
seg000:E11A B0 FF				    mov	    al,	0FFh
seg000:E11C E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E11E E4 61				    in	    al,	61h	    ; PC/XT PPI	port B bits:
seg000:E11E								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:E11E								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:E11E								    ; 3: 1=read	high switches
seg000:E11E								    ; 4: 0=enable RAM parity checking
seg000:E11E								    ; 5: 0=enable I/O channel check
seg000:E11E								    ; 6: 0=hold	keyboard clock low
seg000:E11E								    ; 7: 0=enable kbrd
seg000:E120 0C 01				    or	    al,	1
seg000:E122 E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:E122								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:E122								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:E122								    ; 3: 1=read	high switches
seg000:E122								    ; 4: 0=enable RAM parity checking
seg000:E122								    ; 5: 0=enable I/O channel check
seg000:E122								    ; 6: 0=hold	keyboard clock low
seg000:E122								    ; 7: 0=enable kbrd
seg000:E124 B9 00 40				    mov	    cx,	4000h
seg000:E127
seg000:E127			    loc_FE127:				    ; CODE XREF: seg000:loc_FE127j
seg000:E127 E2 FE				    loop    loc_FE127
seg000:E129 24 FE				    and	    al,	0FEh
seg000:E12B E6 61				    out	    61h, al	    ; PC/XT PPI	port B bits:
seg000:E12B								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:E12B								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:E12B								    ; 3: 1=read	high switches
seg000:E12B								    ; 4: 0=enable RAM parity checking
seg000:E12B								    ; 5: 0=enable I/O channel check
seg000:E12B								    ; 6: 0=hold	keyboard clock low
seg000:E12B								    ; 7: 0=enable kbrd
seg000:E12D B8 40 00				    mov	    ax,	40h ; '@'
seg000:E130 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E132 BA 13 02				    mov	    dx,	213h
seg000:E135 B0 01				    mov	    al,	1
seg000:E137 EE					    out	    dx,	al	    ; XT Expansion chassis enable
seg000:E138 90					    nop
seg000:E139 B8 2D 10				    mov	    ax,	102Dh
seg000:E13C A3 10 00				    mov	    ds:p400.installed_hardware,	ax
seg000:E13F B8 1E 00				    mov	    ax,	1Eh
seg000:E142 A3 1A 00				    mov	    ds:p400.keyb_buffer_head_ptr, ax
seg000:E145 A3 1C 00				    mov	    ds:p400.keyb_buffer_tail_ptr, ax
seg000:E148 A3 80 00				    mov	    ds:p400.keyb_buffer_start_offset_ptr, ax
seg000:E14B 05 20 00				    add	    ax,	20h ; ' '
seg000:E14E A3 82 00				    mov	    ds:p400.keyb_buffer_end_offset_ptr,	ax
seg000:E151 C6 06 8A 00	3F			    mov	    byte ptr ds:p400.video_page_data, 3Fh ; '?'
seg000:E156 B0 0E				    mov	    al,	0Eh
seg000:E158 E6 0F				    out	    0Fh, al	    ; DMA controller, 8237A-5.
seg000:E158								    ; master clear. Clear or mask any or
seg000:E158								    ; all of the channels. Bits:
seg000:E158								    ; 0: 1=mask	channel	0; 0=enable
seg000:E158								    ; 1: 1=mask	channel	1;
seg000:E158								    ; 2: 1=mask	channel	2;
seg000:E158								    ; 3: 1=mask	channel	3;
seg000:E15A E6 0C				    out	    0Ch, al	    ; DMA controller, 8237A-5.
seg000:E15A								    ; clear byte pointer flip-flop.
seg000:E15C BA 04 00				    mov	    dx,	4
seg000:E15F
seg000:E15F			    loc_FE15F:				    ; CODE XREF: seg000:E17Bj
seg000:E15F B9 01 00				    mov	    cx,	1
seg000:E162
seg000:E162			    loc_FE162:				    ; CODE XREF: seg000:E175j
seg000:E162 8B C1				    mov	    ax,	cx
seg000:E164 EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:E164								    ; channel 2	base address
seg000:E164								    ; (also sets current address)
seg000:E165 8A C4				    mov	    al,	ah
seg000:E167 EE					    out	    dx,	al	    ; DMA controller, 8237A-5.
seg000:E167								    ; channel 2	base address
seg000:E167								    ; (also sets current address)
seg000:E168 90					    nop
seg000:E169 EC					    in	    al,	dx	    ; DMA controller, 8237A-5.
seg000:E169								    ; channel 2	current	address
seg000:E16A 8A E0				    mov	    ah,	al
seg000:E16C EC					    in	    al,	dx	    ; DMA controller, 8237A-5.
seg000:E16C								    ; channel 2	current	address
seg000:E16D 86 E0				    xchg    ah,	al
seg000:E16F 3B C1				    cmp	    ax,	cx
seg000:E171 75 0C				    jnz	    short loc_FE17F
seg000:E173 D1 D1				    rcl	    cx,	1
seg000:E175 73 EB				    jnb	    short loc_FE162
seg000:E177 42					    inc	    dx
seg000:E178 83 FA 06				    cmp	    dx,	6
seg000:E17B 75 E2				    jnz	    short loc_FE15F
seg000:E17D EB 06				    jmp	    short loc_FE185
seg000:E17F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E17F
seg000:E17F			    loc_FE17F:				    ; CODE XREF: seg000:E171j
seg000:E17F 81 0E 10 00	00 01			    or	    word ptr ds:p400.installed_hardware, 100h
seg000:E185
seg000:E185			    loc_FE185:				    ; CODE XREF: seg000:E17Dj
seg000:E185 E8 D7 F9				    call    sub_FDB5F
seg000:E188 E4 21				    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg000:E18A 24 BF				    and	    al,	0BFh
seg000:E18C E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E18E FB					    sti
seg000:E18F B4 00				    mov	    ah,	0
seg000:E191 B2 00				    mov	    dl,	0
seg000:E193 CD 13				    int	    13h		    ; DISK - RESET DISK	SYSTEM
seg000:E193								    ; DL = drive (if bit 7 is set both hard disks and floppy disks reset)
seg000:E195 B8 01 02				    mov	    ax,	201h
seg000:E198 BB 00 F0				    mov	    bx,	0F000h
seg000:E19B 8E C3				    mov	    es,	bx
seg000:E19D 33 DB				    xor	    bx,	bx
seg000:E19F B9 01 05				    mov	    cx,	501h
seg000:E1A2 33 D2				    xor	    dx,	dx
seg000:E1A4 CD 13				    int	    13h		    ; DISK - READ SECTORS INTO MEMORY
seg000:E1A4								    ; AL = number of sectors to	read, CH = track, CL = sector
seg000:E1A4								    ; DH = head, DL = drive, ES:BX -> buffer to	fill
seg000:E1A4								    ; Return: CF set on	error, AH = status, AL = number	of sectors read
seg000:E1A6 B4 00				    mov	    ah,	0
seg000:E1A8 B2 00				    mov	    dl,	0
seg000:E1AA CD 13				    int	    13h		    ; DISK - RESET DISK	SYSTEM
seg000:E1AA								    ; DL = drive (if bit 7 is set both hard disks and floppy disks reset)
seg000:E1AC B8 01 02				    mov	    ax,	201h
seg000:E1AF BB 00 F0				    mov	    bx,	0F000h
seg000:E1B2 8E C3				    mov	    es,	bx
seg000:E1B4 33 DB				    xor	    bx,	bx
seg000:E1B6 B9 01 0A				    mov	    cx,	0A01h
seg000:E1B9 BA 01 00				    mov	    dx,	1
seg000:E1BC CD 13				    int	    13h		    ; DISK - READ SECTORS INTO MEMORY
seg000:E1BC								    ; AL = number of sectors to	read, CH = track, CL = sector
seg000:E1BC								    ; DH = head, DL = drive, ES:BX -> buffer to	fill
seg000:E1BC								    ; Return: CF set on	error, AH = status, AL = number	of sectors read
seg000:E1BE 73 05				    jnb	    short loc_FE1C5
seg000:E1C0 F6 C4 40				    test    ah,	40h
seg000:E1C3 75 06				    jnz	    short loc_FE1CB
seg000:E1C5
seg000:E1C5			    loc_FE1C5:				    ; CODE XREF: seg000:E1BEj
seg000:E1C5 81 0E 10 00	40 00			    or	    word ptr ds:p400.installed_hardware, 40h
seg000:E1CB
seg000:E1CB			    loc_FE1CB:				    ; CODE XREF: seg000:E1C3j
seg000:E1CB FA					    cli
seg000:E1CC E4 21				    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg000:E1CE 0C 40				    or	    al,	40h
seg000:E1D0 E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E1D2 B0 0F				    mov	    al,	0Fh
seg000:E1D4 BA F2 03				    mov	    dx,	3F2h
seg000:E1D7 EE					    out	    dx,	al	    ; Floppy: digital output reg bits:
seg000:E1D7								    ; 0-1: Drive to select 0-3 (AT: bit	1 not used)
seg000:E1D7								    ; 2:   0=reset diskette controller;	1=enable controller
seg000:E1D7								    ; 3:   1=enable diskette DMA and interrupts
seg000:E1D7								    ; 4-7: drive motor enable.	Set bits to turn drive ON.
seg000:E1D7								    ;
seg000:E1D8 BB 08 00				    mov	    bx,	p400.lpt0_base_addr
seg000:E1DB BA BC 03				    mov	    dx,	3BCh
seg000:E1DE B0 A5				    mov	    al,	0A5h ; '¥'
seg000:E1E0 EE					    out	    dx,	al	    ; Printer Data Latch:
seg000:E1E0								    ; send byte	to printer
seg000:E1E1 EC					    in	    al,	dx	    ; Printer Data Latch:
seg000:E1E1								    ; fetch last byte sent
seg000:E1E2 3C A5				    cmp	    al,	0A5h ; '¥'
seg000:E1E4 75 0A				    jnz	    short loc_FE1F0
seg000:E1E6 89 17				    mov	    [bx], dx
seg000:E1E8 43					    inc	    bx
seg000:E1E9 43					    inc	    bx
seg000:E1EA 81 06 10 00	00 40			    add	    word ptr ds:p400.installed_hardware, 4000h
seg000:E1F0
seg000:E1F0			    loc_FE1F0:				    ; CODE XREF: seg000:E1E4j
seg000:E1F0 BA 78 03				    mov	    dx,	378h
seg000:E1F3 B0 A5				    mov	    al,	0A5h ; '¥'
seg000:E1F5 EE					    out	    dx,	al	    ; Printer Data Latch:
seg000:E1F5								    ; send byte	to printer
seg000:E1F6 EC					    in	    al,	dx	    ; Printer Data Latch:
seg000:E1F6								    ; fetch last byte sent
seg000:E1F7 3C A5				    cmp	    al,	0A5h ; '¥'
seg000:E1F9 75 0A				    jnz	    short loc_FE205
seg000:E1FB 89 17				    mov	    [bx], dx
seg000:E1FD 43					    inc	    bx
seg000:E1FE 43					    inc	    bx
seg000:E1FF 81 06 10 00	00 40			    add	    word ptr ds:p400.installed_hardware, 4000h
seg000:E205
seg000:E205			    loc_FE205:				    ; CODE XREF: seg000:E1F9j
seg000:E205 BA 78 02				    mov	    dx,	278h
seg000:E208 B0 A5				    mov	    al,	0A5h ; '¥'
seg000:E20A EE					    out	    dx,	al	    ; Printer Data Latch:
seg000:E20A								    ; send byte	to printer
seg000:E20B EC					    in	    al,	dx	    ; Printer Data Latch:
seg000:E20B								    ; fetch last byte sent
seg000:E20C 3C A5				    cmp	    al,	0A5h ; '¥'
seg000:E20E 75 08				    jnz	    short loc_FE218
seg000:E210 89 17				    mov	    [bx], dx
seg000:E212 81 06 10 00	00 40			    add	    word ptr ds:p400.installed_hardware, 4000h
seg000:E218
seg000:E218			    loc_FE218:				    ; CODE XREF: seg000:E20Ej
seg000:E218 BB 78 00				    mov	    bx,	p400.lpt0_timeout
seg000:E21B C7 07 14 14				    mov	    word ptr [bx], 1414h
seg000:E21F C7 47 02 14	14			    mov	    word ptr [bx+2], 1414h
seg000:E224 BB 00 00				    mov	    bx,	p400
seg000:E227 BA FB 03				    mov	    dx,	3FBh
seg000:E22A B0 80				    mov	    al,	80h ; '€'
seg000:E22C EE					    out	    dx,	al	    ; COM: line	control	register bits:
seg000:E22C								    ; 0-1: word	length:	00=5, 01=6, 10=7, 11=8
seg000:E22C								    ; 2:   stop	bits: 0=1,1=2
seg000:E22C								    ; 3-4: parity: x0=None, 01=Odd, 11=Even
seg000:E22C								    ; 5:   stuck parity
seg000:E22C								    ; 6:   enable break	control. 1=start sending 0s (spaces)
seg000:E22C								    ; 7:   DLAB	(Divisor Latch Access Bit)
seg000:E22D BA F8 03				    mov	    dx,	3F8h
seg000:E230 B0 AA				    mov	    al,	0AAh ; 'ª'
seg000:E232 EE					    out	    dx,	al	    ; COM: transmitter holding register
seg000:E232								    ; or (when DLAB=1) divisor latch low byte.
seg000:E233 EC					    in	    al,	dx	    ; COM: receiver buffer register.
seg000:E233								    ; 8	bits of	character received.
seg000:E234 3C AA				    cmp	    al,	0AAh ; 'ª'
seg000:E236 75 0A				    jnz	    short loc_FE242
seg000:E238 89 17				    mov	    [bx], dx
seg000:E23A 43					    inc	    bx
seg000:E23B 43					    inc	    bx
seg000:E23C 81 06 10 00	00 02			    add	    word ptr ds:p400.installed_hardware, 200h
seg000:E242
seg000:E242			    loc_FE242:				    ; CODE XREF: seg000:E236j
seg000:E242 BA FB 02				    mov	    dx,	2FBh
seg000:E245 B0 80				    mov	    al,	80h ; '€'
seg000:E247 EE					    out	    dx,	al	    ; COM: line	control	register bits:
seg000:E247								    ; 0-1: word	length:	00=5, 01=6, 10=7, 11=8
seg000:E247								    ; 2:   stop	bits: 0=1,1=2
seg000:E247								    ; 3-4: parity: x0=None, 01=Odd, 11=Even
seg000:E247								    ; 5:   stuck parity
seg000:E247								    ; 6:   enable break	control. 1=start sending 0s (spaces)
seg000:E247								    ; 7:   DLAB	(Divisor Latch Access Bit)
seg000:E248 BA F8 02				    mov	    dx,	2F8h
seg000:E24B B0 AA				    mov	    al,	0AAh ; 'ª'
seg000:E24D EE					    out	    dx,	al	    ; COM: transmitter holding register
seg000:E24D								    ; or (when DLAB=1) divisor latch low byte.
seg000:E24E EC					    in	    al,	dx	    ; COM: receiver buffer register.
seg000:E24E								    ; 8	bits of	character received.
seg000:E24F 3C AA				    cmp	    al,	0AAh ; 'ª'
seg000:E251 75 08				    jnz	    short loc_FE25B
seg000:E253 89 17				    mov	    [bx], dx
seg000:E255 81 06 10 00	00 02			    add	    word ptr ds:p400.installed_hardware, 200h
seg000:E25B
seg000:E25B			    loc_FE25B:				    ; CODE XREF: seg000:E251j
seg000:E25B BB 7C 00				    mov	    bx,	p400.comm_0_timeout
seg000:E25E C7 07 01 01				    mov	    word ptr [bx], 101h
seg000:E262 C7 47 02 01	01			    mov	    word ptr [bx+2], 101h
seg000:E267 B4 01				    mov	    ah,	1
seg000:E269 BA 00 00				    mov	    dx,	0
seg000:E26C CD 17				    int	    17h		    ; PRINTER -	INITIALIZE
seg000:E26C								    ; DX = printer port	(0-3)
seg000:E26C								    ; Return: AH = status
seg000:E26E B8 43 00				    mov	    ax,	43h ; 'C'
seg000:E271 BA 00 00				    mov	    dx,	0
seg000:E274 CD 14				    int	    14h		    ; SERIAL I/O - INITIALIZE USART
seg000:E274								    ; AL = initializing	parameters, DX = port number (0-3)
seg000:E274								    ; Return: AH = RS-232 status code bits, AL = modem status bits
seg000:E276 B4 01				    mov	    ah,	1
seg000:E278 CD 14				    int	    14h		    ; SERIAL I/O - TRANSMIT CHARACTER
seg000:E278								    ; AL = character, DX = port	number (0-3)
seg000:E278								    ; Return: AH = RS-232 status code bits, AL = modem status bits
seg000:E27A B8 43 00				    mov	    ax,	43h ; 'C'
seg000:E27D BA 01 00				    mov	    dx,	1
seg000:E280 CD 14				    int	    14h		    ; SERIAL I/O - INITIALIZE USART
seg000:E280								    ; AL = initializing	parameters, DX = port number (0-3)
seg000:E280								    ; Return: AH = RS-232 status code bits, AL = modem status bits
seg000:E282 B4 01				    mov	    ah,	1
seg000:E284 CD 14				    int	    14h		    ; SERIAL I/O - TRANSMIT CHARACTER
seg000:E284								    ; AL = character, DX = port	number (0-3)
seg000:E284								    ; Return: AH = RS-232 status code bits, AL = modem status bits
seg000:E286 B8 00 C8				    mov	    ax,	0C800h
seg000:E289 8E D8				    mov	    ds,	ax	    ; ds = 0xc800
seg000:E28B B9 58 00				    mov	    cx,	58h ; 'X'
seg000:E28E
seg000:E28E			    loc_FE28E:				    ; CODE XREF: seg000:E2C9j
seg000:E28E 33 F6				    xor	    si,	si
seg000:E290 81 3C 55 AA				    cmp	    word ptr [si], 0AA55h
seg000:E294 75 2C				    jnz	    short loc_FE2C2
seg000:E296 51					    push    cx
seg000:E297 B1 00				    mov	    cl,	0
seg000:E299 8A 6C 02				    mov	    ch,	[si+2]
seg000:E29C 03 C9				    add	    cx,	cx
seg000:E29E B0 00				    mov	    al,	0
seg000:E2A0
seg000:E2A0			    loc_FE2A0:				    ; CODE XREF: seg000:E2A3j
seg000:E2A0 02 04				    add	    al,	[si]
seg000:E2A2 46					    inc	    si
seg000:E2A3 E2 FB				    loop    loc_FE2A0
seg000:E2A5 0A C0				    or	    al,	al
seg000:E2A7 75 18				    jnz	    short loc_FE2C1
seg000:E2A9 B8 40 00				    mov	    ax,	40h ; '@'
seg000:E2AC 8E C0				    mov	    es,	ax	    ; es = 0x40
seg000:E2AE 26 C7 06 67	00 03 00		    mov	    word ptr es:p400.POST_entry_point_offset, 3
seg000:E2B5 26 8C 1E 69	00			    mov	    word ptr es:p400.POST_entry_point_seg, ds
seg000:E2BA 1E					    push    ds
seg000:E2BB 26 FF 1E 67	00			    call    dword ptr es:p400.POST_entry_point_offset
seg000:E2C0 1F					    pop	    ds
seg000:E2C1
seg000:E2C1			    loc_FE2C1:				    ; CODE XREF: seg000:E2A7j
seg000:E2C1 59					    pop	    cx
seg000:E2C2
seg000:E2C2			    loc_FE2C2:				    ; CODE XREF: seg000:E294j
seg000:E2C2 8C D8				    mov	    ax,	ds
seg000:E2C4 05 80 00				    add	    ax,	80h ; '€'
seg000:E2C7 8E D8				    mov	    ds,	ax
seg000:E2C9 E2 C3				    loop    loc_FE28E
seg000:E2CB E4 21				    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg000:E2CD 24 FD				    and	    al,	0FDh
seg000:E2CF E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E2D1 FB					    sti
seg000:E2D2 B4 01				    mov	    ah,	1
seg000:E2D4 CD 16				    int	    16h		    ; KEYBOARD - CHECK BUFFER, DO NOT CLEAR
seg000:E2D4								    ; Return: ZF clear if character in buffer
seg000:E2D4								    ; AH = scan	code, AL = character
seg000:E2D4								    ; ZF set if	no character in	buffer
seg000:E2D6 FA					    cli
seg000:E2D7 74 30				    jz	    short loc_FE309
seg000:E2D9 3D 00 99				    cmp	    ax,	9900h
seg000:E2DC B8 40 00				    mov	    ax,	40h ; '@'
seg000:E2DF 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E2E1 75 1D				    jnz	    short loc_FE300
seg000:E2E3 A1 10 00				    mov	    ax,	ds:p400.installed_hardware
seg000:E2E6 25 CF FF				    and	    ax,	0FFCFh
seg000:E2E9 0D 10 00				    or	    ax,	10h
seg000:E2EC A3 10 00				    mov	    ds:p400.installed_hardware,	ax
seg000:E2EF 33 C0				    xor	    ax,	ax
seg000:E2F1 8E C0				    mov	    es,	ax	    ; es = 0x00
seg000:E2F3 BB 74 00				    mov	    bx,	74h ; 't'   ; int 0x1d
seg000:E2F6 B8 A4 F0				    mov	    ax,	offset video_param_table
seg000:E2F9 26 89 07				    mov	    es:[bx], ax
seg000:E2FC 26 8C 4F 02				    mov	    word ptr es:[bx+2],	cs
seg000:E300
seg000:E300			    loc_FE300:				    ; CODE XREF: seg000:E2E1j
seg000:E300 A1 80 00				    mov	    ax,	ds:p400.keyb_buffer_start_offset_ptr
seg000:E303 A3 1A 00				    mov	    ds:p400.keyb_buffer_head_ptr, ax
seg000:E306 A3 1C 00				    mov	    ds:p400.keyb_buffer_tail_ptr, ax
seg000:E309
seg000:E309			    loc_FE309:				    ; CODE XREF: seg000:E2D7j
seg000:E309 E4 21				    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg000:E30B 0C 02				    or	    al,	2
seg000:E30D E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E30F B8 40 00				    mov	    ax,	40h ; '@'
seg000:E312 8E D8				    mov	    ds,	ax	    ; ds = 0x40
seg000:E314 33 C0				    xor	    ax,	ax
seg000:E316 8B 1E 10 00				    mov	    bx,	ds:p400.installed_hardware
seg000:E31A 81 E3 30 00				    and	    bx,	30h
seg000:E31E B0 07				    mov	    al,	7
seg000:E320 80 FB 30				    cmp	    bl,	30h ; '0'
seg000:E323 74 09				    jz	    short loc_FE32E
seg000:E325 B0 02				    mov	    al,	2
seg000:E327 80 FB 20				    cmp	    bl,	20h ; ' '
seg000:E32A 74 02				    jz	    short loc_FE32E
seg000:E32C B0 00				    mov	    al,	0
seg000:E32E
seg000:E32E			    loc_FE32E:				    ; CODE XREF: seg000:E323j
seg000:E32E								    ; seg000:E32Aj
seg000:E32E CD 10				    int	    10h		    ; -	VIDEO -	SET VIDEO MODE
seg000:E32E								    ; AL = mode
seg000:E330 B0 BC				    mov	    al,	0BCh ; '¼'
seg000:E332 E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E334 BE 01 C0				    mov	    si,	offset aBiosRomVersion ; "BIOS ROM version 01.00.00\r\nCopyright 19"...
seg000:E337 E8 54 00				    call    print_dos_string
seg000:E33A CD 19				    int	    19h		    ; DISK BOOT
seg000:E33A								    ; causes reboot of disk system
seg000:E33C E9 1C FD				    jmp	    reset
seg000:E33F
seg000:E33F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E33F
seg000:E33F
seg000:E33F			    sub_FE33F	    proc near		    ; CODE XREF: seg000:E0DFp
seg000:E33F								    ; seg000:E0EBp
seg000:E33F								    ; seg000:E0F7p
seg000:E33F								    ; sub_FE33F+2j
seg000:E33F A5					    movsw
seg000:E340 AB					    stosw
seg000:E341 E2 FC				    loop    sub_FE33F
seg000:E343 C3					    retn
seg000:E343			    sub_FE33F	    endp
seg000:E343
seg000:E344
seg000:E344			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E344
seg000:E344
seg000:E344			    int_18	    proc far		    ; DATA XREF: seg000:FF13o
seg000:E344 5E					    pop	    si
seg000:E345 5E					    pop	    si
seg000:E346 5E					    pop	    si
seg000:E347 BE 54 E3				    mov	    si,	offset aInsertSystemDisketteA ;	"\n\rInsert System Diskette and\n\rStrike an"...
seg000:E34A E8 41 00				    call    print_dos_string
seg000:E34D 32 E4				    xor	    ah,	ah
seg000:E34F CD 16				    int	    16h		    ; KEYBOARD - READ CHAR FROM	BUFFER,	WAIT IF	EMPTY
seg000:E34F								    ; Return: AH = scan	code, AL = character
seg000:E351 CD 19				    int	    19h		    ; DISK BOOT
seg000:E351								    ; causes reboot of disk system
seg000:E353 CF					    iret
seg000:E353			    int_18	    endp ; sp =	 8
seg000:E353
seg000:E353			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E354 0A 0D 49 6E	73 65 72 74+aInsertSystemDisketteA db 0Ah	    ; DATA XREF: int_18+3o
seg000:E354 20 53 79 73	74 65 6D 20+		    db 0Dh,'Insert System Diskette and',0Ah
seg000:E354 44 69 73 6B	65 74 74 65+		    db 0Dh,'Strike any key when ready',0Ah
seg000:E354 20 61 6E 64	0A 0D 53 74+		    db 0Dh,'$'
seg000:E38E
seg000:E38E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E38E
seg000:E38E
seg000:E38E			    print_dos_string proc near		    ; CODE XREF: seg000:E337p
seg000:E38E								    ; int_18+6p
seg000:E38E								    ; print_dos_string+10j
seg000:E38E 2E 8A 04				    mov	    al,	cs:[si]
seg000:E391 3C 24				    cmp	    al,	24h ; '$'
seg000:E393 74 0B				    jz	    short lret
seg000:E395 56					    push    si
seg000:E396 B4 0E				    mov	    ah,	0Eh
seg000:E398 B3 07				    mov	    bl,	7
seg000:E39A CD 10				    int	    10h		    ; -	VIDEO -	WRITE CHARACTER	AND ADVANCE CURSOR (TTY	WRITE)
seg000:E39A								    ; AL = character, BH = display page	(alpha modes)
seg000:E39A								    ; BL = foreground color (graphics modes)
seg000:E39C 5E					    pop	    si
seg000:E39D 46					    inc	    si
seg000:E39E EB EE				    jmp	    short print_dos_string
seg000:E3A0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E3A0
seg000:E3A0			    lret:				    ; CODE XREF: print_dos_string+5j
seg000:E3A0 C3					    retn
seg000:E3A0			    print_dos_string endp
seg000:E3A0
seg000:E3A1
seg000:E3A1			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E3A1
seg000:E3A1
seg000:E3A1			    int_15	    proc far		    ; DATA XREF: seg000:FF0Do
seg000:E3A1 B4 86				    mov	    ah,	86h ; '†'
seg000:E3A3 F9					    stc
seg000:E3A4 CA 02 00				    retf    2
seg000:E3A4			    int_15	    endp
seg000:E3A4
seg000:E3A7
seg000:E3A7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E3A7
seg000:E3A7
seg000:E3A7			    int_ack_handler proc far		    ; DATA XREF: seg000:FEF7o
seg000:E3A7								    ; seg000:FEF9o
seg000:E3A7								    ; seg000:FEFBo
seg000:E3A7								    ; seg000:FEFDo
seg000:E3A7								    ; seg000:FF01o
seg000:E3A7 50					    push    ax
seg000:E3A8 1E					    push    ds
seg000:E3A9 B8 40 00				    mov	    ax,	40h ; '@'
seg000:E3AC 8E D8				    mov	    ds,	ax
seg000:E3AE B0 0B				    mov	    al,	0Bh
seg000:E3B0 E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:E3B2 E4 20				    in	    al,	20h	    ; Interrupt	controller, 8259A.
seg000:E3B4 0A C0				    or	    al,	al
seg000:E3B6 74 0E				    jz	    short l0
seg000:E3B8 8A E0				    mov	    ah,	al
seg000:E3BA E4 21				    in	    al,	21h	    ; Interrupt	controller, 8259A.
seg000:E3BC 0A C4				    or	    al,	ah
seg000:E3BE E6 21				    out	    21h, al	    ; Interrupt	controller, 8259A.
seg000:E3C0 B0 20				    mov	    al,	20h ; ' '
seg000:E3C2 E6 20				    out	    20h, al	    ; Interrupt	controller, 8259A.
seg000:E3C4 EB 02				    jmp	    short l1
seg000:E3C6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E3C6
seg000:E3C6			    l0:					    ; CODE XREF: int_ack_handler+Fj
seg000:E3C6 B4 FF				    mov	    ah,	0FFh
seg000:E3C8
seg000:E3C8			    l1:					    ; CODE XREF: int_ack_handler+1Dj
seg000:E3C8 88 26 6B 00				    mov	    ds:p400.POST_last_unexpected_int, ah
seg000:E3CC 1F					    pop	    ds
seg000:E3CD 58					    pop	    ax
seg000:E3CE CF					    iret
seg000:E3CE			    int_ack_handler endp
seg000:E3CE
seg000:E3CE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E3CF 00 7C 00 00		    value_7c00	    dd 7C00h		    ; DATA XREF: int_19:l1r
seg000:E3CF								    ; 0000:7c00	should have the	boot code
seg000:E3D3 62 79 20 4C	53 44	    aByLsd	    db 'by LSD'             ; Tandy developer author?
seg000:E3D9 00 00 00 00	00 00 00 00+		    db 319h dup(0)
seg000:E6F2
seg000:E6F2			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E6F2
seg000:E6F2
seg000:E6F2			    int_19	    proc near		    ; CODE XREF: int_19+29j
seg000:E6F2								    ; DATA XREF: seg000:FF15o
seg000:E6F2 59					    pop	    cx
seg000:E6F3 59					    pop	    cx
seg000:E6F4 59					    pop	    cx
seg000:E6F5 B9 05 00				    mov	    cx,	5
seg000:E6F8
seg000:E6F8			    l0:					    ; CODE XREF: int_19+25j
seg000:E6F8 FB					    sti
seg000:E6F9 51					    push    cx
seg000:E6FA B4 00				    mov	    ah,	0
seg000:E6FC CD 13				    int	    13h		    ; DISK - RESET DISK	SYSTEM
seg000:E6FC								    ; DL = drive (if bit 7 is set both hard disks and floppy disks reset)
seg000:E6FE BB 00 7C				    mov	    bx,	7C00h
seg000:E701 B8 00 00				    mov	    ax,	0
seg000:E704 8E C0				    mov	    es,	ax
seg000:E706 B2 00				    mov	    dl,	0
seg000:E708 B6 00				    mov	    dh,	0
seg000:E70A B5 00				    mov	    ch,	0
seg000:E70C B1 01				    mov	    cl,	1
seg000:E70E B0 01				    mov	    al,	1
seg000:E710 B4 02				    mov	    ah,	2
seg000:E712 CD 13				    int	    13h		    ; DISK - READ SECTORS INTO MEMORY
seg000:E712								    ; AL = number of sectors to	read, CH = track, CL = sector
seg000:E712								    ; DH = head, DL = drive, ES:BX -> buffer to	fill
seg000:E712								    ; Return: CF set on	error, AH = status, AL = number	of sectors read
seg000:E714 59					    pop	    cx
seg000:E715 73 06				    jnb	    short l1
seg000:E717 E2 DF				    loop    l0
seg000:E719 CD 18				    int	    18h		    ; TRANSFER TO ROM BASIC
seg000:E719								    ; causes transfer to ROM-based BASIC (IBM-PC)
seg000:E719								    ; often reboots a compatible; often	has no effect at all
seg000:E71B EB D5				    jmp	    short int_19
seg000:E71D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E71D
seg000:E71D			    l1:					    ; CODE XREF: int_19+23j
seg000:E71D 2E FF 2E CF	E3			    jmp	    cs:value_7c00
seg000:E71D			    int_19	    endp
seg000:E71D
seg000:E71D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E722 00					    db	  0
seg000:E723 00					    db	  0
seg000:E724 00					    db	  0
seg000:E725 00					    db	  0
seg000:E726 00					    db	  0
seg000:E727 00					    db	  0
seg000:E728 00					    db	  0
seg000:E729 17 04		    word_FE729	    dw 417h		    ; DATA XREF: int_14+48r
seg000:E72B 00 03				    dw 300h
seg000:E72D 80 01				    dw 180h
seg000:E72F C0 00				    dw 0C0h
seg000:E731 60 00				    dw 60h
seg000:E733 30 00				    dw 30h
seg000:E735 18 00				    dw 18h
seg000:E737 0C 00				    dw 0Ch
seg000:E739
seg000:E739			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E739
seg000:E739
seg000:E739			    int_14	    proc far		    ; DATA XREF: seg000:FF0Bo
seg000:E739 E8 02 F2				    call    int_push_regs
seg000:E73C BF 08 00				    mov	    di,	8
seg000:E73F 90					    nop
seg000:E740 E8 15 F2				    call    check_valid_subfunction
seg000:E743 72 24				    jb	    short exit0
seg000:E745 8B DA				    mov	    bx,	dx
seg000:E747 33 C9				    xor	    cx,	cx
seg000:E749 8A 8F 7C 00				    mov	    cl,	[bx+p400.comm_0_timeout]
seg000:E74D D1 E3				    shl	    bx,	1
seg000:E74F 8B 97 00 00				    mov	    dx,	[bx+p400.comm_0_base_addr]
seg000:E753 0B D2				    or	    dx,	dx
seg000:E755 75 05				    jnz	    short l0
seg000:E757 32 E4				    xor	    ah,	ah
seg000:E759 E9 CE 00				    jmp	    exit1
seg000:E75C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E75C
seg000:E75C			    l0:					    ; CODE XREF: int_14+1Cj
seg000:E75C 2E FF A5 61	E7			    jmp	    word ptr cs:int_14_jump_tbl[di]
seg000:E75C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E761			    int_14_jump_tbl:			    ; DATA XREF: int_14:l0r
seg000:E761 6C E7				    dw offset int_14_00
seg000:E763 A0 E7				    dw offset int_14_01
seg000:E765 DC E7				    dw offset int_14_02
seg000:E767 22 E8				    dw offset int_14_03
seg000:E769			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E769
seg000:E769			    exit0:				    ; CODE XREF: int_14+Aj
seg000:E769 E9 BE 00				    jmp	    exit1
seg000:E76C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E76C
seg000:E76C			    int_14_00:				    ; CODE XREF: int_14:l0j
seg000:E76C								    ; DATA XREF: int_14:int_14_jump_tblo
seg000:E76C 8A E0				    mov	    ah,	al
seg000:E76E B0 80				    mov	    al,	80h ; '€'
seg000:E770 83 C2 03				    add	    dx,	3
seg000:E773 EE					    out	    dx,	al
seg000:E774 4A					    dec	    dx
seg000:E775 4A					    dec	    dx
seg000:E776 8A DC				    mov	    bl,	ah
seg000:E778 80 E3 E0				    and	    bl,	0E0h
seg000:E77B B1 04				    mov	    cl,	4
seg000:E77D D2 EB				    shr	    bl,	cl
seg000:E77F 32 FF				    xor	    bh,	bh
seg000:E781 2E 8B 8F 29	E7			    mov	    cx,	cs:word_FE729[bx]
seg000:E786 8A C5				    mov	    al,	ch
seg000:E788 EE					    out	    dx,	al
seg000:E789 8A C1				    mov	    al,	cl
seg000:E78B 4A					    dec	    dx
seg000:E78C EE					    out	    dx,	al
seg000:E78D 8A C4				    mov	    al,	ah
seg000:E78F 24 1F				    and	    al,	1Fh
seg000:E791 83 C2 03				    add	    dx,	3
seg000:E794 EE					    out	    dx,	al
seg000:E795 83 EA 03				    sub	    dx,	3
seg000:E798 42					    inc	    dx
seg000:E799 32 C0				    xor	    al,	al
seg000:E79B EE					    out	    dx,	al
seg000:E79C 4A					    dec	    dx
seg000:E79D E9 82 00				    jmp	    int_14_03
seg000:E7A0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E7A0
seg000:E7A0			    int_14_01:				    ; CODE XREF: int_14:l0j
seg000:E7A0								    ; DATA XREF: int_14+2Ao
seg000:E7A0 8A E0				    mov	    ah,	al
seg000:E7A2 B0 03				    mov	    al,	3
seg000:E7A4 83 C2 04				    add	    dx,	4
seg000:E7A7 EE					    out	    dx,	al
seg000:E7A8 42					    inc	    dx
seg000:E7A9 42					    inc	    dx
seg000:E7AA 33 DB				    xor	    bx,	bx
seg000:E7AC
seg000:E7AC			    l1:					    ; CODE XREF: int_14+94j
seg000:E7AC								    ; int_14+96j
seg000:E7AC EC					    in	    al,	dx
seg000:E7AD A8 30				    test    al,	30h
seg000:E7AF 74 1B				    jz	    short l4
seg000:E7B1 33 DB				    xor	    bx,	bx
seg000:E7B3 4A					    dec	    dx
seg000:E7B4
seg000:E7B4			    l2:					    ; CODE XREF: int_14+81j
seg000:E7B4								    ; int_14+83j
seg000:E7B4 EC					    in	    al,	dx
seg000:E7B5 A8 20				    test    al,	20h
seg000:E7B7 75 07				    jnz	    short l3
seg000:E7B9 4B					    dec	    bx
seg000:E7BA 75 F8				    jnz	    short l2
seg000:E7BC E2 F6				    loop    l2
seg000:E7BE EB 12				    jmp	    short l5
seg000:E7C0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E7C0
seg000:E7C0			    l3:					    ; CODE XREF: int_14+7Ej
seg000:E7C0 83 EA 05				    sub	    dx,	5
seg000:E7C3 8A C4				    mov	    al,	ah
seg000:E7C5 EE					    out	    dx,	al
seg000:E7C6 86 E0				    xchg    ah,	al
seg000:E7C8 32 E4				    xor	    ah,	ah
seg000:E7CA EB 5E				    jmp	    short exit1
seg000:E7CC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E7CC
seg000:E7CC			    l4:					    ; CODE XREF: int_14+76j
seg000:E7CC 4B					    dec	    bx
seg000:E7CD 75 DD				    jnz	    short l1
seg000:E7CF E2 DB				    loop    l1
seg000:E7D1 4A					    dec	    dx
seg000:E7D2
seg000:E7D2			    l5:					    ; CODE XREF: int_14+85j
seg000:E7D2 EC					    in	    al,	dx
seg000:E7D3 0C 80				    or	    al,	80h
seg000:E7D5 86 E0				    xchg    ah,	al
seg000:E7D7 80 E4 9E				    and	    ah,	9Eh
seg000:E7DA EB 4E				    jmp	    short exit1
seg000:E7DC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E7DC
seg000:E7DC			    int_14_02:				    ; CODE XREF: int_14:l0j
seg000:E7DC								    ; DATA XREF: int_14+2Co
seg000:E7DC B0 01				    mov	    al,	1
seg000:E7DE 83 C2 04				    add	    dx,	4
seg000:E7E1 EE					    out	    dx,	al
seg000:E7E2 83 EA 04				    sub	    dx,	4
seg000:E7E5 33 DB				    xor	    bx,	bx
seg000:E7E7
seg000:E7E7			    l6:					    ; CODE XREF: int_14+BAj
seg000:E7E7								    ; int_14+BCj
seg000:E7E7 83 C2 06				    add	    dx,	6
seg000:E7EA EC					    in	    al,	dx
seg000:E7EB 83 EA 06				    sub	    dx,	6
seg000:E7EE A8 20				    test    al,	20h
seg000:E7F0 75 07				    jnz	    short l7
seg000:E7F2 4B					    dec	    bx
seg000:E7F3 75 F2				    jnz	    short l6
seg000:E7F5 E2 F0				    loop    l6
seg000:E7F7 EB 1A				    jmp	    short l10
seg000:E7F9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E7F9
seg000:E7F9			    l7:					    ; CODE XREF: int_14+B7j
seg000:E7F9 33 DB				    xor	    bx,	bx
seg000:E7FB
seg000:E7FB			    l8:					    ; CODE XREF: int_14+D6j
seg000:E7FB								    ; int_14+D8j
seg000:E7FB 83 C2 05				    add	    dx,	5
seg000:E7FE EC					    in	    al,	dx
seg000:E7FF 83 EA 05				    sub	    dx,	5
seg000:E802 A8 01				    test    al,	1
seg000:E804 74 08				    jz	    short l9
seg000:E806 8A E0				    mov	    ah,	al
seg000:E808 80 E4 1E				    and	    ah,	1Eh
seg000:E80B EC					    in	    al,	dx
seg000:E80C EB 1C				    jmp	    short exit1
seg000:E80E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E80E
seg000:E80E			    l9:					    ; CODE XREF: int_14+CBj
seg000:E80E 4B					    dec	    bx
seg000:E80F 75 EA				    jnz	    short l8
seg000:E811 E2 E8				    loop    l8
seg000:E813
seg000:E813			    l10:				    ; CODE XREF: int_14+BEj
seg000:E813 32 E4				    xor	    ah,	ah
seg000:E815 83 C2 05				    add	    dx,	5
seg000:E818 EC					    in	    al,	dx
seg000:E819 0C 80				    or	    al,	80h
seg000:E81B 86 E0				    xchg    ah,	al
seg000:E81D 80 CC 9E				    or	    ah,	9Eh
seg000:E820 EB 08				    jmp	    short exit1
seg000:E822			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E822
seg000:E822			    int_14_03:				    ; CODE XREF: int_14:l0j
seg000:E822								    ; int_14+64j
seg000:E822								    ; DATA XREF: int_14+2Eo
seg000:E822 83 C2 05				    add	    dx,	5
seg000:E825 EC					    in	    al,	dx
seg000:E826 8A E0				    mov	    ah,	al
seg000:E828 42					    inc	    dx
seg000:E829 EC					    in	    al,	dx
seg000:E82A
seg000:E82A			    exit1:				    ; CODE XREF: int_14+20j
seg000:E82A								    ; int_14:exit0j
seg000:E82A								    ; int_14+91j
seg000:E82A								    ; int_14+A1j
seg000:E82A								    ; int_14+D3j
seg000:E82A								    ; int_14+E7j
seg000:E82A E9 22 F1				    jmp	    near ptr int_pop_regs_and_exit
seg000:E82A			    int_14	    endp
seg000:E82A
seg000:E82A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E82D 00					    db	  0
seg000:E82E
seg000:E82E			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:E82E
seg000:E82E
seg000:E82E			    int_16	    proc far		    ; DATA XREF: seg000:FF0Fo
seg000:E82E FB					    sti
seg000:E82F 53					    push    bx
seg000:E830 51					    push    cx
seg000:E831 56					    push    si
seg000:E832 57					    push    di
seg000:E833 1E					    push    ds
seg000:E834 9C					    pushf
seg000:E835 BF 06 00				    mov	    di,	6
seg000:E838 90					    nop
seg000:E839 E8 1C F1				    call    check_valid_subfunction
seg000:E83C 72 0B				    jb	    short error
seg000:E83E 2E FF A5 43	E8			    jmp	    word ptr cs:int_16_jmp_tbl[di]
seg000:E83E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E843			    int_16_jmp_tbl:			    ; DATA XREF: int_16+10r
seg000:E843 4C E8				    dw offset int_16_00
seg000:E845 74 E8				    dw offset int_16_01
seg000:E847 90 E8				    dw offset int_16_02
seg000:E849			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E849
seg000:E849			    error:				    ; CODE XREF: int_16+Ej
seg000:E849 EB 48				    jmp	    short exit
seg000:E849			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E84B 90					    db	90h ; 
seg000:E84C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E84C
seg000:E84C			    int_16_00:				    ; CODE XREF: int_16+10j
seg000:E84C								    ; int_16+44j
seg000:E84C								    ; DATA XREF: int_16:int_16_jmp_tblo
seg000:E84C FA					    cli
seg000:E84D 8B 36 1A 00				    mov	    si,	ds:1Ah
seg000:E851 3B 36 1C 00				    cmp	    si,	ds:1Ch
seg000:E855 74 15				    jz	    short loc_FE86C
seg000:E857 8B 04				    mov	    ax,	[si]
seg000:E859 46					    inc	    si
seg000:E85A 46					    inc	    si
seg000:E85B 3B 36 82 00				    cmp	    si,	ds:82h
seg000:E85F 72 04				    jb	    short loc_FE865
seg000:E861 8B 36 80 00				    mov	    si,	ds:80h
seg000:E865
seg000:E865			    loc_FE865:				    ; CODE XREF: int_16+31j
seg000:E865 89 36 1A 00				    mov	    ds:1Ah, si
seg000:E869 FB					    sti
seg000:E86A EB 27				    jmp	    short exit
seg000:E86C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E86C
seg000:E86C			    loc_FE86C:				    ; CODE XREF: int_16+27j
seg000:E86C FB					    sti
seg000:E86D B9 19 00				    mov	    cx,	19h
seg000:E870
seg000:E870			    loc_FE870:				    ; CODE XREF: int_16:loc_FE870j
seg000:E870 E2 FE				    loop    loc_FE870
seg000:E872 EB D8				    jmp	    short int_16_00
seg000:E874			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E874
seg000:E874			    int_16_01:				    ; CODE XREF: int_16+10j
seg000:E874								    ; DATA XREF: int_16+17o
seg000:E874 9D					    popf
seg000:E875 33 DB				    xor	    bx,	bx
seg000:E877 FA					    cli
seg000:E878 8B 36 1A 00				    mov	    si,	ds:1Ah
seg000:E87C 3B 36 1C 00				    cmp	    si,	ds:1Ch
seg000:E880 FB					    sti
seg000:E881 74 08				    jz	    short loc_FE88B
seg000:E883 8B 04				    mov	    ax,	[si]
seg000:E885 83 FB 01				    cmp	    bx,	1
seg000:E888 EB 04				    jmp	    short loc_FE88E
seg000:E888			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E88A 90					    db	90h ; 
seg000:E88B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E88B
seg000:E88B			    loc_FE88B:				    ; CODE XREF: int_16+53j
seg000:E88B 83 FB 00				    cmp	    bx,	0
seg000:E88E
seg000:E88E			    loc_FE88E:				    ; CODE XREF: int_16+5Aj
seg000:E88E EB 04				    jmp	    short loc_FE894
seg000:E890			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E890
seg000:E890			    int_16_02:				    ; CODE XREF: int_16+10j
seg000:E890								    ; DATA XREF: int_16+19o
seg000:E890 A0 17 00				    mov	    al,	ds:17h
seg000:E893
seg000:E893			    exit:				    ; CODE XREF: int_16:errorj
seg000:E893								    ; int_16+3Cj
seg000:E893 9D					    popf
seg000:E894
seg000:E894			    loc_FE894:				    ; CODE XREF: int_16:loc_FE88Ej
seg000:E894 1F					    pop	    ds
seg000:E895 5F					    pop	    di
seg000:E896 5E					    pop	    si
seg000:E897 59					    pop	    cx
seg000:E898 5B					    pop	    bx
seg000:E899 CA 02 00				    retf    2
seg000:E899			    int_16	    endp
seg000:E899
seg000:E899			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E89C 00					    db	  0
seg000:E89D 00					    db	  0
seg000:E89E 00					    db	  0
seg000:E89F 00					    db	  0
seg000:E8A0 00					    db	  0
seg000:E8A1 00					    db	  0
seg000:E8A2 00					    db	  0
seg000:E8A3 00					    db	  0
seg000:E8A4 00					    db	  0
seg000:E8A5 00					    db	  0
seg000:E8A6 00					    db	  0
seg000:E8A7 00					    db	  0
seg000:E8A8 00					    db	  0
seg000:E8A9 00					    db	  0
seg000:E8AA 00					    db	  0
seg000:E8AB 00					    db	  0
seg000:E8AC 00					    db	  0
seg000:E8AD 00					    db	  0
seg000:E8AE 00					    db	  0
seg000:E8AF 00					    db	  0
seg000:E8B0 00					    db	  0
seg000:E8B1 00					    db	  0
seg000:E8B2 00					    db	  0
seg000:E8B3 00					    db	  0
seg000:E8B4 00					    db	  0
seg000:E8B5 00					    db	  0
seg000:E8B6 00					    db	  0
seg000:E8B7 00					    db	  0
seg000:E8B8 00					    db	  0
seg000:E8B9 00					    db	  0
seg000:E8BA 00					    db	  0
seg000:E8BB 00					    db	  0
seg000:E8BC 00					    db	  0
seg000:E8BD 00					    db	  0
seg000:E8BE 00					    db	  0
seg000:E8BF 00					    db	  0
seg000:E8C0 00					    db	  0
seg000:E8C1 00					    db	  0
seg000:E8C2 00					    db	  0
seg000:E8C3 00					    db	  0
seg000:E8C4 00					    db	  0
seg000:E8C5 00					    db	  0
seg000:E8C6 00					    db	  0
seg000:E8C7 00					    db	  0
seg000:E8C8 00					    db	  0
seg000:E8C9 00					    db	  0
seg000:E8CA 00					    db	  0
seg000:E8CB 00					    db	  0
seg000:E8CC 00					    db	  0
seg000:E8CD 00					    db	  0
seg000:E8CE 00					    db	  0
seg000:E8CF 00					    db	  0
seg000:E8D0 00					    db	  0
seg000:E8D1 00					    db	  0
seg000:E8D2 00					    db	  0
seg000:E8D3 00					    db	  0
seg000:E8D4 00					    db	  0
seg000:E8D5 00					    db	  0
seg000:E8D6 00					    db	  0
seg000:E8D7 00					    db	  0
seg000:E8D8 00					    db	  0
seg000:E8D9 00					    db	  0
seg000:E8DA 00					    db	  0
seg000:E8DB 00					    db	  0
seg000:E8DC 00					    db	  0
seg000:E8DD 00					    db	  0
seg000:E8DE 00					    db	  0
seg000:E8DF 00					    db	  0
seg000:E8E0 00					    db	  0
seg000:E8E1 00					    db	  0
seg000:E8E2 00					    db	  0
seg000:E8E3 00					    db	  0
seg000:E8E4 00					    db	  0
seg000:E8E5 00					    db	  0
seg000:E8E6 00					    db	  0
seg000:E8E7 00					    db	  0
seg000:E8E8 00					    db	  0
seg000:E8E9 00					    db	  0
seg000:E8EA 00					    db	  0
seg000:E8EB 00					    db	  0
seg000:E8EC 00					    db	  0
seg000:E8ED 00					    db	  0
seg000:E8EE 00					    db	  0
seg000:E8EF 00					    db	  0
seg000:E8F0 00					    db	  0
seg000:E8F1 00					    db	  0
seg000:E8F2 00					    db	  0
seg000:E8F3 00					    db	  0
seg000:E8F4 00					    db	  0
seg000:E8F5 00					    db	  0
seg000:E8F6 00					    db	  0
seg000:E8F7 00					    db	  0
seg000:E8F8 00					    db	  0
seg000:E8F9 00					    db	  0
seg000:E8FA 00					    db	  0
seg000:E8FB 00					    db	  0
seg000:E8FC 00					    db	  0
seg000:E8FD 00					    db	  0
seg000:E8FE 00					    db	  0
seg000:E8FF 00					    db	  0
seg000:E900 00					    db	  0
seg000:E901 00					    db	  0
seg000:E902 00					    db	  0
seg000:E903 00					    db	  0
seg000:E904 00					    db	  0
seg000:E905 00					    db	  0
seg000:E906 00					    db	  0
seg000:E907 00					    db	  0
seg000:E908 00					    db	  0
seg000:E909 00					    db	  0
seg000:E90A 00					    db	  0
seg000:E90B 00					    db	  0
seg000:E90C 00					    db	  0
seg000:E90D 00					    db	  0
seg000:E90E 00					    db	  0
seg000:E90F 00					    db	  0
seg000:E910 00					    db	  0
seg000:E911 00					    db	  0
seg000:E912 00					    db	  0
seg000:E913 00					    db	  0
seg000:E914 00					    db	  0
seg000:E915 00					    db	  0
seg000:E916 00					    db	  0
seg000:E917 00					    db	  0
seg000:E918 00					    db	  0
seg000:E919 00					    db	  0
seg000:E91A 00					    db	  0
seg000:E91B 00					    db	  0
seg000:E91C 00					    db	  0
seg000:E91D 00					    db	  0
seg000:E91E 00					    db	  0
seg000:E91F 00					    db	  0
seg000:E920 00					    db	  0
seg000:E921 00					    db	  0
seg000:E922 00					    db	  0
seg000:E923 00					    db	  0
seg000:E924 00					    db	  0
seg000:E925 00					    db	  0
seg000:E926 00					    db	  0
seg000:E927 00					    db	  0
seg000:E928 00					    db	  0
seg000:E929 00					    db	  0
seg000:E92A 00					    db	  0
seg000:E92B 00					    db	  0
seg000:E92C 00					    db	  0
seg000:E92D 00					    db	  0
seg000:E92E 00					    db	  0
seg000:E92F 00					    db	  0
seg000:E930 00					    db	  0
seg000:E931 00					    db	  0
seg000:E932 00					    db	  0
seg000:E933 00					    db	  0
seg000:E934 00					    db	  0
seg000:E935 00					    db	  0
seg000:E936 00					    db	  0
seg000:E937 00					    db	  0
seg000:E938 00					    db	  0
seg000:E939 00					    db	  0
seg000:E93A 00					    db	  0
seg000:E93B 00					    db	  0
seg000:E93C 00					    db	  0
seg000:E93D 00					    db	  0
seg000:E93E 00					    db	  0
seg000:E93F 00					    db	  0
seg000:E940 00					    db	  0
seg000:E941 00					    db	  0
seg000:E942 00					    db	  0
seg000:E943 00					    db	  0
seg000:E944 00					    db	  0
seg000:E945 00					    db	  0
seg000:E946 00					    db	  0
seg000:E947 00					    db	  0
seg000:E948 00					    db	  0
seg000:E949 00					    db	  0
seg000:E94A 00					    db	  0
seg000:E94B 00					    db	  0
seg000:E94C 00					    db	  0
seg000:E94D 00					    db	  0
seg000:E94E 00					    db	  0
seg000:E94F 00					    db	  0
seg000:E950 00					    db	  0
seg000:E951 00					    db	  0
seg000:E952 00					    db	  0
seg000:E953 00					    db	  0
seg000:E954 00					    db	  0
seg000:E955 00					    db	  0
seg000:E956 00					    db	  0
seg000:E957 00					    db	  0
seg000:E958 00					    db	  0
seg000:E959 00					    db	  0
seg000:E95A 00					    db	  0
seg000:E95B 00					    db	  0
seg000:E95C 00					    db	  0
seg000:E95D 00					    db	  0
seg000:E95E 00					    db	  0
seg000:E95F 00					    db	  0
seg000:E960 00					    db	  0
seg000:E961 00					    db	  0
seg000:E962 00					    db	  0
seg000:E963 00					    db	  0
seg000:E964 00					    db	  0
seg000:E965 00					    db	  0
seg000:E966 00					    db	  0
seg000:E967 00					    db	  0
seg000:E968 00					    db	  0
seg000:E969 00					    db	  0
seg000:E96A 00					    db	  0
seg000:E96B 00					    db	  0
seg000:E96C 00					    db	  0
seg000:E96D 00					    db	  0
seg000:E96E 00					    db	  0
seg000:E96F 00					    db	  0
seg000:E970 00					    db	  0
seg000:E971 00					    db	  0
seg000:E972 00					    db	  0
seg000:E973 00					    db	  0
seg000:E974 00					    db	  0
seg000:E975 00					    db	  0
seg000:E976 00					    db	  0
seg000:E977 00					    db	  0
seg000:E978 00					    db	  0
seg000:E979 00					    db	  0
seg000:E97A 00					    db	  0
seg000:E97B 00					    db	  0
seg000:E97C 00					    db	  0
seg000:E97D 00					    db	  0
seg000:E97E 00					    db	  0
seg000:E97F 00					    db	  0
seg000:E980 00					    db	  0
seg000:E981 00					    db	  0
seg000:E982 00					    db	  0
seg000:E983 00					    db	  0
seg000:E984 00					    db	  0
seg000:E985 00					    db	  0
seg000:E986 00					    db	  0
seg000:E987			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E987
seg000:E987			    int_09:				    ; DATA XREF: seg000:FEF5o
seg000:E987 E8 B4 EF				    call    int_push_regs
seg000:E98A 50					    push    ax
seg000:E98B B8 40 00				    mov	    ax,	40h ; '@'
seg000:E98E 8E D8				    mov	    ds,	ax
seg000:E990 8A 2E 17 00				    mov	    ch,	ds:p400.keyb_status_flags_1
seg000:E994 8A 0E 18 00				    mov	    cl,	ds:p400.keyb_status_flags_2
seg000:E998 BA 60 00				    mov	    dx,	60h ; '`'
seg000:E99B EC					    in	    al,	dx	    ; AT Keyboard controller 8042.
seg000:E99C 3C FF				    cmp	    al,	0FFh
seg000:E99E 75 06				    jnz	    short loc_FE9A6
seg000:E9A0 E8 BC F1				    call    sub_FDB5F
seg000:E9A3 E9 52 01				    jmp	    loc_FEAF8
seg000:E9A6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9A6
seg000:E9A6			    loc_FE9A6:				    ; CODE XREF: seg000:E99Ej
seg000:E9A6 8A E0				    mov	    ah,	al
seg000:E9A8 24 7F				    and	    al,	7Fh ; ''
seg000:E9AA 3C 1D				    cmp	    al,	1Dh	    ; ctrl?
seg000:E9AC 75 03				    jnz	    short loc_FE9B1
seg000:E9AE E9 70 01				    jmp	    loc_FEB21
seg000:E9B1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9B1
seg000:E9B1			    loc_FE9B1:				    ; CODE XREF: seg000:E9ACj
seg000:E9B1 3C 2A				    cmp	    al,	2Ah ; '*'   ; left shift?
seg000:E9B3 75 03				    jnz	    short loc_FE9B8
seg000:E9B5 E9 7B 01				    jmp	    loc_FEB33
seg000:E9B8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9B8
seg000:E9B8			    loc_FE9B8:				    ; CODE XREF: seg000:E9B3j
seg000:E9B8 3C 36				    cmp	    al,	36h ; '6'   ; right shift?
seg000:E9BA 75 03				    jnz	    short loc_FE9BF
seg000:E9BC E9 83 01				    jmp	    loc_FEB42
seg000:E9BF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9BF
seg000:E9BF			    loc_FE9BF:				    ; CODE XREF: seg000:E9BAj
seg000:E9BF 3C 38				    cmp	    al,	38h ; '8'   ; alt?
seg000:E9C1 75 03				    jnz	    short loc_FE9C6
seg000:E9C3 E9 8B 01				    jmp	    loc_FEB51
seg000:E9C6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9C6
seg000:E9C6			    loc_FE9C6:				    ; CODE XREF: seg000:E9C1j
seg000:E9C6 3C 3A				    cmp	    al,	3Ah ; ':'
seg000:E9C8 75 03				    jnz	    short loc_FE9CD
seg000:E9CA E9 AA 01				    jmp	    loc_FEB77
seg000:E9CD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9CD
seg000:E9CD			    loc_FE9CD:				    ; CODE XREF: seg000:E9C8j
seg000:E9CD 3C 45				    cmp	    al,	45h ; 'E'   ; num lock?
seg000:E9CF 75 03				    jnz	    short loc_FE9D4
seg000:E9D1 E9 CA 01				    jmp	    loc_FEB9E
seg000:E9D4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9D4
seg000:E9D4			    loc_FE9D4:				    ; CODE XREF: seg000:E9CFj
seg000:E9D4 3C 46				    cmp	    al,	46h ; 'F'   ; hold?
seg000:E9D6 75 03				    jnz	    short loc_FE9DB
seg000:E9D8 E9 ED 01				    jmp	    loc_FEBC8
seg000:E9DB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9DB
seg000:E9DB			    loc_FE9DB:				    ; CODE XREF: seg000:E9D6j
seg000:E9DB 3C 55				    cmp	    al,	55h ; 'U'   ; insert?
seg000:E9DD 75 04				    jnz	    short loc_FE9E3
seg000:E9DF 8A C4				    mov	    al,	ah
seg000:E9E1 EB 1D				    jmp	    short loc_FEA00
seg000:E9E3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9E3
seg000:E9E3			    loc_FE9E3:				    ; CODE XREF: seg000:E9DDj
seg000:E9E3 8A C4				    mov	    al,	ah
seg000:E9E5 F6 C1 08				    test    cl,	8
seg000:E9E8 74 16				    jz	    short loc_FEA00
seg000:E9EA 3C 9D				    cmp	    al,	9Dh ; ''   ; break code: ctrl?
seg000:E9EC 75 05				    jnz	    short loc_FE9F3
seg000:E9EE 80 E5 FB				    and	    ch,	11111011b   ; mask off ctrl bit	from status
seg000:E9F1 EB 07				    jmp	    short loc_FE9FA
seg000:E9F3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:E9F3
seg000:E9F3			    loc_FE9F3:				    ; CODE XREF: seg000:E9ECj
seg000:E9F3 3C 00				    cmp	    al,	0
seg000:E9F5 7C 03				    jl	    short loc_FE9FA
seg000:E9F7 80 E1 08				    and	    cl,	8
seg000:E9FA
seg000:E9FA			    loc_FE9FA:				    ; CODE XREF: seg000:E9F1j
seg000:E9FA								    ; seg000:E9F5j
seg000:E9FA E8 F6 03				    call    sub_FEDF3
seg000:E9FD E9 15 01				    jmp	    loc_FEB15
seg000:EA00			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA00
seg000:EA00			    loc_FEA00:				    ; CODE XREF: seg000:E9E1j
seg000:EA00								    ; seg000:E9E8j
seg000:EA00 3C D5				    cmp	    al,	0D5h ; 'Õ'  ; break code: insert?
seg000:EA02 75 03				    jnz	    short loc_FEA07
seg000:EA04 E9 13 02				    jmp	    loc_FEC1A
seg000:EA07			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA07
seg000:EA07			    loc_FEA07:				    ; CODE XREF: seg000:EA02j
seg000:EA07 3C 00				    cmp	    al,	0
seg000:EA09 7D 03				    jge	    short loc_FEA0E
seg000:EA0B E9 EA 00				    jmp	    loc_FEAF8
seg000:EA0E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA0E
seg000:EA0E			    loc_FEA0E:				    ; CODE XREF: seg000:EA09j
seg000:EA0E 3C 47				    cmp	    al,	47h ; 'G'
seg000:EA10 7C 03				    jl	    short loc_FEA15
seg000:EA12 E9 1D 02				    jmp	    loc_FEC32
seg000:EA15			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA15
seg000:EA15			    loc_FEA15:				    ; CODE XREF: seg000:EA10j
seg000:EA15 C6 06 19 00	00			    mov	    byte ptr ds:p400.alt_keypad_entry, 0
seg000:EA1A 3C 37				    cmp	    al,	37h ; '7'
seg000:EA1C 75 08				    jnz	    short loc_FEA26
seg000:EA1E F6 C5 03				    test    ch,	3
seg000:EA21 74 03				    jz	    short loc_FEA26
seg000:EA23 E9 77 03				    jmp	    loc_FED9D
seg000:EA26			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA26
seg000:EA26			    loc_FEA26:				    ; CODE XREF: seg000:EA1Cj
seg000:EA26								    ; seg000:EA21j
seg000:EA26 8D 1E 05 EE				    lea	    bx,	byte_FEE05
seg000:EA2A F6 C5 40				    test    ch,	40h
seg000:EA2D 74 1C				    jz	    short loc_FEA4B
seg000:EA2F 3C 10				    cmp	    al,	10h
seg000:EA31 7C 18				    jl	    short loc_FEA4B
seg000:EA33 3C 1A				    cmp	    al,	1Ah
seg000:EA35 7C 10				    jl	    short loc_FEA47
seg000:EA37 3C 1E				    cmp	    al,	1Eh
seg000:EA39 7C 10				    jl	    short loc_FEA4B
seg000:EA3B 3C 27				    cmp	    al,	27h ; '''
seg000:EA3D 7C 08				    jl	    short loc_FEA47
seg000:EA3F 3C 2C				    cmp	    al,	2Ch ; ','
seg000:EA41 7C 08				    jl	    short loc_FEA4B
seg000:EA43 3C 33				    cmp	    al,	33h ; '3'
seg000:EA45 7D 04				    jge	    short loc_FEA4B
seg000:EA47
seg000:EA47			    loc_FEA47:				    ; CODE XREF: seg000:EA35j
seg000:EA47								    ; seg000:EA3Dj
seg000:EA47 8D 1E 4B EE				    lea	    bx,	byte_FEE4B
seg000:EA4B
seg000:EA4B			    loc_FEA4B:				    ; CODE XREF: seg000:EA2Dj
seg000:EA4B								    ; seg000:EA31j
seg000:EA4B								    ; seg000:EA39j
seg000:EA4B								    ; seg000:EA41j
seg000:EA4B								    ; seg000:EA45j
seg000:EA4B F6 C5 03				    test    ch,	3
seg000:EA4E 74 10				    jz	    short loc_FEA60
seg000:EA50 81 FB 4B EE				    cmp	    bx,	offset byte_FEE4B
seg000:EA54 75 06				    jnz	    short loc_FEA5C
seg000:EA56 8D 1E 05 EE				    lea	    bx,	byte_FEE05
seg000:EA5A EB 04				    jmp	    short loc_FEA60
seg000:EA5C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA5C
seg000:EA5C			    loc_FEA5C:				    ; CODE XREF: seg000:EA54j
seg000:EA5C 8D 1E 4B EE				    lea	    bx,	byte_FEE4B
seg000:EA60
seg000:EA60			    loc_FEA60:				    ; CODE XREF: seg000:EA4Ej
seg000:EA60								    ; seg000:EA5Aj
seg000:EA60 F6 C5 08				    test    ch,	8
seg000:EA63 74 06				    jz	    short loc_FEA6B
seg000:EA65 8D 1E D7 EE				    lea	    bx,	byte_FEED7
seg000:EA69 EB 09				    jmp	    short loc_FEA74
seg000:EA6B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA6B
seg000:EA6B			    loc_FEA6B:				    ; CODE XREF: seg000:EA63j
seg000:EA6B F6 C5 04				    test    ch,	4
seg000:EA6E 74 04				    jz	    short loc_FEA74
seg000:EA70 8D 1E 91 EE				    lea	    bx,	byte_FEE91
seg000:EA74
seg000:EA74			    loc_FEA74:				    ; CODE XREF: seg000:EA69j
seg000:EA74								    ; seg000:EA6Ej
seg000:EA74 E8 70 03				    call    sub_FEDE7
seg000:EA77 3C FF				    cmp	    al,	0FFh
seg000:EA79 75 03				    jnz	    short loc_FEA7E
seg000:EA7B EB 7B				    jmp	    short loc_FEAF8
seg000:EA7B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA7D 90					    db	90h ; 
seg000:EA7E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EA7E
seg000:EA7E			    loc_FEA7E:				    ; CODE XREF: seg000:EA79j
seg000:EA7E 80 FC 29				    cmp	    ah,	29h ; ')'
seg000:EA81 74 60				    jz	    short loc_FEAE3
seg000:EA83 80 FC 2B				    cmp	    ah,	2Bh ; '+'
seg000:EA86 74 5B				    jz	    short loc_FEAE3
seg000:EA88 80 FC 3A				    cmp	    ah,	3Ah ; ':'
seg000:EA8B 7F 56				    jg	    short loc_FEAE3
seg000:EA8D F6 C5 04				    test    ch,	4
seg000:EA90 74 37				    jz	    short loc_FEAC9
seg000:EA92 80 FC 01				    cmp	    ah,	1
seg000:EA95 74 50				    jz	    short loc_FEAE7
seg000:EA97 80 FC 07				    cmp	    ah,	7
seg000:EA9A 74 4B				    jz	    short loc_FEAE7
seg000:EA9C 80 FC 0B				    cmp	    ah,	0Bh
seg000:EA9F 76 42				    jbe	    short loc_FEAE3
seg000:EAA1 80 FC 0D				    cmp	    ah,	0Dh
seg000:EAA4 74 3D				    jz	    short loc_FEAE3
seg000:EAA6 80 FC 0F				    cmp	    ah,	0Fh
seg000:EAA9 74 38				    jz	    short loc_FEAE3
seg000:EAAB 80 FC 27				    cmp	    ah,	27h ; '''
seg000:EAAE 74 33				    jz	    short loc_FEAE3
seg000:EAB0 80 FC 28				    cmp	    ah,	28h ; '('
seg000:EAB3 74 2E				    jz	    short loc_FEAE3
seg000:EAB5 80 FC 33				    cmp	    ah,	33h ; '3'
seg000:EAB8 74 29				    jz	    short loc_FEAE3
seg000:EABA 80 FC 34				    cmp	    ah,	34h ; '4'
seg000:EABD 74 24				    jz	    short loc_FEAE3
seg000:EABF 80 FC 35				    cmp	    ah,	35h ; '5'
seg000:EAC2 74 1F				    jz	    short loc_FEAE3
seg000:EAC4 80 FC 37				    cmp	    ah,	37h ; '7'
seg000:EAC7 74 1A				    jz	    short loc_FEAE3
seg000:EAC9
seg000:EAC9			    loc_FEAC9:				    ; CODE XREF: seg000:EA90j
seg000:EAC9 F6 C5 08				    test    ch,	8
seg000:EACC 74 07				    jz	    short loc_FEAD5
seg000:EACE 80 FC 39				    cmp	    ah,	39h ; '9'
seg000:EAD1 74 14				    jz	    short loc_FEAE7
seg000:EAD3 EB 0E				    jmp	    short loc_FEAE3
seg000:EAD5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EAD5
seg000:EAD5			    loc_FEAD5:				    ; CODE XREF: seg000:EACCj
seg000:EAD5 80 FC 0F				    cmp	    ah,	0Fh
seg000:EAD8 75 04				    jnz	    short loc_FEADE
seg000:EADA 3C 0F				    cmp	    al,	0Fh
seg000:EADC 74 05				    jz	    short loc_FEAE3
seg000:EADE
seg000:EADE			    loc_FEADE:				    ; CODE XREF: seg000:EAD8j
seg000:EADE F6 C5 08				    test    ch,	8
seg000:EAE1 74 04				    jz	    short loc_FEAE7
seg000:EAE3
seg000:EAE3			    loc_FEAE3:				    ; CODE XREF: seg000:EA81j
seg000:EAE3								    ; seg000:EA86j
seg000:EAE3								    ; seg000:EA8Bj
seg000:EAE3								    ; seg000:EA9Fj
seg000:EAE3								    ; seg000:EAA4j
seg000:EAE3								    ; seg000:EAA9j ...
seg000:EAE3 8A E0				    mov	    ah,	al
seg000:EAE5 32 C0				    xor	    al,	al
seg000:EAE7
seg000:EAE7			    loc_FEAE7:				    ; CODE XREF: seg000:EA95j
seg000:EAE7								    ; seg000:EA9Aj
seg000:EAE7								    ; seg000:EAD1j
seg000:EAE7								    ; seg000:EAE1j
seg000:EAE7								    ; seg000:EB72j
seg000:EAE7								    ; seg000:loc_FED3Ej
seg000:EAE7 BB B0 00				    mov	    bx,	0B0h ; '°'
seg000:EAEA 8B 17				    mov	    dx,	[bx]
seg000:EAEC 0B 57 02				    or	    dx,	[bx+2]
seg000:EAEF 74 04				    jz	    short loc_FEAF5
seg000:EAF1 FF 1F				    call    dword ptr [bx]
seg000:EAF3 72 03				    jb	    short loc_FEAF8
seg000:EAF5
seg000:EAF5			    loc_FEAF5:				    ; CODE XREF: seg000:EAEFj
seg000:EAF5 E8 B2 02				    call    sub_FEDAA
seg000:EAF8
seg000:EAF8			    loc_FEAF8:				    ; CODE XREF: seg000:E9A3j
seg000:EAF8								    ; seg000:EA0Bj
seg000:EAF8								    ; seg000:EA7Bj
seg000:EAF8								    ; seg000:EAF3j
seg000:EAF8								    ; seg000:EB2Cj
seg000:EAF8								    ; seg000:EB31j ...
seg000:EAF8 E8 F8 02				    call    sub_FEDF3
seg000:EAFB F6 C1 08				    test    cl,	8
seg000:EAFE 74 15				    jz	    short loc_FEB15
seg000:EB00 88 2E 17 00				    mov	    ds:p400.keyb_status_flags_1, ch
seg000:EB04 88 0E 18 00				    mov	    ds:p400.keyb_status_flags_2, cl
seg000:EB08
seg000:EB08			    loc_FEB08:				    ; CODE XREF: seg000:EB10j
seg000:EB08 F6 06 18 00	08			    test    byte ptr ds:p400.keyb_status_flags_2, 8
seg000:EB0D 74 03				    jz	    short loc_FEB12
seg000:EB0F FB					    sti
seg000:EB10 EB F6				    jmp	    short loc_FEB08
seg000:EB12			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB12
seg000:EB12			    loc_FEB12:				    ; CODE XREF: seg000:EB0Dj
seg000:EB12 FA					    cli
seg000:EB13 EB 08				    jmp	    short loc_FEB1D
seg000:EB15			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB15
seg000:EB15			    loc_FEB15:				    ; CODE XREF: seg000:E9FDj
seg000:EB15								    ; seg000:EAFEj
seg000:EB15 88 2E 17 00				    mov	    ds:p400.keyb_status_flags_1, ch
seg000:EB19 88 0E 18 00				    mov	    ds:p400.keyb_status_flags_2, cl
seg000:EB1D
seg000:EB1D			    loc_FEB1D:				    ; CODE XREF: seg000:EB13j
seg000:EB1D								    ; seg000:loc_FEDA7j
seg000:EB1D 58					    pop	    ax
seg000:EB1E E9 2E EE				    jmp	    near ptr int_pop_regs_and_exit
seg000:EB21			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB21
seg000:EB21			    loc_FEB21:				    ; CODE XREF: seg000:E9AEj
seg000:EB21 80 FC 1D				    cmp	    ah,	1Dh	    ; ctrl?
seg000:EB24 75 08				    jnz	    short loc_FEB2E
seg000:EB26 80 CD 04				    or	    ch,	100b	    ; turn on ctrl bit in status
seg000:EB29 80 E5 FC				    and	    ch,	11111100b   ; turn off shift bits
seg000:EB2C EB CA				    jmp	    short loc_FEAF8
seg000:EB2E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB2E
seg000:EB2E			    loc_FEB2E:				    ; CODE XREF: seg000:EB24j
seg000:EB2E 80 E5 FB				    and	    ch,	11111011b   ; turn off ctrl bit	in status
seg000:EB31 EB C5				    jmp	    short loc_FEAF8
seg000:EB33			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB33
seg000:EB33			    loc_FEB33:				    ; CODE XREF: seg000:E9B5j
seg000:EB33 80 FC 2A				    cmp	    ah,	2Ah ; '*'   ; left shift?
seg000:EB36 75 05				    jnz	    short loc_FEB3D
seg000:EB38 80 CD 02				    or	    ch,	10b	    ; turn on left shift in status
seg000:EB3B EB BB				    jmp	    short loc_FEAF8
seg000:EB3D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB3D
seg000:EB3D			    loc_FEB3D:				    ; CODE XREF: seg000:EB36j
seg000:EB3D 80 E5 FD				    and	    ch,	11111101b   ; turn off left shift in status
seg000:EB40 EB B6				    jmp	    short loc_FEAF8
seg000:EB42			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB42
seg000:EB42			    loc_FEB42:				    ; CODE XREF: seg000:E9BCj
seg000:EB42 80 FC 36				    cmp	    ah,	36h ; '6'   ; right shift?
seg000:EB45 75 05				    jnz	    short loc_FEB4C
seg000:EB47 80 CD 01				    or	    ch,	1	    ; turn on right shift in status
seg000:EB4A EB AC				    jmp	    short loc_FEAF8
seg000:EB4C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB4C
seg000:EB4C			    loc_FEB4C:				    ; CODE XREF: seg000:EB45j
seg000:EB4C 80 E5 FE				    and	    ch,	11111110b   ; turn off right shift in status
seg000:EB4F EB A7				    jmp	    short loc_FEAF8
seg000:EB51			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB51
seg000:EB51			    loc_FEB51:				    ; CODE XREF: seg000:E9C3j
seg000:EB51 80 FC 38				    cmp	    ah,	38h ; '8'   ; alt?
seg000:EB54 75 0D				    jnz	    short loc_FEB63
seg000:EB56 80 CD 08				    or	    ch,	1000b	    ; turn on alt in status
seg000:EB59 C6 06 19 00	00			    mov	    byte ptr ds:p400.alt_keypad_entry, 0 ; reset previous alt+numpad value
seg000:EB5E 80 E5 FC				    and	    ch,	11111100b   ; turn off shift in	status
seg000:EB61 EB 95				    jmp	    short loc_FEAF8
seg000:EB63			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB63
seg000:EB63			    loc_FEB63:				    ; CODE XREF: seg000:EB54j
seg000:EB63 80 E5 F7				    and	    ch,	11110111b   ; turn off alt in status
seg000:EB66 80 3E 19 00	00			    cmp	    byte ptr ds:p400.alt_keypad_entry, 0 ; alt + numpad	with value?
seg000:EB6B 74 08				    jz	    short loc_FEB75
seg000:EB6D 33 C0				    xor	    ax,	ax
seg000:EB6F A0 19 00				    mov	    al,	ds:p400.alt_keypad_entry ; get previous	alt + numpad value
seg000:EB72 E9 72 FF				    jmp	    loc_FEAE7
seg000:EB75			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB75
seg000:EB75			    loc_FEB75:				    ; CODE XREF: seg000:EB6Bj
seg000:EB75 EB 81				    jmp	    short loc_FEAF8
seg000:EB77			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB77
seg000:EB77			    loc_FEB77:				    ; CODE XREF: seg000:E9CAj
seg000:EB77 80 FC 3A				    cmp	    ah,	3Ah ; ':'   ; caps?
seg000:EB7A 75 19				    jnz	    short loc_FEB95
seg000:EB7C F6 C1 40				    test    cl,	1000000b
seg000:EB7F 75 0B				    jnz	    short loc_FEB8C
seg000:EB81 80 C9 40				    or	    cl,	1000000b
seg000:EB84 F6 C5 40				    test    ch,	1000000b
seg000:EB87 75 06				    jnz	    short loc_FEB8F
seg000:EB89 80 CD 40				    or	    ch,	1000000b
seg000:EB8C
seg000:EB8C			    loc_FEB8C:				    ; CODE XREF: seg000:EB7Fj
seg000:EB8C								    ; seg000:EBDBj
seg000:EB8C E9 69 FF				    jmp	    loc_FEAF8
seg000:EB8F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB8F
seg000:EB8F			    loc_FEB8F:				    ; CODE XREF: seg000:EB87j
seg000:EB8F 80 E5 BF				    and	    ch,	0BFh
seg000:EB92 E9 63 FF				    jmp	    loc_FEAF8
seg000:EB95			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB95
seg000:EB95			    loc_FEB95:				    ; CODE XREF: seg000:EB7Aj
seg000:EB95 80 E5 BF				    and	    ch,	0BFh
seg000:EB98 80 E1 BF				    and	    cl,	0BFh
seg000:EB9B E9 5A FF				    jmp	    loc_FEAF8
seg000:EB9E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EB9E
seg000:EB9E			    loc_FEB9E:				    ; CODE XREF: seg000:E9D1j
seg000:EB9E 80 FC 45				    cmp	    ah,	45h ; 'E'   ; num lock?
seg000:EBA1 75 1C				    jnz	    short loc_FEBBF
seg000:EBA3 F6 C5 04				    test    ch,	100b
seg000:EBA6 74 03				    jz	    short loc_FEBAB
seg000:EBA8 E9 4D FF				    jmp	    loc_FEAF8
seg000:EBAB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBAB
seg000:EBAB			    loc_FEBAB:				    ; CODE XREF: seg000:EBA6j
seg000:EBAB 80 C9 20				    or	    cl,	100000b
seg000:EBAE F6 C5 20				    test    ch,	100000b
seg000:EBB1 75 06				    jnz	    short loc_FEBB9
seg000:EBB3 80 CD 20				    or	    ch,	100000b
seg000:EBB6 E9 3F FF				    jmp	    loc_FEAF8
seg000:EBB9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBB9
seg000:EBB9			    loc_FEBB9:				    ; CODE XREF: seg000:EBB1j
seg000:EBB9 80 E5 DF				    and	    ch,	11011111b
seg000:EBBC E9 39 FF				    jmp	    loc_FEAF8
seg000:EBBF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBBF
seg000:EBBF			    loc_FEBBF:				    ; CODE XREF: seg000:EBA1j
seg000:EBBF 80 E5 DF				    and	    ch,	11011111b
seg000:EBC2 80 E1 DF				    and	    cl,	11011111b
seg000:EBC5 E9 30 FF				    jmp	    loc_FEAF8
seg000:EBC8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBC8
seg000:EBC8			    loc_FEBC8:				    ; CODE XREF: seg000:E9D8j
seg000:EBC8 80 FC 46				    cmp	    ah,	46h ; 'F'   ; hold?
seg000:EBCB 75 44				    jnz	    short loc_FEC11
seg000:EBCD F6 C1 08				    test    cl,	1000b
seg000:EBD0 74 06				    jz	    short loc_FEBD8
seg000:EBD2 80 E1 F7				    and	    cl,	11110111b
seg000:EBD5 E9 20 FF				    jmp	    loc_FEAF8
seg000:EBD8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBD8
seg000:EBD8			    loc_FEBD8:				    ; CODE XREF: seg000:EBD0j
seg000:EBD8 F6 C1 10				    test    cl,	10000b
seg000:EBDB 75 AF				    jnz	    short loc_FEB8C
seg000:EBDD 80 C9 10				    or	    cl,	10000b
seg000:EBE0 F6 C5 10				    test    ch,	10000b
seg000:EBE3 75 26				    jnz	    short loc_FEC0B
seg000:EBE5 80 CD 10				    or	    ch,	10000b
seg000:EBE8 EB 06				    jmp	    short loc_FEBF0
seg000:EBE8			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBEA 90					    db	90h ; 
seg000:EBEB F6					    db 0F6h ; ö
seg000:EBEC C5					    db 0C5h ; Å
seg000:EBED 04					    db	  4
seg000:EBEE 74					    db	74h ; t
seg000:EBEF 06					    db	  6
seg000:EBF0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBF0
seg000:EBF0			    loc_FEBF0:				    ; CODE XREF: seg000:EBE8j
seg000:EBF0 80 C9 08				    or	    cl,	1000b
seg000:EBF3 E9 02 FF				    jmp	    loc_FEAF8
seg000:EBF3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EBF6 F6					    db 0F6h ; ö
seg000:EBF7 C5					    db 0C5h ; Å
seg000:EBF8 08					    db	  8
seg000:EBF9 74					    db	74h ; t
seg000:EBFA 02					    db	  2
seg000:EBFB EB					    db 0EBh ; ë
seg000:EBFC F3					    db 0F3h ; ó
seg000:EBFD F6					    db 0F6h ; ö
seg000:EBFE C5					    db 0C5h ; Å
seg000:EBFF 01					    db	  1
seg000:EC00 74					    db	74h ; t
seg000:EC01 02					    db	  2
seg000:EC02 EB					    db 0EBh ; ë
seg000:EC03 EC					    db 0ECh ; ì
seg000:EC04 F6					    db 0F6h ; ö
seg000:EC05 C5					    db 0C5h ; Å
seg000:EC06 02					    db	  2
seg000:EC07 74					    db	74h ; t
seg000:EC08 02					    db	  2
seg000:EC09 EB					    db 0EBh ; ë
seg000:EC0A E5					    db 0E5h ; å
seg000:EC0B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC0B
seg000:EC0B			    loc_FEC0B:				    ; CODE XREF: seg000:EBE3j
seg000:EC0B 80 E5 EF				    and	    ch,	11101111b
seg000:EC0E E9 E7 FE				    jmp	    loc_FEAF8
seg000:EC11			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC11
seg000:EC11			    loc_FEC11:				    ; CODE XREF: seg000:EBCBj
seg000:EC11 80 E1 EF				    and	    cl,	11101111b
seg000:EC14 80 E5 EF				    and	    ch,	11101111b
seg000:EC17 E9 DE FE				    jmp	    loc_FEAF8
seg000:EC1A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC1A
seg000:EC1A			    loc_FEC1A:				    ; CODE XREF: seg000:EA04j
seg000:EC1A F6 C5 20				    test    ch,	100000b
seg000:EC1D 75 0B				    jnz	    short loc_FEC2A
seg000:EC1F F6 C5 0F				    test    ch,	1111b
seg000:EC22 75 0B				    jnz	    short loc_FEC2F
seg000:EC24
seg000:EC24			    loc_FEC24:				    ; CODE XREF: seg000:EC2Dj
seg000:EC24 80 E1 7F				    and	    cl,	1111111b
seg000:EC27 E9 CE FE				    jmp	    loc_FEAF8
seg000:EC2A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC2A
seg000:EC2A			    loc_FEC2A:				    ; CODE XREF: seg000:EC1Dj
seg000:EC2A F6 C5 03				    test    ch,	3
seg000:EC2D 75 F5				    jnz	    short loc_FEC24
seg000:EC2F
seg000:EC2F			    loc_FEC2F:				    ; CODE XREF: seg000:EC22j
seg000:EC2F E9 C6 FE				    jmp	    loc_FEAF8
seg000:EC32			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC32
seg000:EC32			    loc_FEC32:				    ; CODE XREF: seg000:EA12j
seg000:EC32 F6 C5 04				    test    ch,	100b
seg000:EC35 74 1A				    jz	    short loc_FEC51
seg000:EC37 3C 54				    cmp	    al,	54h ; 'T'   ; break?
seg000:EC39 75 03				    jnz	    short loc_FEC3E
seg000:EC3B E9 3F 01				    jmp	    loc_FED7D
seg000:EC3E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC3E
seg000:EC3E			    loc_FEC3E:				    ; CODE XREF: seg000:EC39j
seg000:EC3E 3C 53				    cmp	    al,	53h ; 'S'   ; delete / - ?
seg000:EC40 75 08				    jnz	    short loc_FEC4A
seg000:EC42 F6 C5 08				    test    ch,	1000b
seg000:EC45 74 03				    jz	    short loc_FEC4A
seg000:EC47 E9 26 01				    jmp	    loc_FED70
seg000:EC4A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC4A
seg000:EC4A			    loc_FEC4A:				    ; CODE XREF: seg000:EC40j
seg000:EC4A								    ; seg000:EC45j
seg000:EC4A 8D 1E 4F EF				    lea	    bx,	byte_FEF4F
seg000:EC4E E9 C3 00				    jmp	    loc_FED14
seg000:EC51			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC51
seg000:EC51			    loc_FEC51:				    ; CODE XREF: seg000:EC35j
seg000:EC51 F6 C5 08				    test    ch,	1000b
seg000:EC54 74 7C				    jz	    short loc_FECD2
seg000:EC56 3C 53				    cmp	    al,	53h ; 'S'   ; delete / - ?
seg000:EC58 75 08				    jnz	    short loc_FEC62
seg000:EC5A F6 C5 04				    test    ch,	4
seg000:EC5D 74 03				    jz	    short loc_FEC62
seg000:EC5F E9 0E 01				    jmp	    loc_FED70
seg000:EC62			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EC62
seg000:EC62			    loc_FEC62:				    ; CODE XREF: seg000:EC58j
seg000:EC62								    ; seg000:EC5Dj
seg000:EC62 3C 4A				    cmp	    al,	4Ah ; 'J'   ; cursor down?
seg000:EC64 74 59				    jz	    short loc_FECBF
seg000:EC66 3C 4E				    cmp	    al,	4Eh ; 'N'   ; cursor right?
seg000:EC68 74 55				    jz	    short loc_FECBF
seg000:EC6A 3C 54				    cmp	    al,	54h ; 'T'   ; break ?
seg000:EC6C 74 33				    jz	    short loc_FECA1
seg000:EC6E 3C 53				    cmp	    al,	53h ; 'S'   ; delete / - ?
seg000:EC70 7D 4D				    jge	    short loc_FECBF
seg000:EC72 3C 4E				    cmp	    al,	4Eh ; 'N'   ; cursor right?
seg000:EC74 74 28				    jz	    short loc_FEC9E
seg000:EC76 8B D0				    mov	    dx,	ax
seg000:EC78 33 C0				    xor	    ax,	ax
seg000:EC7A A0 19 00				    mov	    al,	ds:p400.alt_keypad_entry
seg000:EC7D D1 E0				    shl	    ax,	1
seg000:EC7F 50					    push    ax
seg000:EC80 D1 E0				    shl	    ax,	1
seg000:EC82 D1 E0				    shl	    ax,	1
seg000:EC84 5B					    pop	    bx
seg000:EC85 03 C3				    add	    ax,	bx
seg000:EC87 50					    push    ax
seg000:EC88 8B C2				    mov	    ax,	dx
seg000:EC8A 8D 1E 1D EF				    lea	    bx,	byte_FEF1D
seg000:EC8E 2C 46				    sub	    al,	46h ; 'F'
seg000:EC90 E8 54 01				    call    sub_FEDE7
seg000:EC93 2C 30				    sub	    al,	30h ; '0'
seg000:EC95 32 E4				    xor	    ah,	ah
seg000:EC97 5A					    pop	    dx
seg000:EC98 03 D0				    add	    dx,	ax
seg000:EC9A 88 16 19 00				    mov	    ds:p400.alt_keypad_entry, dl
seg000:EC9E
seg000:EC9E			    loc_FEC9E:				    ; CODE XREF: seg000:EC74j
seg000:EC9E E9 57 FE				    jmp	    loc_FEAF8
seg000:ECA1			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECA1
seg000:ECA1			    loc_FECA1:				    ; CODE XREF: seg000:EC6Cj
seg000:ECA1 3C 54				    cmp	    al,	54h ; 'T'
seg000:ECA3 75 14				    jnz	    short loc_FECB9
seg000:ECA5 80 C9 10				    or	    cl,	10h
seg000:ECA8 F6 C5 10				    test    ch,	10h
seg000:ECAB 75 06				    jnz	    short loc_FECB3
seg000:ECAD 80 CD 10				    or	    ch,	10h
seg000:ECB0 E9 45 FE				    jmp	    loc_FEAF8
seg000:ECB3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECB3
seg000:ECB3			    loc_FECB3:				    ; CODE XREF: seg000:ECABj
seg000:ECB3 80 E5 EF				    and	    ch,	0EFh
seg000:ECB6 E9 3F FE				    jmp	    loc_FEAF8
seg000:ECB9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECB9
seg000:ECB9			    loc_FECB9:				    ; CODE XREF: seg000:ECA3j
seg000:ECB9 80 E1 EF				    and	    cl,	0EFh
seg000:ECBC E9 39 FE				    jmp	    loc_FEAF8
seg000:ECBF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECBF
seg000:ECBF			    loc_FECBF:				    ; CODE XREF: seg000:EC64j
seg000:ECBF								    ; seg000:EC68j
seg000:ECBF								    ; seg000:EC70j
seg000:ECBF 8D 1E 68 EF				    lea	    bx,	byte_FEF68
seg000:ECC3 2C 46				    sub	    al,	46h ; 'F'
seg000:ECC5 E8 1F 01				    call    sub_FEDE7
seg000:ECC8 3C FF				    cmp	    al,	0FFh
seg000:ECCA 75 03				    jnz	    short loc_FECCF
seg000:ECCC E9 29 FE				    jmp	    loc_FEAF8
seg000:ECCF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECCF
seg000:ECCF			    loc_FECCF:				    ; CODE XREF: seg000:ECCAj
seg000:ECCF E9 11 FE				    jmp	    loc_FEAE3
seg000:ECD2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECD2
seg000:ECD2			    loc_FECD2:				    ; CODE XREF: seg000:EC54j
seg000:ECD2 F6 C5 20				    test    ch,	20h
seg000:ECD5 75 34				    jnz	    short loc_FED0B
seg000:ECD7 3C 4A				    cmp	    al,	4Ah ; 'J'
seg000:ECD9 74 0A				    jz	    short loc_FECE5
seg000:ECDB 3C 4E				    cmp	    al,	4Eh ; 'N'
seg000:ECDD 74 06				    jz	    short loc_FECE5
seg000:ECDF 3C 58				    cmp	    al,	58h ; 'X'
seg000:ECE1 7D 02				    jge	    short loc_FECE5
seg000:ECE3 EB 07				    jmp	    short loc_FECEC
seg000:ECE5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECE5
seg000:ECE5			    loc_FECE5:				    ; CODE XREF: seg000:ECD9j
seg000:ECE5								    ; seg000:ECDDj
seg000:ECE5								    ; seg000:ECE1j
seg000:ECE5 F6 C5 03				    test    ch,	3
seg000:ECE8 75 07				    jnz	    short loc_FECF1
seg000:ECEA EB 24				    jmp	    short loc_FED10
seg000:ECEC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ECEC
seg000:ECEC			    loc_FECEC:				    ; CODE XREF: seg000:ECE3j
seg000:ECEC F6 C5 03				    test    ch,	3
seg000:ECEF 75 1F				    jnz	    short loc_FED10
seg000:ECF1
seg000:ECF1			    loc_FECF1:				    ; CODE XREF: seg000:ECE8j
seg000:ECF1								    ; seg000:ED0Ej
seg000:ECF1 8D 1E 36 EF				    lea	    bx,	byte_FEF36
seg000:ECF5 3C 52				    cmp	    al,	52h ; 'R'
seg000:ECF7 75 1B				    jnz	    short loc_FED14
seg000:ECF9 80 C9 80				    or	    cl,	80h
seg000:ECFC F6 C5 80				    test    ch,	80h
seg000:ECFF 75 05				    jnz	    short loc_FED06
seg000:ED01 80 CD 80				    or	    ch,	80h
seg000:ED04 EB 0E				    jmp	    short loc_FED14
seg000:ED06			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED06
seg000:ED06			    loc_FED06:				    ; CODE XREF: seg000:ECFFj
seg000:ED06 80 E5 7F				    and	    ch,	7Fh
seg000:ED09 EB 09				    jmp	    short loc_FED14
seg000:ED0B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED0B
seg000:ED0B			    loc_FED0B:				    ; CODE XREF: seg000:ECD5j
seg000:ED0B F6 C5 03				    test    ch,	3
seg000:ED0E 75 E1				    jnz	    short loc_FECF1
seg000:ED10
seg000:ED10			    loc_FED10:				    ; CODE XREF: seg000:ECEAj
seg000:ED10								    ; seg000:ECEFj
seg000:ED10 8D 1E 1D EF				    lea	    bx,	byte_FEF1D
seg000:ED14
seg000:ED14			    loc_FED14:				    ; CODE XREF: seg000:EC4Ej
seg000:ED14								    ; seg000:ECF7j
seg000:ED14								    ; seg000:ED04j
seg000:ED14								    ; seg000:ED09j
seg000:ED14 2C 46				    sub	    al,	46h ; 'F'
seg000:ED16 E8 CE 00				    call    sub_FEDE7
seg000:ED19 3C FF				    cmp	    al,	0FFh
seg000:ED1B 75 03				    jnz	    short loc_FED20
seg000:ED1D E9 D8 FD				    jmp	    loc_FEAF8
seg000:ED20			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED20
seg000:ED20			    loc_FED20:				    ; CODE XREF: seg000:ED1Bj
seg000:ED20 81 FB 1D EF				    cmp	    bx,	offset byte_FEF1D
seg000:ED24 75 1B				    jnz	    short loc_FED41
seg000:ED26 3C 50				    cmp	    al,	50h ; 'P'
seg000:ED28 74 43				    jz	    short loc_FED6D
seg000:ED2A 3C 4D				    cmp	    al,	4Dh ; 'M'
seg000:ED2C 74 3F				    jz	    short loc_FED6D
seg000:ED2E 3C 00				    cmp	    al,	0
seg000:ED30 74 3B				    jz	    short loc_FED6D
seg000:ED32 3C 47				    cmp	    al,	47h ; 'G'
seg000:ED34 74 37				    jz	    short loc_FED6D
seg000:ED36 3C 98				    cmp	    al,	98h ; '˜'
seg000:ED38 74 33				    jz	    short loc_FED6D
seg000:ED3A 3C 99				    cmp	    al,	99h ; '™'
seg000:ED3C 74 2F				    jz	    short loc_FED6D
seg000:ED3E
seg000:ED3E			    loc_FED3E:				    ; CODE XREF: seg000:ED43j
seg000:ED3E								    ; seg000:ED47j
seg000:ED3E								    ; seg000:ED4Bj
seg000:ED3E								    ; seg000:ED4Fj
seg000:ED3E								    ; seg000:ED53j
seg000:ED3E								    ; seg000:ED57j ...
seg000:ED3E E9 A6 FD				    jmp	    loc_FEAE7
seg000:ED41			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED41
seg000:ED41			    loc_FED41:				    ; CODE XREF: seg000:ED24j
seg000:ED41 3C 5C				    cmp	    al,	5Ch ; '\'
seg000:ED43 74 F9				    jz	    short loc_FED3E
seg000:ED45 3C 7C				    cmp	    al,	7Ch ; '|'
seg000:ED47 74 F5				    jz	    short loc_FED3E
seg000:ED49 3C 7E				    cmp	    al,	7Eh ; '~'
seg000:ED4B 74 F1				    jz	    short loc_FED3E
seg000:ED4D 3C 60				    cmp	    al,	60h ; '`'
seg000:ED4F 74 ED				    jz	    short loc_FED3E
seg000:ED51 3C 0D				    cmp	    al,	0Dh
seg000:ED53 74 E9				    jz	    short loc_FED3E
seg000:ED55 3C 5E				    cmp	    al,	5Eh ; '^'
seg000:ED57 74 E5				    jz	    short loc_FED3E
seg000:ED59 3C 3C				    cmp	    al,	3Ch ; '<'
seg000:ED5B 74 E1				    jz	    short loc_FED3E
seg000:ED5D 3C 23				    cmp	    al,	23h ; '#'
seg000:ED5F 74 DD				    jz	    short loc_FED3E
seg000:ED61 3C 7B				    cmp	    al,	7Bh ; '{'
seg000:ED63 74 D9				    jz	    short loc_FED3E
seg000:ED65 3C 7D				    cmp	    al,	7Dh ; '}'
seg000:ED67 74 D5				    jz	    short loc_FED3E
seg000:ED69 3C 0A				    cmp	    al,	0Ah
seg000:ED6B 74 D1				    jz	    short loc_FED3E
seg000:ED6D
seg000:ED6D			    loc_FED6D:				    ; CODE XREF: seg000:ED28j
seg000:ED6D								    ; seg000:ED2Cj
seg000:ED6D								    ; seg000:ED30j
seg000:ED6D								    ; seg000:ED34j
seg000:ED6D								    ; seg000:ED38j
seg000:ED6D								    ; seg000:ED3Cj
seg000:ED6D E9 73 FD				    jmp	    loc_FEAE3
seg000:ED70			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED70
seg000:ED70			    loc_FED70:				    ; CODE XREF: seg000:EC47j
seg000:ED70								    ; seg000:EC5Fj
seg000:ED70 BB 72 00				    mov	    bx,	p400.POST_reset_flag
seg000:ED73 C7 07 34 12				    mov	    word ptr [bx], 1234h
seg000:ED77 E8 79 00				    call    sub_FEDF3
seg000:ED7A E9 73 12				    jmp	    reset_entry
seg000:ED7D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED7D
seg000:ED7D			    loc_FED7D:				    ; CODE XREF: seg000:EC3Bj
seg000:ED7D A1 80 00				    mov	    ax,	ds:p400.keyb_buffer_start_offset_ptr
seg000:ED80 A3 1A 00				    mov	    ds:p400.keyb_buffer_head_ptr, ax
seg000:ED83 A3 1C 00				    mov	    ds:p400.keyb_buffer_tail_ptr, ax
seg000:ED86 1E					    push    ds
seg000:ED87 B8 40 00				    mov	    ax,	40h ; '@'
seg000:ED8A 8E D8				    mov	    ds,	ax
seg000:ED8C BB 71 00				    mov	    bx,	p400.ctrl_break_flag
seg000:ED8F C6 07 80				    mov	    byte ptr [bx], 80h ; '€'
seg000:ED92 1F					    pop	    ds
seg000:ED93 CD 1B				    int	    1Bh		    ; CTRL-BREAK KEY
seg000:ED95 33 C0				    xor	    ax,	ax
seg000:ED97 E8 10 00				    call    sub_FEDAA
seg000:ED9A E9 5B FD				    jmp	    loc_FEAF8
seg000:ED9D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:ED9D
seg000:ED9D			    loc_FED9D:				    ; CODE XREF: seg000:EA23j
seg000:ED9D E8 53 00				    call    sub_FEDF3
seg000:EDA0 E8 29 00				    call    sub_FEDCC
seg000:EDA3 72 02				    jb	    short loc_FEDA7
seg000:EDA5 CD 05				    int	    5		    ;  - PRINT-SCREEN KEY
seg000:EDA5								    ; automatically called by keyboard scanner when print-screen key is	pressed
seg000:EDA7
seg000:EDA7			    loc_FEDA7:				    ; CODE XREF: seg000:EDA3j
seg000:EDA7 E9 73 FD				    jmp	    loc_FEB1D
seg000:EDAA
seg000:EDAA			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EDAA
seg000:EDAA
seg000:EDAA			    sub_FEDAA	    proc near		    ; CODE XREF: seg000:loc_FEAF5p
seg000:EDAA								    ; seg000:ED97p
seg000:EDAA FA					    cli
seg000:EDAB E8 1E 00				    call    sub_FEDCC
seg000:EDAE 72 17				    jb	    short l1
seg000:EDB0 8B 36 1C 00				    mov	    si,	ds:p400.keyb_buffer_tail_ptr
seg000:EDB4 89 04				    mov	    [si], ax
seg000:EDB6 46					    inc	    si
seg000:EDB7 46					    inc	    si
seg000:EDB8 3B 36 82 00				    cmp	    si,	ds:p400.keyb_buffer_end_offset_ptr
seg000:EDBC 72 04				    jb	    short l0
seg000:EDBE 8B 36 80 00				    mov	    si,	ds:p400.keyb_buffer_start_offset_ptr
seg000:EDC2
seg000:EDC2			    l0:					    ; CODE XREF: sub_FEDAA+12j
seg000:EDC2 89 36 1C 00				    mov	    ds:p400.keyb_buffer_tail_ptr, si
seg000:EDC6 C3					    retn
seg000:EDC7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EDC7
seg000:EDC7			    l1:					    ; CODE XREF: sub_FEDAA+4j
seg000:EDC7 FB					    sti
seg000:EDC8 E8 94 ED				    call    sub_FDB5F
seg000:EDCB C3					    retn
seg000:EDCB			    sub_FEDAA	    endp
seg000:EDCB
seg000:EDCC
seg000:EDCC			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EDCC
seg000:EDCC
seg000:EDCC			    sub_FEDCC	    proc near		    ; CODE XREF: seg000:EDA0p
seg000:EDCC								    ; sub_FEDAA+1p
seg000:EDCC 8B 36 1C 00				    mov	    si,	ds:p400.keyb_buffer_tail_ptr
seg000:EDD0 46					    inc	    si
seg000:EDD1 46					    inc	    si
seg000:EDD2 3B 36 82 00				    cmp	    si,	ds:p400.keyb_buffer_end_offset_ptr
seg000:EDD6 72 04				    jb	    short loc_FEDDC
seg000:EDD8 8B 36 80 00				    mov	    si,	ds:p400.keyb_buffer_start_offset_ptr
seg000:EDDC
seg000:EDDC			    loc_FEDDC:				    ; CODE XREF: sub_FEDCC+Aj
seg000:EDDC 3B 36 1A 00				    cmp	    si,	ds:p400.keyb_buffer_head_ptr
seg000:EDE0 74 03				    jz	    short loc_FEDE5
seg000:EDE2 F8					    clc
seg000:EDE3 EB 01				    jmp	    short locret_FEDE6
seg000:EDE5			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EDE5
seg000:EDE5			    loc_FEDE5:				    ; CODE XREF: sub_FEDCC+14j
seg000:EDE5 F9					    stc
seg000:EDE6
seg000:EDE6			    locret_FEDE6:			    ; CODE XREF: sub_FEDCC+17j
seg000:EDE6 C3					    retn
seg000:EDE6			    sub_FEDCC	    endp
seg000:EDE6
seg000:EDE7
seg000:EDE7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EDE7
seg000:EDE7
seg000:EDE7			    sub_FEDE7	    proc near		    ; CODE XREF: seg000:loc_FEA74p
seg000:EDE7								    ; seg000:EC90p
seg000:EDE7								    ; seg000:ECC5p
seg000:EDE7								    ; seg000:ED16p
seg000:EDE7 1E					    push    ds
seg000:EDE8 50					    push    ax
seg000:EDE9 8C C8				    mov	    ax,	cs
seg000:EDEB 8E D8				    mov	    ds,	ax
seg000:EDED 58					    pop	    ax
seg000:EDEE FE C8				    dec	    al
seg000:EDF0 D7					    xlat
seg000:EDF1 1F					    pop	    ds
seg000:EDF2 C3					    retn
seg000:EDF2			    sub_FEDE7	    endp
seg000:EDF2
seg000:EDF3
seg000:EDF3			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EDF3
seg000:EDF3
seg000:EDF3			    sub_FEDF3	    proc near		    ; CODE XREF: seg000:loc_FE9FAp
seg000:EDF3								    ; seg000:loc_FEAF8p
seg000:EDF3								    ; seg000:ED77p
seg000:EDF3								    ; seg000:loc_FED9Dp
seg000:EDF3 FA					    cli
seg000:EDF4 BA 61 00				    mov	    dx,	61h ; 'a'
seg000:EDF7 EC					    in	    al,	dx	    ; PC/XT PPI	port B bits:
seg000:EDF7								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:EDF7								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:EDF7								    ; 3: 1=read	high switches
seg000:EDF7								    ; 4: 0=enable RAM parity checking
seg000:EDF7								    ; 5: 0=enable I/O channel check
seg000:EDF7								    ; 6: 0=hold	keyboard clock low
seg000:EDF7								    ; 7: 0=enable kbrd
seg000:EDF8 0C 80				    or	    al,	80h
seg000:EDFA EE					    out	    dx,	al	    ; PC/XT PPI	port B bits:
seg000:EDFA								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:EDFA								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:EDFA								    ; 3: 1=read	high switches
seg000:EDFA								    ; 4: 0=enable RAM parity checking
seg000:EDFA								    ; 5: 0=enable I/O channel check
seg000:EDFA								    ; 6: 0=hold	keyboard clock low
seg000:EDFA								    ; 7: 0=enable kbrd
seg000:EDFB 24 7F				    and	    al,	7Fh
seg000:EDFD EE					    out	    dx,	al	    ; PC/XT PPI	port B bits:
seg000:EDFD								    ; 0: Tmr 2 gate ÍËÍ OR 03H=spkr ON
seg000:EDFD								    ; 1: Tmr 2 data Í¼	AND 0fcH=spkr OFF
seg000:EDFD								    ; 3: 1=read	high switches
seg000:EDFD								    ; 4: 0=enable RAM parity checking
seg000:EDFD								    ; 5: 0=enable I/O channel check
seg000:EDFD								    ; 6: 0=hold	keyboard clock low
seg000:EDFD								    ; 7: 0=enable kbrd
seg000:EDFE B0 20				    mov	    al,	20h ; ' '
seg000:EE00 BA 20 00				    mov	    dx,	20h ; ' '
seg000:EE03 EE					    out	    dx,	al	    ; Interrupt	controller, 8259A.
seg000:EE04 C3					    retn
seg000:EE04			    sub_FEDF3	    endp
seg000:EE04
seg000:EE04			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EE05 1B 31 32 33	34 35 36 37+byte_FEE05	    db 1Bh, 31h, 32h, 33h, 34h,	35h, 36h, 37h, 38h, 39h, 30h
seg000:EE05 38 39 30 2D	3D 08 09 71+					    ; DATA XREF: seg000:loc_FEA26o
seg000:EE05 77 65 72 74	79 75 69 6F+					    ; seg000:EA56o
seg000:EE05 70 5B 5D 0D	FE 61 73 64+		    db 2Dh, 3Dh, 8, 9, 71h, 77h, 65h, 72h, 74h,	79h, 75h, 69h
seg000:EE05 66 67 68 6A	6B 6C 3B 27+		    db 6Fh, 70h, 5Bh, 5Dh, 0Dh,	0FEh, 61h, 73h,	64h, 66h, 67h
seg000:EE05 48 FE 4B 7A	78 63 76 62+		    db 68h, 6Ah, 6Bh, 6Ch, 3Bh,	27h, 48h, 0FEh,	4Bh, 7Ah, 78h
seg000:EE05 6E 6D 2C 2E	2F FE 10 FE+		    db 63h, 76h, 62h, 6Eh, 6Dh,	2Ch, 2Eh, 2Fh, 0FEh, 10h, 0FEh
seg000:EE05 20 FE 3B 3C	3D 3E 3F 40+		    db 20h, 0FEh, 3Bh, 3Ch, 3Dh, 3Eh, 3Fh, 40h,	41h, 42h, 43h
seg000:EE05 41 42 43 44	FE FE			    db 44h, 0FEh, 0FEh
seg000:EE4B 1B 21 40 23	24 25 5E 26+byte_FEE4B	    db 1Bh, 21h, 40h, 23h, 24h,	25h, 5Eh, 26h, 2Ah, 28h, 29h
seg000:EE4B 2A 28 29 5F	2B 08 0F 51+					    ; DATA XREF: seg000:loc_FEA47o
seg000:EE4B 57 45 52 54	59 55 49 4F+					    ; seg000:EA50o
seg000:EE4B 50 7B 7D 0D	FF 41 53 44+					    ; seg000:loc_FEA5Co
seg000:EE4B 46 47 48 4A	4B 4C 3A 22+		    db 5Fh, 2Bh, 8, 0Fh, 51h, 57h, 45h,	52h, 54h, 59h, 55h
seg000:EE4B 85 FF 87 5A	58 43 56 42+		    db 49h, 4Fh, 50h, 7Bh, 7Dh,	0Dh, 0FFh, 41h,	53h, 44h, 46h
seg000:EE4B 4E 4D 3C 3E	3F FF FE FF+		    db 47h, 48h, 4Ah, 4Bh, 4Ch,	3Ah, 22h, 85h, 0FFh, 87h, 5Ah
seg000:EE4B 20 FF 54 55	56 57 58 59+		    db 58h, 43h, 56h, 42h, 4Eh,	4Dh, 3Ch, 3Eh, 3Fh, 0FFh, 0FEh
seg000:EE4B 5A 5B 5C 5D	FF FE			    db 0FFh, 20h, 0FFh,	54h, 55h, 56h, 57h, 58h, 59h, 5Ah
seg000:EE4B					    db 5Bh, 5Ch, 5Dh, 0FFh, 0FEh
seg000:EE91 1B E1 03 E3	E4 E5 1E E7+byte_FEE91	    db 1Bh, 0E1h, 3, 0E3h, 0E4h, 0E5h, 1Eh, 0E7h, 0E8h,	0E9h
seg000:EE91 E8 E9 E0 1F	F5 7F 8D 11+					    ; DATA XREF: seg000:EA70o
seg000:EE91 17 05 12 14	19 15 09 0F+		    db 0E0h, 1Fh, 0F5h,	7Fh, 8Dh, 11h, 17h, 5, 12h, 14h, 19h
seg000:EE91 10 1B 1D 0A	FF 01 13 04+		    db 15h, 9, 0Fh, 10h, 1Bh, 1Dh, 0Ah,	0FFh, 1, 13h, 4, 6
seg000:EE91 06 07 08 0A	0B 0C F6 F7+		    db 7, 8, 0Ah, 0Bh, 0Ch, 0F6h, 0F7h,	90h, 0FFh, 73h,	1Ah
seg000:EE91 90 FF 73 1A	18 03 16 02+		    db 18h, 3, 16h, 2, 0Eh, 0Dh, 0F9h, 0FAh, 0FBh, 0FFh, 72h
seg000:EE91 0E 0D F9 FA	FB FF 72 FF+		    db 0FFh, 20h, 0FFh,	5Eh, 5Fh, 60h, 61h, 62h, 63h, 64h
seg000:EE91 20 FF 5E 5F	60 61 62 63+		    db 65h, 66h, 67h, 0FFh, 0FEh
seg000:EED7 8B 78 79 7A	7B 7C 7D 7E+byte_FEED7	    db 8Bh, 78h, 79h, 7Ah, 7Bh,	7Ch, 7Dh, 7Eh, 7Fh, 80h, 81h
seg000:EED7 7F 80 81 82	83 8C 8E 10+					    ; DATA XREF: seg000:EA65o
seg000:EED7 11 12 13 14	15 16 17 18+		    db 82h, 83h, 8Ch, 8Eh, 10h,	11h, 12h, 13h, 14h, 15h, 16h
seg000:EED7 19 EB F0 8F	FF 1E 1F 20+		    db 17h, 18h, 19h, 0EBh, 0F0h, 8Fh, 0FFh, 1Eh, 1Fh, 20h
seg000:EED7 21 22 23 24	25 26 F8 F1+		    db 21h, 22h, 23h, 24h, 25h,	26h, 0F8h, 0F1h, 91h, 0FFh
seg000:EED7 91 FF 92 2C	2D 2E 2F 30+		    db 92h, 2Ch, 2Dh, 2Eh, 2Fh,	30h, 31h, 32h, 89h, 8Ah, 0F2h
seg000:EED7 31 32 89 8A	F2 FF 46 FF+		    db 0FFh, 46h, 0FFh,	20h, 0FFh, 68h,	69h, 6Ah, 6Bh, 6Ch
seg000:EED7 20 FF 68 69	6A 6B 6C 6D+		    db 6Dh, 6Eh, 6Fh, 70h, 71h,	0FFh, 0FEh
seg000:EF1D 37 38 39 50	34 35 36 4D+byte_FEF1D	    db 37h, 38h, 39h, 50h, 34h,	35h, 36h, 4Dh, 31h, 32h, 33h
seg000:EF1D 31 32 33 30	2D 00 2B 2E+					    ; DATA XREF: seg000:EC8Ao
seg000:EF1D 0D 47 98 99	5E 3E 40 5B+					    ; seg000:loc_FED10o
seg000:EF1D 5D								    ; seg000:loc_FED20o
seg000:EF1D					    db 30h, 2Dh, 0, 2Bh, 2Eh, 0Dh, 47h,	98h, 99h, 5Eh, 3Eh
seg000:EF1D					    db 40h, 5Bh, 5Dh
seg000:EF36 5C 7E 49 86	7C F3 F4 88+byte_FEF36	    db 5Ch, 7Eh, 49h, 86h, 7Ch,	0F3h, 0F4h, 88h, 4Fh, 60h
seg000:EF36 4F 60 51 9B	53 00 52 A1+					    ; DATA XREF: seg000:loc_FECF1o
seg000:EF36 0D 4A A2 A3	5E 3C 23 7B+		    db 51h, 9Bh, 53h, 0, 52h, 0A1h, 0Dh, 4Ah, 0A2h, 0A3h, 5Eh
seg000:EF36 7D					    db 3Ch, 23h, 7Bh, 7Dh
seg000:EF4F 93 94 84 96	95 FC FD 74+byte_FEF4F	    db 93h, 94h, 84h, 96h, 95h,	0FCh, 0FDh, 74h, 75h, 9Ah
seg000:EF4F 75 9A 76 9C	9D 00 9F A4+					    ; DATA XREF: seg000:loc_FEC4Ao
seg000:EF4F 0A 77 AC AD	A7 A8 A9 AA+		    db 76h, 9Ch, 9Dh, 0, 9Fh, 0A4h, 0Ah, 77h, 0ACh, 0ADh, 0A7h
seg000:EF4F AB					    db 0A8h, 0A9h, 0AAh, 0ABh
seg000:EF68 FE FE FE 97	FE FE FE EA+byte_FEF68	    db 0FEh, 0FEh, 0FEh, 97h, 0FEh, 0FEh, 0FEh,	0EAh, 0FEh
seg000:EF68 FE FE FE FE	9E FE A0 A5+					    ; DATA XREF: seg000:loc_FECBFo
seg000:EF68 8F A6 B6 B7	AE AF 45 4C+		    db 0FEh, 0FEh, 0FEh, 9Eh, 0FEh, 0A0h, 0A5h,	8Fh, 0A6h
seg000:EF68 4E DE AD DE	AD DE AD DE+		    db 0B6h, 0B7h, 0AEh, 0AFh, 45h, 4Ch, 4Eh, 0DEh, 0ADh, 0DEh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh
seg000:EF68 AD DE AD DE	AD DE AD DE+		    db 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh, 0DEh, 0ADh
seg000:EF68 AD DE AD DE	AD DE AD		    db 0DEh, 0ADh, 0DEh, 0ADh
seg000:EFC7
seg000:EFC7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EFC7
seg000:EFC7
seg000:EFC7			    int_1e	    proc far		    ; DATA XREF: seg000:FF1Fo
seg000:EFC7 CF					    iret
seg000:EFC7			    int_1e	    endp
seg000:EFC7
seg000:EFC7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EFC8 02					    db	  2
seg000:EFC9 25					    db	25h ; %
seg000:EFCA 02					    db	  2
seg000:EFCB 09					    db	  9
seg000:EFCC 2A					    db	2Ah ; *
seg000:EFCD FF					    db 0FFh
seg000:EFCE 50					    db	50h ; P
seg000:EFCF F6					    db 0F6h ; ö
seg000:EFD0 19					    db	19h
seg000:EFD1 04					    db	  4
seg000:EFD2
seg000:EFD2			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:EFD2
seg000:EFD2
seg000:EFD2			    int_17	    proc far		    ; DATA XREF: seg000:FF11o
seg000:EFD2 E8 69 E9				    call    int_push_regs
seg000:EFD5 BF 06 00				    mov	    di,	6
seg000:EFD8 90					    nop
seg000:EFD9 E8 7C E9				    call    check_valid_subfunction
seg000:EFDC 72 1D				    jb	    short exit0
seg000:EFDE 8B DA				    mov	    bx,	dx
seg000:EFE0 33 C9				    xor	    cx,	cx
seg000:EFE2 8A 8F 78 00				    mov	    cl,	[bx+p400.lpt0_timeout]
seg000:EFE6 D1 E3				    shl	    bx,	1
seg000:EFE8 8B 97 08 00				    mov	    dx,	[bx+p400.lpt0_base_addr]
seg000:EFEC 0B D2				    or	    dx,	dx
seg000:EFEE 74 56				    jz	    short exit1
seg000:EFF0 2E FF A5 F5	EF			    jmp	    word ptr cs:int_17_jmp_tbl[di]
seg000:EFF0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EFF5			    int_17_jmp_tbl:			    ; DATA XREF: int_17+1Er
seg000:EFF5 FD EF				    dw offset int_17_00
seg000:EFF7 22 F0				    dw offset int_17_01
seg000:EFF9 38 F0				    dw offset int_17_02
seg000:EFFB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EFFB
seg000:EFFB			    exit0:				    ; CODE XREF: int_17+Aj
seg000:EFFB EB 49				    jmp	    short exit1
seg000:EFFD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:EFFD
seg000:EFFD			    int_17_00:				    ; CODE XREF: int_17+1Ej
seg000:EFFD								    ; DATA XREF: int_17:int_17_jmp_tblo
seg000:EFFD 8A E0				    mov	    ah,	al
seg000:EFFF 33 DB				    xor	    bx,	bx
seg000:F001 42					    inc	    dx
seg000:F002
seg000:F002			    l0:					    ; CODE XREF: int_17+46j
seg000:F002								    ; int_17+48j
seg000:F002 EC					    in	    al,	dx
seg000:F003 A8 80				    test    al,	80h
seg000:F005 74 10				    jz	    short l1
seg000:F007 8A C4				    mov	    al,	ah
seg000:F009 4A					    dec	    dx
seg000:F00A EE					    out	    dx,	al
seg000:F00B 42					    inc	    dx
seg000:F00C 42					    inc	    dx
seg000:F00D B0 0D				    mov	    al,	0Dh
seg000:F00F EE					    out	    dx,	al
seg000:F010 B0 0C				    mov	    al,	0Ch
seg000:F012 EE					    out	    dx,	al
seg000:F013 8A CC				    mov	    cl,	ah
seg000:F015 EB 1C				    jmp	    short l3
seg000:F017			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F017
seg000:F017			    l1:					    ; CODE XREF: int_17+33j
seg000:F017 4B					    dec	    bx
seg000:F018 75 E8				    jnz	    short l0
seg000:F01A E2 E6				    loop    l0
seg000:F01C B5 01				    mov	    ch,	1
seg000:F01E 8A CC				    mov	    cl,	ah
seg000:F020 EB 19				    jmp	    short l4
seg000:F022			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F022
seg000:F022			    int_17_01:				    ; CODE XREF: int_17+1Ej
seg000:F022								    ; DATA XREF: int_17+25o
seg000:F022 8A C8				    mov	    cl,	al
seg000:F024 42					    inc	    dx
seg000:F025 42					    inc	    dx
seg000:F026 B0 08				    mov	    al,	8
seg000:F028 EE					    out	    dx,	al
seg000:F029 51					    push    cx
seg000:F02A B9 32 00				    mov	    cx,	32h ; '2'
seg000:F02D
seg000:F02D			    l2:					    ; CODE XREF: int_17:l2j
seg000:F02D E2 FE				    loop    l2
seg000:F02F 59					    pop	    cx
seg000:F030 B0 0C				    mov	    al,	0Ch
seg000:F032 EE					    out	    dx,	al
seg000:F033
seg000:F033			    l3:					    ; CODE XREF: int_17+43j
seg000:F033 4A					    dec	    dx
seg000:F034 32 ED				    xor	    ch,	ch
seg000:F036 EB 03				    jmp	    short l4
seg000:F038			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F038
seg000:F038			    int_17_02:				    ; CODE XREF: int_17+1Ej
seg000:F038								    ; DATA XREF: int_17+27o
seg000:F038 8A C8				    mov	    cl,	al
seg000:F03A 42					    inc	    dx
seg000:F03B
seg000:F03B			    l4:					    ; CODE XREF: int_17+4Ej
seg000:F03B								    ; int_17+64j
seg000:F03B EC					    in	    al,	dx
seg000:F03C 24 F8				    and	    al,	0F8h
seg000:F03E 34 48				    xor	    al,	48h
seg000:F040 8A E0				    mov	    ah,	al
seg000:F042 0A E5				    or	    ah,	ch
seg000:F044 8A C1				    mov	    al,	cl
seg000:F046
seg000:F046			    exit1:				    ; CODE XREF: int_17+1Cj
seg000:F046								    ; int_17:exit0j
seg000:F046 E9 06 E9				    jmp	    near ptr int_pop_regs_and_exit
seg000:F046			    int_17	    endp
seg000:F046
seg000:F046			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F049 00 00 00 00	00 00 00 00+		    db 1Ch dup(0)
seg000:F065
seg000:F065			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F065
seg000:F065
seg000:F065			    int_10	    proc far		    ; DATA XREF: seg000:FF03o
seg000:F065 E8 D6 E8				    call    int_push_regs
seg000:F068 FC					    cld
seg000:F069 BF 22 00				    mov	    di,	22h ; '"'   ; max sub-functions / 2
seg000:F06C 90					    nop
seg000:F06D E8 E8 E8				    call    check_valid_subfunction
seg000:F070 72 27				    jb	    short error
seg000:F072 2E FF A5 77	F0			    jmp	    cs:int_10_jmp_tbl[di]
seg000:F072			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F077 20 F1		    int_10_jmp_tbl  dw offset int_10_00	    ; DATA XREF: int_10+Dr
seg000:F079 E6 F2				    dw offset int_10_01
seg000:F07B F4 F2				    dw offset int_10_02
seg000:F07D 35 F3				    dw offset int_10_03
seg000:F07F 52 F3				    dw offset int_10_04
seg000:F081 4A F4				    dw offset int_10_05
seg000:F083 DE F4				    dw offset int_10_06
seg000:F085 AD F5				    dw offset int_10_07
seg000:F087 BC F5				    dw offset int_10_08
seg000:F089 D7 F5				    dw offset int_10_09
seg000:F08B DB F5				    dw offset int_10_0a
seg000:F08D 17 F6				    dw offset int_10_0b
seg000:F08F AC F6				    dw offset int_10_0c
seg000:F091 22 F7				    dw offset int_10_0d
seg000:F093 62 F7				    dw offset int_10_0e
seg000:F095 01 F8				    dw offset int_10_0f
seg000:F097 15 F8				    dw offset int_10_10
seg000:F099			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F099
seg000:F099			    error:				    ; CODE XREF: int_10+Bj
seg000:F099 E9 B3 E8				    jmp	    near ptr int_pop_regs_and_exit
seg000:F099			    int_10	    endp
seg000:F099
seg000:F099			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F09C 00					    db	  0
seg000:F09D 00					    db	  0
seg000:F09E 00					    db	  0
seg000:F09F 00					    db	  0
seg000:F0A0 00					    db	  0
seg000:F0A1 00					    db	  0
seg000:F0A2 00					    db	  0
seg000:F0A3 00					    db	  0
seg000:F0A4 38			    video_param_table db  38h ;	8	    ; DATA XREF: seg000:E2F6o
seg000:F0A5 28					    db	28h ; (
seg000:F0A6 2C					    db	2Ch ; ,
seg000:F0A7 08					    db	  8
seg000:F0A8 1F					    db	1Fh
seg000:F0A9 06					    db	  6
seg000:F0AA 19					    db	19h
seg000:F0AB 1C					    db	1Ch
seg000:F0AC 02					    db	  2
seg000:F0AD 07					    db	  7
seg000:F0AE 06					    db	  6
seg000:F0AF 07					    db	  7
seg000:F0B0 00					    db	  0
seg000:F0B1 00					    db	  0
seg000:F0B2 00					    db	  0
seg000:F0B3 00					    db	  0
seg000:F0B4 71					    db	71h ; q
seg000:F0B5 50					    db	50h ; P
seg000:F0B6 58					    db	58h ; X
seg000:F0B7 10					    db	10h
seg000:F0B8 1F					    db	1Fh
seg000:F0B9 06					    db	  6
seg000:F0BA 19					    db	19h
seg000:F0BB 1C					    db	1Ch
seg000:F0BC 02					    db	  2
seg000:F0BD 07					    db	  7
seg000:F0BE 06					    db	  6
seg000:F0BF 07					    db	  7
seg000:F0C0 00					    db	  0
seg000:F0C1 00					    db	  0
seg000:F0C2 00					    db	  0
seg000:F0C3 00					    db	  0
seg000:F0C4 38					    db	38h ; 8
seg000:F0C5 28					    db	28h ; (
seg000:F0C6 2C					    db	2Ch ; ,
seg000:F0C7 08					    db	  8
seg000:F0C8 7F					    db	7Fh ; 
seg000:F0C9 06					    db	  6
seg000:F0CA 64					    db	64h ; d
seg000:F0CB 70					    db	70h ; p
seg000:F0CC 02					    db	  2
seg000:F0CD 01					    db	  1
seg000:F0CE 06					    db	  6
seg000:F0CF 07					    db	  7
seg000:F0D0 00					    db	  0
seg000:F0D1 00					    db	  0
seg000:F0D2 00					    db	  0
seg000:F0D3 00					    db	  0
seg000:F0D4 61					    db	61h ; a
seg000:F0D5 50					    db	50h ; P
seg000:F0D6 52					    db	52h ; R
seg000:F0D7 0F					    db	0Fh
seg000:F0D8 19					    db	19h
seg000:F0D9 06					    db	  6
seg000:F0DA 19					    db	19h
seg000:F0DB 19					    db	19h
seg000:F0DC 02					    db	  2
seg000:F0DD 0D					    db	0Dh
seg000:F0DE 0B					    db	0Bh
seg000:F0DF 0C					    db	0Ch
seg000:F0E0 00					    db	  0
seg000:F0E1 00					    db	  0
seg000:F0E2 00					    db	  0
seg000:F0E3 00					    db	  0
seg000:F0E4 71					    db	71h ; q
seg000:F0E5 50					    db	50h ; P
seg000:F0E6 58					    db	58h ; X
seg000:F0E7 10					    db	10h
seg000:F0E8 3F					    db	3Fh ; ?
seg000:F0E9 06					    db	  6
seg000:F0EA 32					    db	32h ; 2
seg000:F0EB 38					    db	38h ; 8
seg000:F0EC 02					    db	  2
seg000:F0ED 03					    db	  3
seg000:F0EE 06					    db	  6
seg000:F0EF 07					    db	  7
seg000:F0F0 00					    db	  0
seg000:F0F1 00					    db	  0
seg000:F0F2 00					    db	  0
seg000:F0F3 00					    db	  0
seg000:F0F4 00 2C 28 08		    video_init_vars video_init_some_vars <0, 101100b, 28h, 8>
seg000:F0F4								    ; DATA XREF: int_10_00+3Ar
seg000:F0F4								    ; int_10_00+3Fr
seg000:F0F4								    ; int_10_00+46r
seg000:F0F4								    ; int_10_00+50r
seg000:F0F4								    ; video mode 0
seg000:F0F8 00 28 28 08				    video_init_some_vars <0, 101000b, 28h, 8> ;	video mode 1
seg000:F0FC 10 2D 50 10				    video_init_some_vars <10h, 101101b,	50h, 10h> ; video mode 2
seg000:F100 10 29 50 10				    video_init_some_vars <10h, 101001b,	50h, 10h> ; video mode 3
seg000:F104 20 2A 28 40				    video_init_some_vars <20h, 101010b,	28h, 40h> ; video mode 4
seg000:F108 20 2E 28 40				    video_init_some_vars <20h, 101110b,	28h, 40h> ; video mode 5
seg000:F10C 20 1E 50 40				    video_init_some_vars <20h, 11110b, 50h, 40h> ; video mode 6
seg000:F110 30 29 50 40				    video_init_some_vars <30h, 101001b,	50h, 40h> ; video mode 7
seg000:F114 20 2A 14 40				    video_init_some_vars <20h, 101010b,	14h, 40h> ; video mode 8
seg000:F118 40 2B 28 80				    video_init_some_vars <40h, 101011b,	28h, 80h> ; video mode 9
seg000:F11C 40 3B 50 80				    video_init_some_vars <40h, 111011b,	50h, 80h> ; video mode a
seg000:F120
seg000:F120			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F120
seg000:F120			    ;	  Sets the video mode.
seg000:F120			    ;
seg000:F120			    ;	     On	entry:	    AH	       00h
seg000:F120			    ;			    AL	       Video mode
seg000:F120			    ;
seg000:F120			    ;	     Returns:	    None
seg000:F120			    ;
seg000:F120			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F120			    ;
seg000:F120			    ;	--------------------------------------------------------------------------
seg000:F120			    ;			       Table of	Video Modes
seg000:F120			    ;									  Buffer
seg000:F120			    ;	Mode	 Type	     Resolution	     Adapter(s)	     Colors	  Address
seg000:F120			    ;	00h	Text	      40 x 25	   All but MDA	     16	gray	   B8000
seg000:F120			    ;	01h	Text	      40 x 25	   All but MDA	 16 fore/8 back	   B8000
seg000:F120			    ;	02h	Text	      80 x 25	   All but MDA	     16	gray	   B8000
seg000:F120			    ;	03h	Text	      80 x 25	   All but MDA	 16 fore/8 back	   B8000
seg000:F120			    ;	04h   Graphics	     320 x 200	   All but MDA	       4	   B8000
seg000:F120			    ;	05h   Graphics	     320 x 200	   All but MDA	     4 gray	   B8000
seg000:F120			    ;	06h   Graphics	     640 x 200	   All but MDA	       2	   B8000
seg000:F120			    ;	07h	Text	      80 x 25	     MDA,EGA	      b/w	   B0000
seg000:F120			    ;	08h   Graphics	     160 x 200	      PCjr	      16	   B0000
seg000:F120			    ;	09h   Graphics	     320 x 200	      PCjr	      16	   B0000
seg000:F120			    ;	0Ah   Graphics	     640 x 200	      PCjr	       4	   B0000
seg000:F120			    ;	--------------------------------------------------------------------------
seg000:F120
seg000:F120			    int_10_00	    proc far		    ; CODE XREF: int_10+Dj
seg000:F120								    ; DATA XREF: int_10:int_10_jmp_tblo
seg000:F120 50					    push    ax
seg000:F121 24 7F				    and	    al,	7Fh
seg000:F123 8B 1E 10 00				    mov	    bx,	ds:p400.installed_hardware
seg000:F127 80 E3 30				    and	    bl,	110000b	    ; filters video bits
seg000:F12A 80 FB 30				    cmp	    bl,	110000b	    ; is 80x25 mono?
seg000:F12D 75 02				    jnz	    short not_mono  ; not mono
seg000:F12F B0 07				    mov	    al,	7	    ; if 80x25 mono, mode should be 7
seg000:F131
seg000:F131			    not_mono:				    ; CODE XREF: int_10_00+Dj
seg000:F131 3C 07				    cmp	    al,	7	    ; is mode 7?
seg000:F133 74 04				    jz	    short error	    ; yes, error
seg000:F135 3C 0A				    cmp	    al,	0Ah	    ; is mode 0xa or below?
seg000:F137 76 04				    jbe	    short ok	    ; yes, ok
seg000:F139
seg000:F139			    error:				    ; CODE XREF: int_10_00+13j
seg000:F139 58					    pop	    ax
seg000:F13A E9 12 E8				    jmp	    near ptr int_pop_regs_and_exit
seg000:F13D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F13D
seg000:F13D			    ok:					    ; CODE XREF: int_10_00+17j
seg000:F13D A2 49 00				    mov	    ds:p400.crt_mode, al ; update video	mode in	shadow var
seg000:F140 32 E4				    xor	    ah,	ah
seg000:F142 BA D4 03				    mov	    dx,	3D4h	    ; 6845 address register
seg000:F145 3C 07				    cmp	    al,	7	    ; is video mode 7? (impossible, since it was filtered out before)
seg000:F147 75 05				    jnz	    short skip	    ; no, jump to color
seg000:F149 B4 21				    mov	    ah,	21h ; '!'
seg000:F14B BA B4 03				    mov	    dx,	3B4h	    ; use MDA address
seg000:F14E
seg000:F14E			    skip:				    ; CODE XREF: int_10_00+27j
seg000:F14E 50					    push    ax
seg000:F14F 52					    push    dx
seg000:F150 32 E4				    xor	    ah,	ah
seg000:F152 D0 E0				    shl	    al,	1
seg000:F154 D0 E0				    shl	    al,	1	    ; al * 4 (video mode * 4)
seg000:F156 8B F0				    mov	    si,	ax
seg000:F158 33 DB				    xor	    bx,	bx
seg000:F15A 2E 8A 9C F4	F0			    mov	    bl,	byte ptr cs:video_init_vars.offset_to_6845_tbl[si]
seg000:F15F 2E 8A 8C F5	F0			    mov	    cl,	cs:video_init_vars.value_for_3d8[si]
seg000:F164 33 C0				    xor	    ax,	ax
seg000:F166 2E 8A 84 F6	F0			    mov	    al,	cs:video_init_vars.nr_columns[si]
seg000:F16B A3 4A 00				    mov	    ds:p400.crt_nr_cols, ax
seg000:F16E 33 C0				    xor	    ax,	ax
seg000:F170 2E 8A A4 F7	F0			    mov	    ah,	cs:video_init_vars.video_page_size_256[si]
seg000:F175 A3 4C 00				    mov	    ds:p400.crt_page_len, ax
seg000:F178 5A					    pop	    dx
seg000:F179 58					    pop	    ax
seg000:F17A 88 0E 65 00				    mov	    ds:p400.crt_mode_set, cl
seg000:F17E 89 16 63 00				    mov	    ds:p400.addr_6845, dx
seg000:F182 83 C2 04				    add	    dx,	4
seg000:F185 8A C4				    mov	    al,	ah
seg000:F187 EE					    out	    dx,	al
seg000:F188 33 C0				    xor	    ax,	ax
seg000:F18A 8E C0				    mov	    es,	ax	    ; es = 0
seg000:F18C 52					    push    dx
seg000:F18D B0 3F				    mov	    al,	3Fh ; '?'
seg000:F18F 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:F194 72 02				    jb	    short loc_FF198
seg000:F196 B0 F6				    mov	    al,	0F6h ; 'ö'
seg000:F198
seg000:F198			    loc_FF198:				    ; CODE XREF: int_10_00+74j
seg000:F198 BA DF 03				    mov	    dx,	3DFh
seg000:F19B EE					    out	    dx,	al
seg000:F19C A2 8A 00				    mov	    ds:p400.video_page_data, al
seg000:F19F BE 74 00				    mov	    si,	74h ; 't'   ; int 0x1d (video param table)
seg000:F1A2 26 8B 3C				    mov	    di,	es:[si]	    ; video param table	offset
seg000:F1A5 03 FB				    add	    di,	bx
seg000:F1A7 26 8B 44 02				    mov	    ax,	es:[si+2]   ; video param table	segment
seg000:F1AB 8E C0				    mov	    es,	ax	    ; es = segment for video param table
seg000:F1AD 32 FF				    xor	    bh,	bh
seg000:F1AF 33 C9				    xor	    cx,	cx
seg000:F1B1
seg000:F1B1			    loc_FF1B1:				    ; CODE XREF: int_10_00+A3j
seg000:F1B1 8B 16 63 00				    mov	    dx,	ds:p400.addr_6845
seg000:F1B5 8A C1				    mov	    al,	cl	    ; update CRT register
seg000:F1B7 EE					    out	    dx,	al
seg000:F1B8 42					    inc	    dx
seg000:F1B9 8A D9				    mov	    bl,	cl
seg000:F1BB 26 8A 01				    mov	    al,	es:[bx+di]
seg000:F1BE EE					    out	    dx,	al	    ; update CRT data
seg000:F1BF 41					    inc	    cx
seg000:F1C0 83 F9 10				    cmp	    cx,	10h
seg000:F1C3 7C EC				    jl	    short loc_FF1B1
seg000:F1C5 C7 06 60 00	07 06			    mov	    word ptr ds:p400.cursor_row_column,	607h
seg000:F1CB C7 06 4E 00	00 00			    mov	    word ptr ds:p400.crt_current_page_offset, 0
seg000:F1D1 C6 06 62 00	00			    mov	    byte ptr ds:p400.active_display_page, 0
seg000:F1D6 C6 06 66 00	30			    mov	    byte ptr ds:p400.shadow_3d9_crt_palette, 30h ; '0'
seg000:F1DB 5A					    pop	    dx
seg000:F1DC 58					    pop	    ax
seg000:F1DD 52					    push    dx
seg000:F1DE A8 80				    test    al,	80h	    ; clean screen?
seg000:F1E0 75 33				    jnz	    short skip_clean_screen ; no, skip cleaning	the screen
seg000:F1E2 B8 00 B8				    mov	    ax,	0B800h
seg000:F1E5 B9 00 20				    mov	    cx,	2000h	    ; 8k words (16k bytes) to clean by default
seg000:F1E8 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9 ; video is below 9?
seg000:F1ED 72 03				    jb	    short l0	    ; yes, keep	previous value
seg000:F1EF B9 00 40				    mov	    cx,	4000h	    ; 16k words	(32k bytes) for	videos 9 and a
seg000:F1F2
seg000:F1F2			    l0:					    ; CODE XREF: int_10_00+CDj
seg000:F1F2 BB 20 07				    mov	    bx,	720h	    ; for text modes, clean it with space and white attrib
seg000:F1F5 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7 ; video mode 7? (impossible)
seg000:F1FA 75 08				    jnz	    short l1	    ; no, jump
seg000:F1FC B8 00 B0				    mov	    ax,	0B000h	    ; use segment 0xb000 for mono
seg000:F1FF B9 00 08				    mov	    cx,	800h	    ; and only clean 2k	words (4k bytes)
seg000:F202 EB 09				    jmp	    short l2
seg000:F204			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F204
seg000:F204			    l1:					    ; CODE XREF: int_10_00+DAj
seg000:F204 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4 ; video mode 4?
seg000:F209 7C 02				    jl	    short l2	    ; less than	4, then	jump
seg000:F20B 33 DB				    xor	    bx,	bx	    ; for graphics mode, clean it with black screen (0x0000)
seg000:F20D
seg000:F20D			    l2:					    ; CODE XREF: int_10_00+E2j
seg000:F20D								    ; int_10_00+E9j
seg000:F20D 8E C0				    mov	    es,	ax	    ; update video segment
seg000:F20F 33 FF				    xor	    di,	di	    ; di: offset is 0
seg000:F211 8B C3				    mov	    ax,	bx	    ; value to store
seg000:F213 F3 AB				    rep	stosw		    ; clean screen
seg000:F215
seg000:F215			    skip_clean_screen:			    ; CODE XREF: int_10_00+C0j
seg000:F215 8C D8				    mov	    ax,	ds
seg000:F217 8E C0				    mov	    es,	ax	    ; es = ds
seg000:F219 33 C0				    xor	    ax,	ax
seg000:F21B 8D 3E 50 00				    lea	    di,	ds:p400.cursor_row_col_in_pages
seg000:F21F B9 08 00				    mov	    cx,	8	    ; 8	pages
seg000:F222 F3 AB				    rep	stosw		    ; clean col/row cursor values for all 8 pages
seg000:F224 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7
seg000:F229 74 1B				    jz	    short loc_FF246
seg000:F22B B0 30				    mov	    al,	30h ; '0'
seg000:F22D 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:F232 7C 0B				    jl	    short loc_FF23F
seg000:F234 B0 3F				    mov	    al,	3Fh ; '?'
seg000:F236 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F23B 75 02				    jnz	    short loc_FF23F
seg000:F23D B0 00				    mov	    al,	0
seg000:F23F
seg000:F23F			    loc_FF23F:				    ; CODE XREF: int_10_00+112j
seg000:F23F								    ; int_10_00+11Bj
seg000:F23F BA D9 03				    mov	    dx,	3D9h
seg000:F242 EE					    out	    dx,	al
seg000:F243 A2 66 00				    mov	    ds:p400.shadow_3d9_crt_palette, al
seg000:F246
seg000:F246			    loc_FF246:				    ; CODE XREF: int_10_00+109j
seg000:F246 B3 10				    mov	    bl,	10h
seg000:F248 B9 10 00				    mov	    cx,	10h
seg000:F24B BA DA 03				    mov	    dx,	3DAh
seg000:F24E 32 E4				    xor	    ah,	ah
seg000:F250
seg000:F250			    loc_FF250:				    ; CODE XREF: int_10_00+140j
seg000:F250 8A C3				    mov	    al,	bl
seg000:F252 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F252								    ; Feature Control outputs FC0 and FC1
seg000:F253 83 C2 04				    add	    dx,	4
seg000:F256 8A C4				    mov	    al,	ah
seg000:F258 EE					    out	    dx,	al
seg000:F259 FE C3				    inc	    bl
seg000:F25B FE C4				    inc	    ah
seg000:F25D 83 EA 04				    sub	    dx,	4
seg000:F260 E2 EE				    loop    loc_FF250
seg000:F262 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F267 75 24				    jnz	    short loc_FF28D
seg000:F269 B0 11				    mov	    al,	11h
seg000:F26B EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F26B								    ; Feature Control outputs FC0 and FC1
seg000:F26C B0 03				    mov	    al,	3
seg000:F26E 83 C2 04				    add	    dx,	4
seg000:F271 EE					    out	    dx,	al
seg000:F272 83 EA 04				    sub	    dx,	4
seg000:F275 B0 12				    mov	    al,	12h
seg000:F277 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F277								    ; Feature Control outputs FC0 and FC1
seg000:F278 B0 05				    mov	    al,	5
seg000:F27A 83 C2 04				    add	    dx,	4
seg000:F27D EE					    out	    dx,	al
seg000:F27E 83 EA 04				    sub	    dx,	4
seg000:F281 B0 13				    mov	    al,	13h
seg000:F283 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F283								    ; Feature Control outputs FC0 and FC1
seg000:F284 B0 0F				    mov	    al,	0Fh
seg000:F286 83 C2 04				    add	    dx,	4
seg000:F289 EE					    out	    dx,	al
seg000:F28A 83 EA 04				    sub	    dx,	4
seg000:F28D
seg000:F28D			    loc_FF28D:				    ; CODE XREF: int_10_00+147j
seg000:F28D B0 01				    mov	    al,	1
seg000:F28F EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F28F								    ; Feature Control outputs FC0 and FC1
seg000:F290 83 C2 04				    add	    dx,	4
seg000:F293 B0 0F				    mov	    al,	0Fh
seg000:F295 EE					    out	    dx,	al
seg000:F296 83 EA 04				    sub	    dx,	4
seg000:F299 B0 02				    mov	    al,	2
seg000:F29B EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F29B								    ; Feature Control outputs FC0 and FC1
seg000:F29C 83 C2 04				    add	    dx,	4
seg000:F29F 32 C0				    xor	    al,	al
seg000:F2A1 EE					    out	    dx,	al
seg000:F2A2 83 EA 04				    sub	    dx,	4
seg000:F2A5 B0 03				    mov	    al,	3
seg000:F2A7 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F2A7								    ; Feature Control outputs FC0 and FC1
seg000:F2A8 83 C2 04				    add	    dx,	4
seg000:F2AB B0 00				    mov	    al,	0
seg000:F2AD 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:F2B2 7E 0E				    jle	    short loc_FF2C2
seg000:F2B4 B0 04				    mov	    al,	4
seg000:F2B6 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:F2BB 75 05				    jnz	    short loc_FF2C2
seg000:F2BD B0 14				    mov	    al,	14h
seg000:F2BF EB 16				    jmp	    short loc_FF2D7
seg000:F2BF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F2C1 90					    db	90h ; 
seg000:F2C2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F2C2
seg000:F2C2			    loc_FF2C2:				    ; CODE XREF: int_10_00+192j
seg000:F2C2								    ; int_10_00+19Bj
seg000:F2C2 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:F2C7 75 05				    jnz	    short loc_FF2CE
seg000:F2C9 B0 14				    mov	    al,	14h
seg000:F2CB EB 0A				    jmp	    short loc_FF2D7
seg000:F2CB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F2CD 90					    db	90h ; 
seg000:F2CE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F2CE
seg000:F2CE			    loc_FF2CE:				    ; CODE XREF: int_10_00+1A7j
seg000:F2CE 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F2D3 75 02				    jnz	    short loc_FF2D7
seg000:F2D5 B0 0C				    mov	    al,	0Ch
seg000:F2D7
seg000:F2D7			    loc_FF2D7:				    ; CODE XREF: int_10_00+19Fj
seg000:F2D7								    ; int_10_00+1ABj
seg000:F2D7								    ; int_10_00+1B3j
seg000:F2D7 EE					    out	    dx,	al
seg000:F2D8 BA DA 03				    mov	    dx,	3DAh
seg000:F2DB 32 C0				    xor	    al,	al
seg000:F2DD EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F2DD								    ; Feature Control outputs FC0 and FC1
seg000:F2DE 5A					    pop	    dx
seg000:F2DF A0 65 00				    mov	    al,	ds:p400.crt_mode_set
seg000:F2E2 EE					    out	    dx,	al
seg000:F2E3 E9 69 E6				    jmp	    near ptr int_pop_regs_and_exit
seg000:F2E3			    int_10_00	    endp
seg000:F2E3
seg000:F2E6
seg000:F2E6			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F2E6
seg000:F2E6			    ;	  Adjusts the size of the cursor by setting its	start and end lines.
seg000:F2E6			    ;
seg000:F2E6			    ;	     On	entry:	    AH	       01h
seg000:F2E6			    ;			    CH	       Cursor start line (bits 4 to 0)
seg000:F2E6			    ;			    CL	       Cursor end line	 (bits 4 to 0)
seg000:F2E6			    ;
seg000:F2E6			    ;	     Returns:	    None
seg000:F2E6			    ;
seg000:F2E6			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F2E6			    ;
seg000:F2E6
seg000:F2E6			    int_10_01	    proc far		    ; CODE XREF: int_10+Dj
seg000:F2E6								    ; DATA XREF: int_10+14o
seg000:F2E6 B7 0A				    mov	    bh,	0Ah
seg000:F2E8 B3 0B				    mov	    bl,	0Bh
seg000:F2EA E8 3E 06				    call    sub_FF92B
seg000:F2ED 89 0E 60 00				    mov	    ds:p400.cursor_row_column, cx
seg000:F2F1 E9 5B E6				    jmp	    near ptr int_pop_regs_and_exit
seg000:F2F1			    int_10_01	    endp
seg000:F2F1
seg000:F2F4
seg000:F2F4			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F2F4
seg000:F2F4			    ;	  Sets the cursor position (row	and column) for	a specified display
seg000:F2F4			    ;	  page.
seg000:F2F4			    ;
seg000:F2F4			    ;	     On	entry:	    AH	       02h
seg000:F2F4			    ;			    BH	       Display page number
seg000:F2F4			    ;			    DH	       Row
seg000:F2F4			    ;			    DL	       Column
seg000:F2F4			    ;
seg000:F2F4			    ;	     Returns:	    None
seg000:F2F4			    ;
seg000:F2F4			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F2F4			    ;
seg000:F2F4
seg000:F2F4			    int_10_02	    proc far		    ; CODE XREF: int_10+Dj
seg000:F2F4								    ; DATA XREF: int_10+16o
seg000:F2F4 E8 03 00				    call    sub_FF2FA
seg000:F2F7 E9 55 E6				    jmp	    near ptr int_pop_regs_and_exit
seg000:F2F7			    int_10_02	    endp
seg000:F2F7
seg000:F2FA
seg000:F2FA			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F2FA
seg000:F2FA
seg000:F2FA			    sub_FF2FA	    proc near		    ; CODE XREF: int_10_02p
seg000:F2FA								    ; int_10_0e+8Ap
seg000:F2FA								    ; int_10_0e+99p
seg000:F2FA 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:F2FF 7C 02				    jl	    short loc_FF303
seg000:F301 32 FF				    xor	    bh,	bh
seg000:F303
seg000:F303			    loc_FF303:				    ; CODE XREF: sub_FF2FA+5j
seg000:F303 8D 3E 50 00				    lea	    di,	ds:p400.cursor_row_col_in_pages
seg000:F307 53					    push    bx
seg000:F308 8A DF				    mov	    bl,	bh
seg000:F30A 32 FF				    xor	    bh,	bh
seg000:F30C D1 E3				    shl	    bx,	1
seg000:F30E 89 11				    mov	    [bx+di], dx
seg000:F310 5B					    pop	    bx
seg000:F311 38 3E 62 00				    cmp	    ds:p400.active_display_page, bh
seg000:F315 75 03				    jnz	    short locret_FF31A
seg000:F317 E8 01 00				    call    sub_FF31B
seg000:F31A
seg000:F31A			    locret_FF31A:			    ; CODE XREF: sub_FF2FA+1Bj
seg000:F31A C3					    retn
seg000:F31A			    sub_FF2FA	    endp
seg000:F31A
seg000:F31B
seg000:F31B			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F31B
seg000:F31B
seg000:F31B			    sub_FF31B	    proc near		    ; CODE XREF: sub_FF2FA+1Dp
seg000:F31B								    ; int_10_05+31p
seg000:F31B 8A C6				    mov	    al,	dh
seg000:F31D F6 26 4A 00				    mul	    byte ptr ds:p400.crt_nr_cols
seg000:F321 32 F6				    xor	    dh,	dh
seg000:F323 03 C2				    add	    ax,	dx
seg000:F325 8B C8				    mov	    cx,	ax
seg000:F327 A1 4E 00				    mov	    ax,	ds:p400.crt_current_page_offset
seg000:F32A D1 E8				    shr	    ax,	1
seg000:F32C 03 C8				    add	    cx,	ax
seg000:F32E B7 0E				    mov	    bh,	0Eh
seg000:F330 B3 0F				    mov	    bl,	0Fh
seg000:F332 E9 F6 05				    jmp	    sub_FF92B
seg000:F332			    sub_FF31B	    endp
seg000:F332
seg000:F335
seg000:F335			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F335
seg000:F335			    ;	  Reports the cursor position (row and column) and size	for a specified
seg000:F335			    ;	  display page.
seg000:F335			    ;
seg000:F335			    ;	     On	entry:	    AH	       03h
seg000:F335			    ;			    BH	       Display page number
seg000:F335			    ;
seg000:F335			    ;	     Returns:	    CH	       Cursor start line
seg000:F335			    ;			    CL	       Cursor end line
seg000:F335			    ;			    DH	       Row
seg000:F335			    ;			    DL	       Column
seg000:F335			    ;
seg000:F335			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F335			    ; Attributes: bp-based frame
seg000:F335
seg000:F335			    int_10_03	    proc far		    ; CODE XREF: int_10+Dj
seg000:F335								    ; DATA XREF: int_10+18o
seg000:F335
seg000:F335			    arg_6	    = word ptr	0Ah
seg000:F335			    arg_8	    = word ptr	0Ch
seg000:F335
seg000:F335 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:F33A 7C 02				    jl	    short loc_FF33E
seg000:F33C 32 FF				    xor	    bh,	bh
seg000:F33E
seg000:F33E			    loc_FF33E:				    ; CODE XREF: int_10_03+5j
seg000:F33E 8A DF				    mov	    bl,	bh
seg000:F340 E8 BB E7				    call    sub_FDAFE
seg000:F343 8B EC				    mov	    bp,	sp
seg000:F345 89 56 0A				    mov	    [bp+arg_6],	dx
seg000:F348 8B 0E 60 00				    mov	    cx,	ds:p400.cursor_row_column
seg000:F34C 89 4E 0C				    mov	    [bp+arg_8],	cx
seg000:F34F E9 FD E5				    jmp	    near ptr int_pop_regs_and_exit
seg000:F34F			    int_10_03	    endp
seg000:F34F
seg000:F352
seg000:F352			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F352
seg000:F352			    ;	  Reports the position and status of the light pen.
seg000:F352			    ;
seg000:F352			    ;	     On	entry:	    AH	       04h
seg000:F352			    ;
seg000:F352			    ;	     Returns:	    AH	       Status (0=not triggered,	1=triggered)
seg000:F352			    ;			    BX	       Pixel column number (0-639)
seg000:F352			    ;			    CH	       Pixel line number (0-199)
seg000:F352			    ;			    CX	       Pixel line number for modes 0Fh-10h (0-nnn)
seg000:F352			    ;			    DH	       Character row number (0-24)
seg000:F352			    ;			    DL	       Character column	number (0-39 or	0-79)
seg000:F352			    ;
seg000:F352			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F352
seg000:F352			    int_10_04	    proc far		    ; CODE XREF: int_10+Dj
seg000:F352								    ; DATA XREF: int_10+1Ao
seg000:F352 BA DA 03				    mov	    dx,	3DAh
seg000:F355 EC					    in	    al,	dx	    ; Video status bits:
seg000:F355								    ; 0: retrace.  1=display is	in vert	or horiz retrace.
seg000:F355								    ; 1: 1=light pen is	triggered; 0=armed
seg000:F355								    ; 2: 1=light pen switch is open; 0=closed
seg000:F355								    ; 3: 1=vertical sync pulse is occurring.
seg000:F356 B4 00				    mov	    ah,	0
seg000:F358 A8 02				    test    al,	2
seg000:F35A 75 03				    jnz	    short loc_FF35F
seg000:F35C E9 E8 00				    jmp	    loc_FF447
seg000:F35F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F35F
seg000:F35F			    loc_FF35F:				    ; CODE XREF: int_10_04+8j
seg000:F35F 8B 16 63 00				    mov	    dx,	ds:p400.addr_6845
seg000:F363 B0 10				    mov	    al,	10h
seg000:F365 EE					    out	    dx,	al
seg000:F366 42					    inc	    dx
seg000:F367 EC					    in	    al,	dx
seg000:F368 8A F8				    mov	    bh,	al
seg000:F36A 4A					    dec	    dx
seg000:F36B B0 11				    mov	    al,	11h
seg000:F36D EE					    out	    dx,	al
seg000:F36E 42					    inc	    dx
seg000:F36F EC					    in	    al,	dx
seg000:F370 8A E7				    mov	    ah,	bh
seg000:F372 2D 04 00				    sub	    ax,	4
seg000:F375 BA DB 03				    mov	    dx,	3DBh
seg000:F378 EE					    out	    dx,	al	    ; Video: light pen latch reset.
seg000:F378								    ; Any OUT clears the latch.
seg000:F379 8B EC				    mov	    bp,	sp
seg000:F37B 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:F380 73 20				    jnb	    short loc_FF3A2
seg000:F382 33 D2				    xor	    dx,	dx
seg000:F384 8B 1E 4A 00				    mov	    bx,	ds:p400.crt_nr_cols
seg000:F388 F7 F3				    div	    bx
seg000:F38A 8A F0				    mov	    dh,	al
seg000:F38C 89 56 0A				    mov	    [bp+0Ah], dx
seg000:F38F B1 03				    mov	    cl,	3
seg000:F391 D2 E0				    shl	    al,	cl
seg000:F393 88 46 0D				    mov	    [bp+0Dh], al
seg000:F396 33 DB				    xor	    bx,	bx
seg000:F398 8A DA				    mov	    bl,	dl
seg000:F39A D3 E3				    shl	    bx,	cl
seg000:F39C 89 5E 0E				    mov	    [bp+0Eh], bx
seg000:F39F E9 A3 00				    jmp	    loc_FF445
seg000:F3A2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F3A2
seg000:F3A2			    loc_FF3A2:				    ; CODE XREF: int_10_04+2Ej
seg000:F3A2 33 D2				    xor	    dx,	dx
seg000:F3A4 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:F3A9 73 31				    jnb	    short loc_FF3DC
seg000:F3AB 05 02 00				    add	    ax,	2
seg000:F3AE 3D 00 10				    cmp	    ax,	1000h
seg000:F3B1 72 03				    jb	    short loc_FF3B6
seg000:F3B3 2D D8 0F				    sub	    ax,	0FD8h
seg000:F3B6
seg000:F3B6			    loc_FF3B6:				    ; CODE XREF: int_10_04+5Fj
seg000:F3B6 BB 28 00				    mov	    bx,	28h ; '('
seg000:F3B9 F7 F3				    div	    bx
seg000:F3BB D1 E0				    shl	    ax,	1
seg000:F3BD 88 46 0D				    mov	    [bp+0Dh], al
seg000:F3C0 D1 E2				    shl	    dx,	1
seg000:F3C2 D1 E2				    shl	    dx,	1
seg000:F3C4 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:F3C9 74 0B				    jz	    short loc_FF3D6
seg000:F3CB D1 E2				    shl	    dx,	1
seg000:F3CD 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:F3D2 75 02				    jnz	    short loc_FF3D6
seg000:F3D4 D1 E2				    shl	    dx,	1
seg000:F3D6
seg000:F3D6			    loc_FF3D6:				    ; CODE XREF: int_10_04+77j
seg000:F3D6								    ; int_10_04+80j
seg000:F3D6 89 56 0E				    mov	    [bp+0Eh], dx
seg000:F3D9 EB 59				    jmp	    short loc_FF434
seg000:F3D9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F3DB 90					    db	90h ; 
seg000:F3DC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F3DC
seg000:F3DC			    loc_FF3DC:				    ; CODE XREF: int_10_04+57j
seg000:F3DC BB 50 00				    mov	    bx,	50h ; 'P'
seg000:F3DF 3D 00 30				    cmp	    ax,	3000h
seg000:F3E2 72 0F				    jb	    short loc_FF3F3
seg000:F3E4 2D 00 30				    sub	    ax,	3000h
seg000:F3E7 F7 F3				    div	    bx
seg000:F3E9 D1 E0				    shl	    ax,	1
seg000:F3EB D1 E0				    shl	    ax,	1
seg000:F3ED 05 03 00				    add	    ax,	3
seg000:F3F0 EB 2F				    jmp	    short loc_FF421
seg000:F3F0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F3F2 90					    db	90h ; 
seg000:F3F3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F3F3
seg000:F3F3			    loc_FF3F3:				    ; CODE XREF: int_10_04+90j
seg000:F3F3 3D 00 20				    cmp	    ax,	2000h
seg000:F3F6 72 0F				    jb	    short loc_FF407
seg000:F3F8 2D 00 20				    sub	    ax,	2000h
seg000:F3FB F7 F3				    div	    bx
seg000:F3FD D1 E0				    shl	    ax,	1
seg000:F3FF D1 E0				    shl	    ax,	1
seg000:F401 05 02 00				    add	    ax,	2
seg000:F404 EB 1B				    jmp	    short loc_FF421
seg000:F404			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F406 90					    db	90h ; 
seg000:F407			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F407
seg000:F407			    loc_FF407:				    ; CODE XREF: int_10_04+A4j
seg000:F407 3D 00 10				    cmp	    ax,	1000h
seg000:F40A 72 0F				    jb	    short loc_FF41B
seg000:F40C 2D 00 10				    sub	    ax,	1000h
seg000:F40F F7 F3				    div	    bx
seg000:F411 D1 E0				    shl	    ax,	1
seg000:F413 D1 E0				    shl	    ax,	1
seg000:F415 05 01 00				    add	    ax,	1
seg000:F418 EB 07				    jmp	    short loc_FF421
seg000:F418			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F41A 90					    db	90h ; 
seg000:F41B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F41B
seg000:F41B			    loc_FF41B:				    ; CODE XREF: int_10_04+B8j
seg000:F41B F7 F3				    div	    bx
seg000:F41D D1 E0				    shl	    ax,	1
seg000:F41F D1 E0				    shl	    ax,	1
seg000:F421
seg000:F421			    loc_FF421:				    ; CODE XREF: int_10_04+9Ej
seg000:F421								    ; int_10_04+B2j
seg000:F421								    ; int_10_04+C6j
seg000:F421 D1 E2				    shl	    dx,	1
seg000:F423 D1 E2				    shl	    dx,	1
seg000:F425 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F42A 75 02				    jnz	    short loc_FF42E
seg000:F42C D1 E2				    shl	    dx,	1
seg000:F42E
seg000:F42E			    loc_FF42E:				    ; CODE XREF: int_10_04+D8j
seg000:F42E 88 46 0D				    mov	    [bp+0Dh], al
seg000:F431 89 56 0E				    mov	    [bp+0Eh], dx
seg000:F434
seg000:F434			    loc_FF434:				    ; CODE XREF: int_10_04+87j
seg000:F434 8A 46 0D				    mov	    al,	[bp+0Dh]
seg000:F437 B1 03				    mov	    cl,	3
seg000:F439 D2 E8				    shr	    al,	cl
seg000:F43B 8B 56 0E				    mov	    dx,	[bp+0Eh]
seg000:F43E D3 EA				    shr	    dx,	cl
seg000:F440 8A F0				    mov	    dh,	al
seg000:F442 89 56 0A				    mov	    [bp+0Ah], dx
seg000:F445
seg000:F445			    loc_FF445:				    ; CODE XREF: int_10_04+4Dj
seg000:F445 B4 01				    mov	    ah,	1
seg000:F447
seg000:F447			    loc_FF447:				    ; CODE XREF: int_10_04+Aj
seg000:F447 E9 05 E5				    jmp	    near ptr int_pop_regs_and_exit
seg000:F447			    int_10_04	    endp
seg000:F447
seg000:F44A
seg000:F44A			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F44A
seg000:F44A			    ;	  Sets the active display page.
seg000:F44A			    ;
seg000:F44A			    ;	     On	entry:	    AH	       05h
seg000:F44A			    ;			    AL	       Display page number
seg000:F44A			    ;
seg000:F44A			    ;	     Returns:	    None
seg000:F44A			    ;
seg000:F44A			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F44A
seg000:F44A			    int_10_05	    proc far		    ; CODE XREF: int_10+Dj
seg000:F44A								    ; DATA XREF: int_10+1Co
seg000:F44A A8 80				    test    al,	80h
seg000:F44C 75 33				    jnz	    short loc_FF481
seg000:F44E 80 3E 49 00	04			    cmp	    byte ptr ds:49h, 4
seg000:F453 7C 03				    jl	    short loc_FF458
seg000:F455 E9 F7 E4				    jmp	    near ptr int_pop_regs_and_exit
seg000:F458			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F458
seg000:F458			    loc_FF458:				    ; CODE XREF: int_10_05+9j
seg000:F458 A2 62 00				    mov	    ds:62h, al
seg000:F45B A1 4C 00				    mov	    ax,	ds:4Ch
seg000:F45E 32 FF				    xor	    bh,	bh
seg000:F460 8A 1E 62 00				    mov	    bl,	ds:62h
seg000:F464 F7 E3				    mul	    bx
seg000:F466 A3 4E 00				    mov	    ds:4Eh, ax
seg000:F469 8B C8				    mov	    cx,	ax
seg000:F46B D1 F9				    sar	    cx,	1
seg000:F46D B7 0C				    mov	    bh,	0Ch
seg000:F46F B3 0D				    mov	    bl,	0Dh
seg000:F471 E8 B7 04				    call    sub_FF92B
seg000:F474 8A 1E 62 00				    mov	    bl,	ds:62h
seg000:F478 E8 83 E6				    call    sub_FDAFE
seg000:F47B E8 9D FE				    call    sub_FF31B
seg000:F47E E9 CE E4				    jmp	    near ptr int_pop_regs_and_exit
seg000:F481			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F481
seg000:F481			    loc_FF481:				    ; CODE XREF: int_10_05+2j
seg000:F481 8A E0				    mov	    ah,	al
seg000:F483 80 FC 84				    cmp	    ah,	84h ; '„'
seg000:F486 73 52				    jnb	    short loc_FF4DA
seg000:F488 80 FC 80				    cmp	    ah,	80h ; '€'
seg000:F48B 74 32				    jz	    short loc_FF4BF
seg000:F48D 80 E3 07				    and	    bl,	7
seg000:F490 80 E7 07				    and	    bh,	7
seg000:F493 B1 03				    mov	    cl,	3
seg000:F495 D2 E3				    shl	    bl,	cl
seg000:F497 A0 8A 00				    mov	    al,	ds:8Ah
seg000:F49A 80 FC 81				    cmp	    ah,	81h ; ''
seg000:F49D 75 07				    jnz	    short loc_FF4A6
seg000:F49F 24 C7				    and	    al,	0C7h
seg000:F4A1 0A C3				    or	    al,	bl
seg000:F4A3 EB 13				    jmp	    short loc_FF4B8
seg000:F4A3			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4A5 90					    db	90h ; 
seg000:F4A6			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4A6
seg000:F4A6			    loc_FF4A6:				    ; CODE XREF: int_10_05+53j
seg000:F4A6 80 FC 82				    cmp	    ah,	82h ; '‚'
seg000:F4A9 75 07				    jnz	    short loc_FF4B2
seg000:F4AB 24 F8				    and	    al,	0F8h
seg000:F4AD 0A C7				    or	    al,	bh
seg000:F4AF EB 07				    jmp	    short loc_FF4B8
seg000:F4AF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4B1 90					    db	90h ; 
seg000:F4B2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4B2
seg000:F4B2			    loc_FF4B2:				    ; CODE XREF: int_10_05+5Fj
seg000:F4B2 24 C0				    and	    al,	0C0h
seg000:F4B4 0A C3				    or	    al,	bl
seg000:F4B6 0A C7				    or	    al,	bh
seg000:F4B8
seg000:F4B8			    loc_FF4B8:				    ; CODE XREF: int_10_05+59j
seg000:F4B8								    ; int_10_05+65j
seg000:F4B8 A2 8A 00				    mov	    ds:8Ah, al
seg000:F4BB BA DF 03				    mov	    dx,	3DFh
seg000:F4BE EE					    out	    dx,	al
seg000:F4BF
seg000:F4BF			    loc_FF4BF:				    ; CODE XREF: int_10_05+41j
seg000:F4BF 8B EC				    mov	    bp,	sp
seg000:F4C1 A0 8A 00				    mov	    al,	ds:8Ah
seg000:F4C4 24 07				    and	    al,	7
seg000:F4C6 8A F8				    mov	    bh,	al
seg000:F4C8 A0 8A 00				    mov	    al,	ds:8Ah
seg000:F4CB B1 03				    mov	    cl,	3
seg000:F4CD D2 E8				    shr	    al,	cl
seg000:F4CF 24 07				    and	    al,	7
seg000:F4D1 8A D8				    mov	    bl,	al
seg000:F4D3 89 5E 0E				    mov	    [bp+0Eh], bx
seg000:F4D6 F8					    clc
seg000:F4D7 E9 75 E4				    jmp	    near ptr int_pop_regs_and_exit
seg000:F4DA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4DA
seg000:F4DA			    loc_FF4DA:				    ; CODE XREF: int_10_05+3Cj
seg000:F4DA F9					    stc
seg000:F4DB E9 71 E4				    jmp	    near ptr int_pop_regs_and_exit
seg000:F4DB			    int_10_05	    endp
seg000:F4DB
seg000:F4DE
seg000:F4DE			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F4DE
seg000:F4DE			    ;	  Scrolls a specified window upward a specified	number of lines.
seg000:F4DE			    ;
seg000:F4DE			    ;	     On	entry:	    AH	       06h
seg000:F4DE			    ;			    AL	       Number of lines to scroll (if 0,	clear entire
seg000:F4DE			    ;				       window)
seg000:F4DE			    ;			    BH	       Display attribute for blank lines
seg000:F4DE			    ;			    CH	       Row number of upper left	corner
seg000:F4DE			    ;			    CL	       Column number of	upper left corner
seg000:F4DE			    ;			    DH	       Row number of lower right corner
seg000:F4DE			    ;			    DL	       Column number of	lower right corner
seg000:F4DE			    ;
seg000:F4DE			    ;	     Returns:	    None
seg000:F4DE			    ;
seg000:F4DE			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F4DE			    ;
seg000:F4DE			    ; Attributes: bp-based frame
seg000:F4DE
seg000:F4DE			    int_10_06	    proc far		    ; CODE XREF: int_10+Dj
seg000:F4DE								    ; DATA XREF: int_10+1Eo
seg000:F4DE 50					    push    ax
seg000:F4DF 8B EC				    mov	    bp,	sp
seg000:F4E1 C7 46 00 00	00			    mov	    word ptr [bp+0], 0
seg000:F4E6 E8 04 00				    call    sub_FF4ED
seg000:F4E9 5B					    pop	    bx
seg000:F4EA E9 62 E4				    jmp	    near ptr int_pop_regs_and_exit
seg000:F4EA			    int_10_06	    endp
seg000:F4EA
seg000:F4ED
seg000:F4ED			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F4ED
seg000:F4ED
seg000:F4ED			    sub_FF4ED	    proc near		    ; CODE XREF: int_10_06+8p
seg000:F4ED								    ; int_10_07+8p
seg000:F4ED
seg000:F4ED			    ; FUNCTION CHUNK AT	seg000:D413 SIZE 00000119 BYTES
seg000:F4ED			    ; FUNCTION CHUNK AT	seg000:D52D SIZE 00000085 BYTES
seg000:F4ED			    ; FUNCTION CHUNK AT	seg000:D5B3 SIZE 00000014 BYTES
seg000:F4ED
seg000:F4ED 8A E2				    mov	    ah,	dl
seg000:F4EF 2A E1				    sub	    ah,	cl
seg000:F4F1 FE C4				    inc	    ah
seg000:F4F3 80 FC 00				    cmp	    ah,	0
seg000:F4F6 7F 03				    jg	    short loc_FF4FB
seg000:F4F8 E9 B1 00				    jmp	    locret_FF5AC
seg000:F4FB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F4FB
seg000:F4FB			    loc_FF4FB:				    ; CODE XREF: sub_FF4ED+9j
seg000:F4FB 8A DE				    mov	    bl,	dh
seg000:F4FD 2A DD				    sub	    bl,	ch
seg000:F4FF 3A C3				    cmp	    al,	bl
seg000:F501 7E 02				    jle	    short loc_FF505
seg000:F503 32 C0				    xor	    al,	al
seg000:F505
seg000:F505			    loc_FF505:				    ; CODE XREF: sub_FF4ED+14j
seg000:F505 E8 92 04				    call    sub_FF99A
seg000:F508 73 03				    jnb	    short loc_FF50D
seg000:F50A E9 06 DF				    jmp	    loc_FD413
seg000:F50D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F50D
seg000:F50D			    loc_FF50D:				    ; CODE XREF: sub_FF4ED+1Bj
seg000:F50D 83 7E 00 00				    cmp	    word ptr [bp+0], 0
seg000:F511 74 02				    jz	    short loc_FF515
seg000:F513 8A F5				    mov	    dh,	ch
seg000:F515
seg000:F515			    loc_FF515:				    ; CODE XREF: sub_FF4ED+24j
seg000:F515 8A 3E 62 00				    mov	    bh,	ds:62h
seg000:F519 32 DB				    xor	    bl,	bl
seg000:F51B E8 51 E4				    call    sub_FD96F
seg000:F51E 43					    inc	    bx
seg000:F51F 43					    inc	    bx
seg000:F520 53					    push    bx
seg000:F521 8B EC				    mov	    bp,	sp
seg000:F523 32 ED				    xor	    ch,	ch
seg000:F525 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:F529 74 06				    jz	    short loc_FF531
seg000:F52B 8A 6E 11				    mov	    ch,	[bp+11h]
seg000:F52E 2A 6E 13				    sub	    ch,	[bp+13h]
seg000:F531
seg000:F531			    loc_FF531:				    ; CODE XREF: sub_FF4ED+3Cj
seg000:F531 8B 56 12				    mov	    dx,	[bp+12h]
seg000:F534 02 F5				    add	    dh,	ch
seg000:F536 8A 3E 62 00				    mov	    bh,	ds:62h
seg000:F53A 32 DB				    xor	    bl,	bl
seg000:F53C E8 30 E4				    call    sub_FD96F
seg000:F53F 8B FB				    mov	    di,	bx
seg000:F541 8A 76 11				    mov	    dh,	[bp+11h]
seg000:F544 2A 76 13				    sub	    dh,	[bp+13h]
seg000:F547 80 FE 00				    cmp	    dh,	0
seg000:F54A 75 03				    jnz	    short loc_FF54F
seg000:F54C EB 42				    jmp	    short loc_FF590
seg000:F54C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F54E 90					    db	90h ; 
seg000:F54F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F54F
seg000:F54F			    loc_FF54F:				    ; CODE XREF: sub_FF4ED+5Dj
seg000:F54F 8B 56 12				    mov	    dx,	[bp+12h]
seg000:F552 02 F5				    add	    dh,	ch
seg000:F554 83 7E 04 00				    cmp	    word ptr [bp+4], 0
seg000:F558 75 04				    jnz	    short loc_FF55E
seg000:F55A 02 F0				    add	    dh,	al
seg000:F55C EB 02				    jmp	    short loc_FF560
seg000:F55E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F55E
seg000:F55E			    loc_FF55E:				    ; CODE XREF: sub_FF4ED+6Bj
seg000:F55E 2A F0				    sub	    dh,	al
seg000:F560
seg000:F560			    loc_FF560:				    ; CODE XREF: sub_FF4ED+6Fj
seg000:F560 8A 3E 62 00				    mov	    bh,	ds:62h
seg000:F564 32 DB				    xor	    bl,	bl
seg000:F566 E8 06 E4				    call    sub_FD96F
seg000:F569 8B F3				    mov	    si,	bx
seg000:F56B 33 C9				    xor	    cx,	cx
seg000:F56D 3C 00				    cmp	    al,	0
seg000:F56F 74 1F				    jz	    short loc_FF590
seg000:F571
seg000:F571			    loc_FF571:				    ; CODE XREF: sub_FF4ED+9Cj
seg000:F571 56					    push    si
seg000:F572 57					    push    di
seg000:F573 1E					    push    ds
seg000:F574 50					    push    ax
seg000:F575 8C C0				    mov	    ax,	es
seg000:F577 8E D8				    mov	    ds,	ax
seg000:F579 58					    pop	    ax
seg000:F57A 8A CC				    mov	    cl,	ah
seg000:F57C F3 A5				    rep	movsw
seg000:F57E 1F					    pop	    ds
seg000:F57F 3B 76 00				    cmp	    si,	[bp+0]
seg000:F582 74 07				    jz	    short loc_FF58B
seg000:F584 5F					    pop	    di
seg000:F585 5E					    pop	    si
seg000:F586 E8 80 E5				    call    sub_FDB09
seg000:F589 EB E6				    jmp	    short loc_FF571
seg000:F58B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F58B
seg000:F58B			    loc_FF58B:				    ; CODE XREF: sub_FF4ED+95j
seg000:F58B 5F					    pop	    di
seg000:F58C 5E					    pop	    si
seg000:F58D E8 79 E5				    call    sub_FDB09
seg000:F590
seg000:F590			    loc_FF590:				    ; CODE XREF: sub_FF4ED+5Fj
seg000:F590								    ; sub_FF4ED+82j
seg000:F590								    ; sub_FF4ED+BAj
seg000:F590 56					    push    si
seg000:F591 57					    push    di
seg000:F592 8A CC				    mov	    cl,	ah
seg000:F594 50					    push    ax
seg000:F595 B0 20				    mov	    al,	20h ; ' '
seg000:F597 8A 66 15				    mov	    ah,	[bp+15h]
seg000:F59A F3 AB				    rep	stosw
seg000:F59C 58					    pop	    ax
seg000:F59D 3B 7E 00				    cmp	    di,	[bp+0]
seg000:F5A0 74 07				    jz	    short loc_FF5A9
seg000:F5A2 5F					    pop	    di
seg000:F5A3 5E					    pop	    si
seg000:F5A4 E8 62 E5				    call    sub_FDB09
seg000:F5A7 EB E7				    jmp	    short loc_FF590
seg000:F5A9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F5A9
seg000:F5A9			    loc_FF5A9:				    ; CODE XREF: sub_FF4ED+B3j
seg000:F5A9 5F					    pop	    di
seg000:F5AA 5E					    pop	    si
seg000:F5AB 5B					    pop	    bx
seg000:F5AC
seg000:F5AC			    locret_FF5AC:			    ; CODE XREF: sub_FF4ED+Bj
seg000:F5AC C3					    retn
seg000:F5AC			    sub_FF4ED	    endp
seg000:F5AC
seg000:F5AD
seg000:F5AD			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F5AD
seg000:F5AD			    ;	  Scrolls a specified window downward a	specified number of lines.
seg000:F5AD			    ;
seg000:F5AD			    ;	     On	entry:	    AH	       07h
seg000:F5AD			    ;			    AL	       Number of lines to scroll (if 0,	clear entire
seg000:F5AD			    ;				       window)
seg000:F5AD			    ;			    BH	       Display attribute for blank lines
seg000:F5AD			    ;			    CH	       Row number of upper left	corner
seg000:F5AD			    ;			    CL	       Column number of	upper left corner
seg000:F5AD			    ;			    DH	       Row number of lower right corner
seg000:F5AD			    ;			    DL	       Column number of	lower right corner
seg000:F5AD			    ;
seg000:F5AD			    ;	     Returns:	    None
seg000:F5AD			    ;
seg000:F5AD			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F5AD			    ; Attributes: bp-based frame
seg000:F5AD
seg000:F5AD			    int_10_07	    proc far		    ; CODE XREF: int_10+Dj
seg000:F5AD								    ; DATA XREF: int_10+20o
seg000:F5AD 50					    push    ax
seg000:F5AE 8B EC				    mov	    bp,	sp
seg000:F5B0 C7 46 00 01	00			    mov	    word ptr [bp+0], 1
seg000:F5B5 E8 35 FF				    call    sub_FF4ED
seg000:F5B8 5B					    pop	    bx
seg000:F5B9 E9 93 E3				    jmp	    near ptr int_pop_regs_and_exit
seg000:F5B9			    int_10_07	    endp
seg000:F5B9
seg000:F5BC
seg000:F5BC			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F5BC
seg000:F5BC			    ;	  Reports the ASCII value and (in text mode) attribute of the character
seg000:F5BC			    ;	  at the current cursor	location of the	specified display page.
seg000:F5BC			    ;
seg000:F5BC			    ;	     On	entry:	    AH	       08h
seg000:F5BC			    ;			    BH	       Display page number (text modes only)
seg000:F5BC			    ;
seg000:F5BC			    ;	     Returns:	    AH	       Attribute of character (text mode)
seg000:F5BC			    ;			    AL	       ASCII value of character
seg000:F5BC			    ;
seg000:F5BC			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F5BC
seg000:F5BC			    int_10_08	    proc far		    ; CODE XREF: int_10+Dj
seg000:F5BC								    ; DATA XREF: int_10+22o
seg000:F5BC E8 DB 03				    call    sub_FF99A
seg000:F5BF 73 0A				    jnb	    short loc_FF5CB
seg000:F5C1 32 DB				    xor	    bl,	bl
seg000:F5C3 E8 38 E5				    call    sub_FDAFE
seg000:F5C6 E8 FE DF				    call    sub_FD5C7
seg000:F5C9 EB 09				    jmp	    short loc_FF5D4
seg000:F5CB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F5CB
seg000:F5CB			    loc_FF5CB:				    ; CODE XREF: int_10_08+3j
seg000:F5CB B3 01				    mov	    bl,	1
seg000:F5CD E8 9F E3				    call    sub_FD96F
seg000:F5D0 26 8B 07				    mov	    ax,	es:[bx]
seg000:F5D3 FB					    sti
seg000:F5D4
seg000:F5D4			    loc_FF5D4:				    ; CODE XREF: int_10_08+Dj
seg000:F5D4 E9 78 E3				    jmp	    near ptr int_pop_regs_and_exit
seg000:F5D4			    int_10_08	    endp
seg000:F5D4
seg000:F5D7
seg000:F5D7			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F5D7
seg000:F5D7			    ;	  Displays a specified character with a	specified attribute a specified
seg000:F5D7			    ;	  number of times.
seg000:F5D7			    ;
seg000:F5D7			    ;	     On	entry:	    AX	       09h
seg000:F5D7			    ;			    AL	       ASCII value of character
seg000:F5D7			    ;			    BH	       Display page (text mode only)
seg000:F5D7			    ;			    BL	       Attribute/Color
seg000:F5D7			    ;			    CX	       Number of times to write	character
seg000:F5D7			    ;
seg000:F5D7			    ;	     Returns:	    None
seg000:F5D7			    ;
seg000:F5D7			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F5D7
seg000:F5D7			    int_10_09	    proc far		    ; CODE XREF: int_10+Dj
seg000:F5D7								    ; DATA XREF: int_10+24o
seg000:F5D7 32 D2				    xor	    dl,	dl
seg000:F5D9 EB 02				    jmp	    short loc_FF5DD
seg000:F5D9			    int_10_09	    endp
seg000:F5D9
seg000:F5DB
seg000:F5DB			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F5DB
seg000:F5DB			    ;
seg000:F5DB			    ;	  Displays a specified character a specified number of times.
seg000:F5DB			    ;
seg000:F5DB			    ;	     On	entry:	    AH	       0Ah
seg000:F5DB			    ;			    AL	       ASCII value of character
seg000:F5DB			    ;			    BH	       Display page number (text mode only)
seg000:F5DB			    ;			    CX	       Number of times to write	character
seg000:F5DB			    ;
seg000:F5DB			    ;	     Returns:	    None
seg000:F5DB			    ;
seg000:F5DB			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F5DB			    ;
seg000:F5DB			    ; Attributes: bp-based frame
seg000:F5DB
seg000:F5DB			    int_10_0a	    proc far		    ; CODE XREF: int_10+Dj
seg000:F5DB								    ; DATA XREF: int_10+26o
seg000:F5DB B2 FF				    mov	    dl,	0FFh
seg000:F5DD
seg000:F5DD			    loc_FF5DD:				    ; CODE XREF: int_10_09+2j
seg000:F5DD 0B C9				    or	    cx,	cx
seg000:F5DF 74 33				    jz	    short loc_FF614
seg000:F5E1 8A E3				    mov	    ah,	bl
seg000:F5E3 E8 B4 03				    call    sub_FF99A
seg000:F5E6 73 0A				    jnb	    short loc_FF5F2
seg000:F5E8 32 DB				    xor	    bl,	bl
seg000:F5EA E8 11 E5				    call    sub_FDAFE
seg000:F5ED E8 64 E1				    call    sub_FD754
seg000:F5F0 EB 22				    jmp	    short loc_FF614
seg000:F5F2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F5F2
seg000:F5F2			    loc_FF5F2:				    ; CODE XREF: int_10_0a+Bj
seg000:F5F2 52					    push    dx
seg000:F5F3 8B EC				    mov	    bp,	sp
seg000:F5F5 B3 01				    mov	    bl,	1
seg000:F5F7 E8 75 E3				    call    sub_FD96F
seg000:F5FA 8B FB				    mov	    di,	bx
seg000:F5FC 8A D8				    mov	    bl,	al
seg000:F5FE 80 7E 00 00				    cmp	    byte ptr [bp+0], 0
seg000:F602 75 08				    jnz	    short loc_FF60C
seg000:F604
seg000:F604			    loc_FF604:				    ; CODE XREF: int_10_0a+2Dj
seg000:F604 8A C3				    mov	    al,	bl
seg000:F606 AB					    stosw
seg000:F607 FB					    sti
seg000:F608 E2 FA				    loop    loc_FF604
seg000:F60A EB 07				    jmp	    short loc_FF613
seg000:F60C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F60C
seg000:F60C			    loc_FF60C:				    ; CODE XREF: int_10_0a+27j
seg000:F60C								    ; int_10_0a+36j
seg000:F60C 8A C3				    mov	    al,	bl
seg000:F60E AA					    stosb
seg000:F60F FB					    sti
seg000:F610 47					    inc	    di
seg000:F611 E2 F9				    loop    loc_FF60C
seg000:F613
seg000:F613			    loc_FF613:				    ; CODE XREF: int_10_0a+2Fj
seg000:F613 5B					    pop	    bx
seg000:F614
seg000:F614			    loc_FF614:				    ; CODE XREF: int_10_0a+4j
seg000:F614								    ; int_10_0a+15j
seg000:F614 E9 38 E3				    jmp	    near ptr int_pop_regs_and_exit
seg000:F614			    int_10_0a	    endp
seg000:F614
seg000:F617
seg000:F617			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F617
seg000:F617			    ;
seg000:F617			    ;	  Selects color	palette	for various display modes.
seg000:F617			    ;
seg000:F617			    ;	     On	entry:	    AX	       0Bh
seg000:F617			    ;			    BH	       Palette Color ID	(0 or 1, See below)
seg000:F617			    ;			    BL	       Color or	palette	value to be used with Color
seg000:F617			    ;				       ID (0 - 31)
seg000:F617			    ;
seg000:F617			    ;	     Returns:	    None
seg000:F617			    ;
seg000:F617			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F617
seg000:F617			    int_10_0b	    proc far		    ; CODE XREF: int_10+Dj
seg000:F617								    ; DATA XREF: int_10+28o
seg000:F617 BA D9 03				    mov	    dx,	3D9h
seg000:F61A A0 66 00				    mov	    al,	ds:p400.shadow_3d9_crt_palette
seg000:F61D 80 FF 00				    cmp	    bh,	0
seg000:F620 75 38				    jnz	    short loc_FF65A
seg000:F622 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:F627 72 09				    jb	    short loc_FF632
seg000:F629 8A FB				    mov	    bh,	bl
seg000:F62B B3 00				    mov	    bl,	0
seg000:F62D E8 C2 02				    call    sub_FF8F2
seg000:F630 8A DF				    mov	    bl,	bh
seg000:F632
seg000:F632			    loc_FF632:				    ; CODE XREF: int_10_0b+10j
seg000:F632 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:F637 74 12				    jz	    short loc_FF64B
seg000:F639 BA DA 03				    mov	    dx,	3DAh
seg000:F63C B0 02				    mov	    al,	2
seg000:F63E EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F63E								    ; Feature Control outputs FC0 and FC1
seg000:F63F 8A C3				    mov	    al,	bl
seg000:F641 83 C2 04				    add	    dx,	4
seg000:F644 EE					    out	    dx,	al
seg000:F645 32 C0				    xor	    al,	al
seg000:F647 83 EA 04				    sub	    dx,	4
seg000:F64A EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F64A								    ; Feature Control outputs FC0 and FC1
seg000:F64B
seg000:F64B			    loc_FF64B:				    ; CODE XREF: int_10_0b+20j
seg000:F64B BA D9 03				    mov	    dx,	3D9h
seg000:F64E A0 66 00				    mov	    al,	ds:p400.shadow_3d9_crt_palette
seg000:F651 24 E0				    and	    al,	0E0h
seg000:F653 80 E3 1F				    and	    bl,	1Fh
seg000:F656 0A C3				    or	    al,	bl
seg000:F658 EB 09				    jmp	    short loc_FF663
seg000:F65A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F65A
seg000:F65A			    loc_FF65A:				    ; CODE XREF: int_10_0b+9j
seg000:F65A 24 DF				    and	    al,	0DFh
seg000:F65C 80 FB 00				    cmp	    bl,	0
seg000:F65F 74 02				    jz	    short loc_FF663
seg000:F661 0C 20				    or	    al,	20h
seg000:F663
seg000:F663			    loc_FF663:				    ; CODE XREF: int_10_0b+41j
seg000:F663								    ; int_10_0b+48j
seg000:F663 80 3E 49 00	0A			    cmp	    byte ptr ds:49h, 0Ah
seg000:F668 75 02				    jnz	    short loc_FF66C
seg000:F66A B0 00				    mov	    al,	0
seg000:F66C
seg000:F66C			    loc_FF66C:				    ; CODE XREF: int_10_0b+51j
seg000:F66C EE					    out	    dx,	al
seg000:F66D A2 66 00				    mov	    ds:66h, al
seg000:F670 80 3E 49 00	0A			    cmp	    byte ptr ds:49h, 0Ah
seg000:F675 75 32				    jnz	    short loc_FF6A9
seg000:F677 80 FB 00				    cmp	    bl,	0
seg000:F67A 74 15				    jz	    short loc_FF691
seg000:F67C BB 01 03				    mov	    bx,	301h
seg000:F67F E8 70 02				    call    sub_FF8F2
seg000:F682 BB 02 05				    mov	    bx,	502h
seg000:F685 E8 6A 02				    call    sub_FF8F2
seg000:F688 BB 03 0F				    mov	    bx,	0F03h
seg000:F68B E8 64 02				    call    sub_FF8F2
seg000:F68E EB 13				    jmp	    short loc_FF6A3
seg000:F68E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F690 90					    db	90h ; 
seg000:F691			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F691
seg000:F691			    loc_FF691:				    ; CODE XREF: int_10_0b+63j
seg000:F691 BB 01 02				    mov	    bx,	201h
seg000:F694 E8 5B 02				    call    sub_FF8F2
seg000:F697 BB 02 04				    mov	    bx,	402h
seg000:F69A E8 55 02				    call    sub_FF8F2
seg000:F69D BB 03 06				    mov	    bx,	603h
seg000:F6A0 E8 4F 02				    call    sub_FF8F2
seg000:F6A3
seg000:F6A3			    loc_FF6A3:				    ; CODE XREF: int_10_0b+77j
seg000:F6A3 BA DA 03				    mov	    dx,	3DAh
seg000:F6A6 32 C0				    xor	    al,	al
seg000:F6A8 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F6A8								    ; Feature Control outputs FC0 and FC1
seg000:F6A9
seg000:F6A9			    loc_FF6A9:				    ; CODE XREF: int_10_0b+5Ej
seg000:F6A9 E9 A3 E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F6A9			    int_10_0b	    endp
seg000:F6A9
seg000:F6AC
seg000:F6AC			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F6AC
seg000:F6AC			    ;
seg000:F6AC			    ;	  Writes a pixel dot of	a specified color at a specified screen
seg000:F6AC			    ;	  coordinate.
seg000:F6AC			    ;
seg000:F6AC			    ;	     On	entry:	    AH	       0Ch
seg000:F6AC			    ;			    AL	       Pixel color
seg000:F6AC			    ;			    CX	       Horizontal position of pixel
seg000:F6AC			    ;			    DX	       Vertical	position of pixel
seg000:F6AC			    ;			    BH	       Display page number (graphics modes with	more
seg000:F6AC			    ;				       than 1 page)
seg000:F6AC			    ;
seg000:F6AC			    ;	     Returns:	    None
seg000:F6AC			    ;
seg000:F6AC			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F6AC
seg000:F6AC			    int_10_0c	    proc far		    ; CODE XREF: int_10+Dj
seg000:F6AC								    ; DATA XREF: int_10+2Ao
seg000:F6AC E8 90 02				    call    sub_FF93F
seg000:F6AF 72 2E				    jb	    short loc_FF6DF
seg000:F6B1 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:F6B6 74 2A				    jz	    short loc_FF6E2
seg000:F6B8 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:F6BD 74 23				    jz	    short loc_FF6E2
seg000:F6BF 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F6C4 74 21				    jz	    short loc_FF6E7
seg000:F6C6
seg000:F6C6			    loc_FF6C6:				    ; CODE XREF: int_10_0c+39j
seg000:F6C6 8A E0				    mov	    ah,	al
seg000:F6C8 22 C2				    and	    al,	dl
seg000:F6CA D2 E0				    shl	    al,	cl
seg000:F6CC F6 C4 80				    test    ah,	80h
seg000:F6CF 75 0B				    jnz	    short loc_FF6DC
seg000:F6D1 D2 C6				    rol	    dh,	cl
seg000:F6D3 26 20 37				    and	    es:[bx], dh
seg000:F6D6 26 08 07				    or	    es:[bx], al
seg000:F6D9 E9 73 E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F6DC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F6DC
seg000:F6DC			    loc_FF6DC:				    ; CODE XREF: int_10_0c+23j
seg000:F6DC 26 30 07				    xor	    es:[bx], al
seg000:F6DF
seg000:F6DF			    loc_FF6DF:				    ; CODE XREF: int_10_0c+3j
seg000:F6DF E9 6D E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F6E2			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F6E2
seg000:F6E2			    loc_FF6E2:				    ; CODE XREF: int_10_0c+Aj
seg000:F6E2								    ; int_10_0c+11j
seg000:F6E2 BA 0F F0				    mov	    dx,	0F00Fh
seg000:F6E5 EB DF				    jmp	    short loc_FF6C6
seg000:F6E7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F6E7
seg000:F6E7			    loc_FF6E7:				    ; CODE XREF: int_10_0c+18j
seg000:F6E7 BA 01 FE				    mov	    dx,	0FE01h
seg000:F6EA 8A E0				    mov	    ah,	al
seg000:F6EC 22 C2				    and	    al,	dl
seg000:F6EE D2 E0				    shl	    al,	cl
seg000:F6F0 F6 C4 80				    test    ah,	80h
seg000:F6F3 75 0B				    jnz	    short loc_FF700
seg000:F6F5 D2 C6				    rol	    dh,	cl
seg000:F6F7 26 20 37				    and	    es:[bx], dh
seg000:F6FA 26 08 07				    or	    es:[bx], al
seg000:F6FD EB 04				    jmp	    short loc_FF703
seg000:F6FD			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F6FF 90					    db	90h ; 
seg000:F700			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F700
seg000:F700			    loc_FF700:				    ; CODE XREF: int_10_0c+47j
seg000:F700 26 30 07				    xor	    es:[bx], al
seg000:F703
seg000:F703			    loc_FF703:				    ; CODE XREF: int_10_0c+51j
seg000:F703 8A C4				    mov	    al,	ah
seg000:F705 D0 E8				    shr	    al,	1
seg000:F707 22 C2				    and	    al,	dl
seg000:F709 D2 E0				    shl	    al,	cl
seg000:F70B F6 C4 80				    test    ah,	80h
seg000:F70E 75 0B				    jnz	    short loc_FF71B
seg000:F710 26 20 77 01				    and	    es:[bx+1], dh
seg000:F714 26 08 47 01				    or	    es:[bx+1], al
seg000:F718 E9 34 E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F71B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F71B
seg000:F71B			    loc_FF71B:				    ; CODE XREF: int_10_0c+62j
seg000:F71B 26 30 47 01				    xor	    es:[bx+1], al
seg000:F71F E9 2D E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F71F			    int_10_0c	    endp
seg000:F71F
seg000:F722
seg000:F722			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F722
seg000:F722			    ; Reports the color	of the pixel at	a specified screen coordinate.
seg000:F722			    ;
seg000:F722			    ;	     On	entry:	    AH	       0Dh
seg000:F722			    ;			    CX	       Horizontal position of pixel
seg000:F722			    ;			    DX	       Vertical	position of pixel
seg000:F722			    ;			    BH	       Display page number (graphics modes with	more
seg000:F722			    ;				       than 1 page)
seg000:F722			    ;
seg000:F722			    ;	     Returns:	    AL	       Color of	pixel
seg000:F722			    ;
seg000:F722			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F722
seg000:F722			    int_10_0d	    proc far		    ; CODE XREF: int_10+Dj
seg000:F722								    ; DATA XREF: int_10+2Co
seg000:F722 E8 1A 02				    call    sub_FF93F
seg000:F725 72 1C				    jb	    short loc_FF743
seg000:F727 80 3E 49 00	08			    cmp	    byte ptr ds:p400.crt_mode, 8
seg000:F72C 74 18				    jz	    short loc_FF746
seg000:F72E 80 3E 49 00	09			    cmp	    byte ptr ds:p400.crt_mode, 9
seg000:F733 74 11				    jz	    short loc_FF746
seg000:F735 80 3E 49 00	0A			    cmp	    byte ptr ds:p400.crt_mode, 0Ah
seg000:F73A 74 0E				    jz	    short loc_FF74A
seg000:F73C
seg000:F73C			    loc_FF73C:				    ; CODE XREF: int_10_0d+26j
seg000:F73C 26 8A 07				    mov	    al,	es:[bx]
seg000:F73F D2 E8				    shr	    al,	cl
seg000:F741 22 C4				    and	    al,	ah
seg000:F743
seg000:F743			    loc_FF743:				    ; CODE XREF: int_10_0d+3j
seg000:F743 E9 09 E2				    jmp	    near ptr int_pop_regs_and_exit
seg000:F746			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F746
seg000:F746			    loc_FF746:				    ; CODE XREF: int_10_0d+Aj
seg000:F746								    ; int_10_0d+11j
seg000:F746 B4 0F				    mov	    ah,	0Fh
seg000:F748 EB F2				    jmp	    short loc_FF73C
seg000:F74A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F74A
seg000:F74A			    loc_FF74A:				    ; CODE XREF: int_10_0d+18j
seg000:F74A B4 01				    mov	    ah,	1
seg000:F74C 26 8A 07				    mov	    al,	es:[bx]
seg000:F74F D2 E8				    shr	    al,	cl
seg000:F751 22 C4				    and	    al,	ah
seg000:F753 26 8A 57 01				    mov	    dl,	es:[bx+1]
seg000:F757 D2 EA				    shr	    dl,	cl
seg000:F759 22 D4				    and	    dl,	ah
seg000:F75B D0 E2				    shl	    dl,	1
seg000:F75D 0A C2				    or	    al,	dl
seg000:F75F E9 ED E1				    jmp	    near ptr int_pop_regs_and_exit
seg000:F75F			    int_10_0d	    endp
seg000:F75F
seg000:F762
seg000:F762			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F762
seg000:F762			    ;  Writes one character at the current cursor location and advances	the
seg000:F762			    ;	  cursor.
seg000:F762			    ;
seg000:F762			    ;	     On	entry:	    AH	       0Eh
seg000:F762			    ;			    AL	       Character to write
seg000:F762			    ;			    BL	       Foreground color	(graphics modes	only)
seg000:F762			    ;			    BH	       Display page number (text modes only)
seg000:F762			    ;
seg000:F762			    ;	     Returns:	    None
seg000:F762
seg000:F762			    int_10_0e	    proc far		    ; CODE XREF: int_10+Dj
seg000:F762								    ; DATA XREF: int_10+2Eo
seg000:F762 50					    push    ax
seg000:F763 8A CB				    mov	    cl,	bl
seg000:F765 E8 B3 01				    call    sub_FF91B
seg000:F768 E8 93 E3				    call    sub_FDAFE
seg000:F76B 3C 07				    cmp	    al,	7
seg000:F76D 75 06				    jnz	    short loc_FF775
seg000:F76F E8 ED E3				    call    sub_FDB5F
seg000:F772 E9 89 00				    jmp	    loc_FF7FE
seg000:F775			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F775
seg000:F775			    loc_FF775:				    ; CODE XREF: int_10_0e+Bj
seg000:F775 3C 0D				    cmp	    al,	0Dh
seg000:F777 75 05				    jnz	    short loc_FF77E
seg000:F779 32 D2				    xor	    dl,	dl
seg000:F77B EB 79				    jmp	    short loc_FF7F6
seg000:F77B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F77D 90					    db	90h ; 
seg000:F77E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F77E
seg000:F77E			    loc_FF77E:				    ; CODE XREF: int_10_0e+15j
seg000:F77E 3C 08				    cmp	    al,	8
seg000:F780 75 17				    jnz	    short loc_FF799
seg000:F782 FE CA				    dec	    dl
seg000:F784 7D 07				    jge	    short loc_FF78D
seg000:F786 80 FE 00				    cmp	    dh,	0
seg000:F789 7F 05				    jg	    short loc_FF790
seg000:F78B 32 D2				    xor	    dl,	dl
seg000:F78D
seg000:F78D			    loc_FF78D:				    ; CODE XREF: int_10_0e+22j
seg000:F78D EB 67				    jmp	    short loc_FF7F6
seg000:F78D			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F78F 90					    db	90h ; 
seg000:F790			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F790
seg000:F790			    loc_FF790:				    ; CODE XREF: int_10_0e+27j
seg000:F790 FE CE				    dec	    dh
seg000:F792 02 16 4A 00				    add	    dl,	ds:p400.crt_nr_cols
seg000:F796 EB 5E				    jmp	    short loc_FF7F6
seg000:F796			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F798 90					    db	90h ; 
seg000:F799			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F799
seg000:F799			    loc_FF799:				    ; CODE XREF: int_10_0e+1Ej
seg000:F799 3C 0A				    cmp	    al,	0Ah
seg000:F79B 75 2F				    jnz	    short loc_FF7CC
seg000:F79D 80 FE 18				    cmp	    dh,	18h
seg000:F7A0 75 25				    jnz	    short loc_FF7C7
seg000:F7A2
seg000:F7A2			    loc_FF7A2:				    ; CODE XREF: int_10_0e+90j
seg000:F7A2 E8 F5 01				    call    sub_FF99A
seg000:F7A5 73 04				    jnb	    short loc_FF7AB
seg000:F7A7 B4 00				    mov	    ah,	0
seg000:F7A9 EB 09				    jmp	    short loc_FF7B4
seg000:F7AB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7AB
seg000:F7AB			    loc_FF7AB:				    ; CODE XREF: int_10_0e+43j
seg000:F7AB 8B EC				    mov	    bp,	sp
seg000:F7AD E8 6B 01				    call    sub_FF91B
seg000:F7B0 B4 08				    mov	    ah,	8
seg000:F7B2 CD 10				    int	    10h		    ; -	VIDEO -	READ ATTRIBUTES/CHARACTER AT CURSOR POSITION
seg000:F7B2								    ; BH = display page
seg000:F7B2								    ; Return: AL = character
seg000:F7B2								    ; AH = attribute of	character (alpha modes)
seg000:F7B4
seg000:F7B4			    loc_FF7B4:				    ; CODE XREF: int_10_0e+47j
seg000:F7B4 8A FC				    mov	    bh,	ah
seg000:F7B6 B4 06				    mov	    ah,	6
seg000:F7B8 B0 01				    mov	    al,	1
seg000:F7BA 33 C9				    xor	    cx,	cx
seg000:F7BC 8A 16 4A 00				    mov	    dl,	ds:p400.crt_nr_cols
seg000:F7C0 FE CA				    dec	    dl
seg000:F7C2 CD 10				    int	    10h		    ; -	VIDEO -	SCROLL PAGE UP
seg000:F7C2								    ; AL = number of lines to scroll window (0 = blank whole window)
seg000:F7C2								    ; BH = attributes to be used on blanked lines
seg000:F7C2								    ; CH,CL = row,column of upper left corner of window	to scroll
seg000:F7C2								    ; DH,DL = row,column of lower right	corner of window
seg000:F7C4 EB 38				    jmp	    short loc_FF7FE
seg000:F7C4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7C6 90					    db	90h ; 
seg000:F7C7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7C7
seg000:F7C7			    loc_FF7C7:				    ; CODE XREF: int_10_0e+3Ej
seg000:F7C7 FE C6				    inc	    dh
seg000:F7C9 EB 2B				    jmp	    short loc_FF7F6
seg000:F7C9			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7CB 90					    db	90h ; 
seg000:F7CC			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7CC
seg000:F7CC			    loc_FF7CC:				    ; CODE XREF: int_10_0e+39j
seg000:F7CC B4 0A				    mov	    ah,	0Ah
seg000:F7CE 8A D9				    mov	    bl,	cl
seg000:F7D0 B9 01 00				    mov	    cx,	1
seg000:F7D3 CD 10				    int	    10h		    ; -	VIDEO -	WRITE CHARACTERS ONLY AT CURSOR	POSITION
seg000:F7D3								    ; AL = character, BH = display page	- alpha	mode
seg000:F7D3								    ; BL = color of character (graphics	mode, PCjr only)
seg000:F7D3								    ; CX = number of times to write character
seg000:F7D5 FE C2				    inc	    dl
seg000:F7D7 3A 16 4A 00				    cmp	    dl,	ds:4Ah
seg000:F7DB 75 19				    jnz	    short loc_FF7F6
seg000:F7DD 32 D2				    xor	    dl,	dl
seg000:F7DF 80 FE 18				    cmp	    dh,	18h
seg000:F7E2 75 10				    jnz	    short loc_FF7F4
seg000:F7E4 8B EC				    mov	    bp,	sp
seg000:F7E6 50					    push    ax
seg000:F7E7 51					    push    cx
seg000:F7E8 52					    push    dx
seg000:F7E9 E8 2F 01				    call    sub_FF91B
seg000:F7EC E8 0B FB				    call    sub_FF2FA
seg000:F7EF 5A					    pop	    dx
seg000:F7F0 59					    pop	    cx
seg000:F7F1 58					    pop	    ax
seg000:F7F2 EB AE				    jmp	    short loc_FF7A2
seg000:F7F4			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F7F4
seg000:F7F4			    loc_FF7F4:				    ; CODE XREF: int_10_0e+80j
seg000:F7F4 FE C6				    inc	    dh
seg000:F7F6
seg000:F7F6			    loc_FF7F6:				    ; CODE XREF: int_10_0e+19j
seg000:F7F6								    ; int_10_0e:loc_FF78Dj
seg000:F7F6								    ; int_10_0e+34j
seg000:F7F6								    ; int_10_0e+67j
seg000:F7F6								    ; int_10_0e+79j
seg000:F7F6 8B EC				    mov	    bp,	sp
seg000:F7F8 E8 20 01				    call    sub_FF91B
seg000:F7FB E8 FC FA				    call    sub_FF2FA
seg000:F7FE
seg000:F7FE			    loc_FF7FE:				    ; CODE XREF: int_10_0e+10j
seg000:F7FE								    ; int_10_0e+62j
seg000:F7FE 58					    pop	    ax
seg000:F7FF EB 11				    jmp	    short int_10_exit
seg000:F7FF			    int_10_0e	    endp
seg000:F7FF
seg000:F801
seg000:F801			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F801
seg000:F801			    ;  Reports the current video mode, the number of character positions per
seg000:F801			    ;	  line in that video mode, and the current display page.
seg000:F801			    ;
seg000:F801			    ;	     On	entry:	    AH	       0Fh
seg000:F801			    ;
seg000:F801			    ;	     Returns:	    AL	       Video mode
seg000:F801			    ;			    AH	       Number of character columns per line
seg000:F801			    ;			    BH	       Active display page number
seg000:F801			    ;
seg000:F801			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F801			    ;
seg000:F801			    ; Attributes: bp-based frame
seg000:F801
seg000:F801			    int_10_0f	    proc far		    ; CODE XREF: int_10+Dj
seg000:F801								    ; DATA XREF: int_10+30o
seg000:F801
seg000:F801			    arg_A	    = word ptr	0Eh
seg000:F801
seg000:F801 A1 4A 00				    mov	    ax,	ds:p400.crt_nr_cols
seg000:F804 8A E0				    mov	    ah,	al
seg000:F806 A0 49 00				    mov	    al,	ds:p400.crt_mode
seg000:F809 8A 3E 62 00				    mov	    bh,	ds:p400.active_display_page
seg000:F80D 8B EC				    mov	    bp,	sp
seg000:F80F 89 5E 0E				    mov	    [bp+arg_A],	bx
seg000:F812
seg000:F812			    int_10_exit:			    ; CODE XREF: int_10_0e+9Dj
seg000:F812								    ; int_10_10+D6j
seg000:F812								    ; int_10_10+DAj
seg000:F812 E9 3A E1				    jmp	    near ptr int_pop_regs_and_exit
seg000:F812			    int_10_0f	    endp
seg000:F812
seg000:F815
seg000:F815			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F815
seg000:F815			    ; Sets the palette and overscan (border) registers on the PCjr and EGA.
seg000:F815			    ;
seg000:F815			    ;	     On	entry:	    AH	       10h
seg000:F815			    ;			    AL	       Subservice
seg000:F815			    ;				       0 - Set palette register
seg000:F815			    ;					   BL	   Palette register
seg000:F815			    ;					   BH	   Value to set
seg000:F815			    ;
seg000:F815			    ;				       1 - Set overscan	(border) color register
seg000:F815			    ;					   BH	   Value to set
seg000:F815			    ;
seg000:F815			    ;				       2 - Set palette registers and border register
seg000:F815			    ;					   ES:DX   Pointer to color list
seg000:F815			    ;
seg000:F815			    ;				       3 - Toggle intensify/blinking bit
seg000:F815			    ;					   BL	   0 - Enable intensify
seg000:F815			    ;					   BL	   1 - Enable blinking
seg000:F815			    ;
seg000:F815			    ;	     Registers destroyed:      AX, SP, BP, SI, DI
seg000:F815			    ;
seg000:F815
seg000:F815			    int_10_10	    proc far		    ; CODE XREF: int_10+Dj
seg000:F815								    ; DATA XREF: int_10+32o
seg000:F815 3C 03				    cmp	    al,	3
seg000:F817 72 03				    jb	    short ok
seg000:F819 E9 D2 00				    jmp	    error
seg000:F81C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F81C
seg000:F81C			    ok:					    ; CODE XREF: int_10_10+2j
seg000:F81C 3C 00				    cmp	    al,	0
seg000:F81E 75 62				    jnz	    short loc_FF882
seg000:F820 80 3E 49 00	06			    cmp	    byte ptr ds:p400.crt_mode, 6
seg000:F825 75 0A				    jnz	    short loc_FF831
seg000:F827 80 FB 01				    cmp	    bl,	1
seg000:F82A 75 4E				    jnz	    short loc_FF87A
seg000:F82C B3 0F				    mov	    bl,	0Fh
seg000:F82E EB 4A				    jmp	    short loc_FF87A
seg000:F82E			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F830 90					    db	90h ; 
seg000:F831			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F831
seg000:F831			    loc_FF831:				    ; CODE XREF: int_10_10+10j
seg000:F831 73 47				    jnb	    short loc_FF87A
seg000:F833 80 3E 49 00	04			    cmp	    byte ptr ds:49h, 4
seg000:F838 72 40				    jb	    short loc_FF87A
seg000:F83A A0 66 00				    mov	    al,	ds:66h
seg000:F83D 24 20				    and	    al,	20h
seg000:F83F 74 1E				    jz	    short loc_FF85F
seg000:F841 80 FB 01				    cmp	    bl,	1
seg000:F844 75 05				    jnz	    short loc_FF84B
seg000:F846 B3 0B				    mov	    bl,	0Bh
seg000:F848 EB 30				    jmp	    short loc_FF87A
seg000:F848			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F84A 90					    db	90h ; 
seg000:F84B			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F84B
seg000:F84B			    loc_FF84B:				    ; CODE XREF: int_10_10+2Fj
seg000:F84B 80 FB 02				    cmp	    bl,	2
seg000:F84E 75 05				    jnz	    short loc_FF855
seg000:F850 B3 0D				    mov	    bl,	0Dh
seg000:F852 EB 26				    jmp	    short loc_FF87A
seg000:F852			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F854 90					    db	90h ; 
seg000:F855			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F855
seg000:F855			    loc_FF855:				    ; CODE XREF: int_10_10+39j
seg000:F855 80 FB 03				    cmp	    bl,	3
seg000:F858 75 20				    jnz	    short loc_FF87A
seg000:F85A B3 0F				    mov	    bl,	0Fh
seg000:F85C EB 1C				    jmp	    short loc_FF87A
seg000:F85C			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F85E 90					    db	90h ; 
seg000:F85F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F85F
seg000:F85F			    loc_FF85F:				    ; CODE XREF: int_10_10+2Aj
seg000:F85F 80 FB 01				    cmp	    bl,	1
seg000:F862 75 05				    jnz	    short loc_FF869
seg000:F864 B3 0A				    mov	    bl,	0Ah
seg000:F866 EB 12				    jmp	    short loc_FF87A
seg000:F866			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F868 90					    db	90h ; 
seg000:F869			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F869
seg000:F869			    loc_FF869:				    ; CODE XREF: int_10_10+4Dj
seg000:F869 80 FB 02				    cmp	    bl,	2
seg000:F86C 75 05				    jnz	    short loc_FF873
seg000:F86E B3 0C				    mov	    bl,	0Ch
seg000:F870 EB 08				    jmp	    short loc_FF87A
seg000:F870			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F872 90					    db	90h ; 
seg000:F873			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F873
seg000:F873			    loc_FF873:				    ; CODE XREF: int_10_10+57j
seg000:F873 80 FB 03				    cmp	    bl,	3
seg000:F876 75 02				    jnz	    short loc_FF87A
seg000:F878 B3 0E				    mov	    bl,	0Eh
seg000:F87A
seg000:F87A			    loc_FF87A:				    ; CODE XREF: int_10_10+15j
seg000:F87A								    ; int_10_10+19j
seg000:F87A								    ; int_10_10:loc_FF831j
seg000:F87A								    ; int_10_10+23j
seg000:F87A								    ; int_10_10+33j
seg000:F87A								    ; int_10_10+3Dj ...
seg000:F87A E8 75 00				    call    sub_FF8F2
seg000:F87D 72 6F				    jb	    short error
seg000:F87F EB 63				    jmp	    short loc_FF8E4
seg000:F87F			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F881 90					    db	90h ; 
seg000:F882			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F882
seg000:F882			    loc_FF882:				    ; CODE XREF: int_10_10+9j
seg000:F882 50					    push    ax
seg000:F883 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7
seg000:F888 73 0C				    jnb	    short loc_FF896
seg000:F88A BA DA 03				    mov	    dx,	3DAh
seg000:F88D B0 03				    mov	    al,	3
seg000:F88F EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F88F								    ; Feature Control outputs FC0 and FC1
seg000:F890 83 C2 04				    add	    dx,	4
seg000:F893 B0 04				    mov	    al,	4
seg000:F895 EE					    out	    dx,	al
seg000:F896
seg000:F896			    loc_FF896:				    ; CODE XREF: int_10_10+73j
seg000:F896 58					    pop	    ax
seg000:F897 3C 01				    cmp	    al,	1
seg000:F899 75 0F				    jnz	    short loc_FF8AA
seg000:F89B B0 02				    mov	    al,	2
seg000:F89D BA DA 03				    mov	    dx,	3DAh
seg000:F8A0 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F8A0								    ; Feature Control outputs FC0 and FC1
seg000:F8A1 8A C7				    mov	    al,	bh
seg000:F8A3 83 C2 04				    add	    dx,	4
seg000:F8A6 EE					    out	    dx,	al
seg000:F8A7 EB 3B				    jmp	    short loc_FF8E4
seg000:F8A7			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F8A9 90					    db	90h ; 
seg000:F8AA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F8AA
seg000:F8AA			    loc_FF8AA:				    ; CODE XREF: int_10_10+84j
seg000:F8AA B3 10				    mov	    bl,	10h
seg000:F8AC 8B F2				    mov	    si,	dx
seg000:F8AE BA DA 03				    mov	    dx,	3DAh
seg000:F8B1 B9 10 00				    mov	    cx,	10h
seg000:F8B4
seg000:F8B4			    loc_FF8B4:				    ; CODE XREF: int_10_10+C3j
seg000:F8B4 52					    push    dx
seg000:F8B5 BA DA 03				    mov	    dx,	3DAh
seg000:F8B8
seg000:F8B8			    loc_FF8B8:				    ; CODE XREF: int_10_10+A6j
seg000:F8B8 EC					    in	    al,	dx	    ; Video status bits:
seg000:F8B8								    ; 0: retrace.  1=display is	in vert	or horiz retrace.
seg000:F8B8								    ; 1: 1=light pen is	triggered; 0=armed
seg000:F8B8								    ; 2: 1=light pen switch is open; 0=closed
seg000:F8B8								    ; 3: 1=vertical sync pulse is occurring.
seg000:F8B9 A8 08				    test    al,	8
seg000:F8BB 75 FB				    jnz	    short loc_FF8B8
seg000:F8BD FA					    cli
seg000:F8BE
seg000:F8BE			    loc_FF8BE:				    ; CODE XREF: int_10_10+ACj
seg000:F8BE EC					    in	    al,	dx	    ; Video status bits:
seg000:F8BE								    ; 0: retrace.  1=display is	in vert	or horiz retrace.
seg000:F8BE								    ; 1: 1=light pen is	triggered; 0=armed
seg000:F8BE								    ; 2: 1=light pen switch is open; 0=closed
seg000:F8BE								    ; 3: 1=vertical sync pulse is occurring.
seg000:F8BF A8 08				    test    al,	8
seg000:F8C1 74 FB				    jz	    short loc_FF8BE
seg000:F8C3 5A					    pop	    dx
seg000:F8C4 8A C3				    mov	    al,	bl
seg000:F8C6 EE					    out	    dx,	al
seg000:F8C7 26 8A 04				    mov	    al,	es:[si]
seg000:F8CA 83 C2 04				    add	    dx,	4
seg000:F8CD EE					    out	    dx,	al
seg000:F8CE FB					    sti
seg000:F8CF 46					    inc	    si
seg000:F8D0 83 EA 04				    sub	    dx,	4
seg000:F8D3 32 C0				    xor	    al,	al
seg000:F8D5 EE					    out	    dx,	al
seg000:F8D6 FE C3				    inc	    bl
seg000:F8D8 E2 DA				    loop    loc_FF8B4
seg000:F8DA B0 02				    mov	    al,	2
seg000:F8DC EE					    out	    dx,	al
seg000:F8DD 83 C2 04				    add	    dx,	4
seg000:F8E0 26 8A 04				    mov	    al,	es:[si]
seg000:F8E3 EE					    out	    dx,	al
seg000:F8E4
seg000:F8E4			    loc_FF8E4:				    ; CODE XREF: int_10_10+6Aj
seg000:F8E4								    ; int_10_10+92j
seg000:F8E4 BA DA 03				    mov	    dx,	3DAh
seg000:F8E7 32 C0				    xor	    al,	al
seg000:F8E9 EE					    out	    dx,	al	    ; Video: bits 0-1 control
seg000:F8E9								    ; Feature Control outputs FC0 and FC1
seg000:F8EA F8					    clc
seg000:F8EB E9 24 FF				    jmp	    int_10_exit
seg000:F8EE			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F8EE
seg000:F8EE			    error:				    ; CODE XREF: int_10_10+4j
seg000:F8EE								    ; int_10_10+68j
seg000:F8EE F9					    stc
seg000:F8EF E9 20 FF				    jmp	    int_10_exit
seg000:F8EF			    int_10_10	    endp
seg000:F8EF
seg000:F8F2
seg000:F8F2			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F8F2
seg000:F8F2
seg000:F8F2			    sub_FF8F2	    proc near		    ; CODE XREF: int_10_0b+16p
seg000:F8F2								    ; int_10_0b+68p
seg000:F8F2								    ; int_10_0b+6Ep
seg000:F8F2								    ; int_10_0b+74p
seg000:F8F2								    ; int_10_0b+7Dp
seg000:F8F2								    ; int_10_0b+83p ...
seg000:F8F2 BA DA 03				    mov	    dx,	3DAh
seg000:F8F5 8A C3				    mov	    al,	bl
seg000:F8F7 3C 10				    cmp	    al,	10h
seg000:F8F9 73 1E				    jnb	    short loc_FF919
seg000:F8FB 50					    push    ax
seg000:F8FC 52					    push    dx
seg000:F8FD BA DA 03				    mov	    dx,	3DAh
seg000:F900
seg000:F900			    loc_FF900:				    ; CODE XREF: sub_FF8F2+11j
seg000:F900 EC					    in	    al,	dx	    ; Video status bits:
seg000:F900								    ; 0: retrace.  1=display is	in vert	or horiz retrace.
seg000:F900								    ; 1: 1=light pen is	triggered; 0=armed
seg000:F900								    ; 2: 1=light pen switch is open; 0=closed
seg000:F900								    ; 3: 1=vertical sync pulse is occurring.
seg000:F901 A8 08				    test    al,	8
seg000:F903 75 FB				    jnz	    short loc_FF900
seg000:F905 FA					    cli
seg000:F906
seg000:F906			    loc_FF906:				    ; CODE XREF: sub_FF8F2+17j
seg000:F906 EC					    in	    al,	dx	    ; Video status bits:
seg000:F906								    ; 0: retrace.  1=display is	in vert	or horiz retrace.
seg000:F906								    ; 1: 1=light pen is	triggered; 0=armed
seg000:F906								    ; 2: 1=light pen switch is open; 0=closed
seg000:F906								    ; 3: 1=vertical sync pulse is occurring.
seg000:F907 A8 08				    test    al,	8
seg000:F909 74 FB				    jz	    short loc_FF906
seg000:F90B 5A					    pop	    dx
seg000:F90C 58					    pop	    ax
seg000:F90D 04 10				    add	    al,	10h
seg000:F90F EE					    out	    dx,	al
seg000:F910 83 C2 04				    add	    dx,	4
seg000:F913 8A C7				    mov	    al,	bh
seg000:F915 EE					    out	    dx,	al
seg000:F916 FB					    sti
seg000:F917 F8					    clc
seg000:F918 C3					    retn
seg000:F919			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F919
seg000:F919			    loc_FF919:				    ; CODE XREF: sub_FF8F2+7j
seg000:F919 F9					    stc
seg000:F91A C3					    retn
seg000:F91A			    sub_FF8F2	    endp
seg000:F91A
seg000:F91B
seg000:F91B			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F91B
seg000:F91B
seg000:F91B			    sub_FF91B	    proc near		    ; CODE XREF: int_10_0e+3p
seg000:F91B								    ; int_10_0e+4Bp
seg000:F91B								    ; int_10_0e+87p
seg000:F91B								    ; int_10_0e+96p
seg000:F91B 8A 1E 62 00				    mov	    bl,	ds:p400.active_display_page
seg000:F91F 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:F924 7C 02				    jl	    short loc_FF928
seg000:F926 32 DB				    xor	    bl,	bl
seg000:F928
seg000:F928			    loc_FF928:				    ; CODE XREF: sub_FF91B+9j
seg000:F928 8A FB				    mov	    bh,	bl
seg000:F92A C3					    retn
seg000:F92A			    sub_FF91B	    endp
seg000:F92A
seg000:F92B
seg000:F92B			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F92B
seg000:F92B
seg000:F92B			    sub_FF92B	    proc near		    ; CODE XREF: int_10_01+4p
seg000:F92B								    ; sub_FF31B+17j
seg000:F92B								    ; int_10_05+27p
seg000:F92B 8B 16 63 00				    mov	    dx,	ds:p400.addr_6845
seg000:F92F 8A C7				    mov	    al,	bh
seg000:F931 EE					    out	    dx,	al
seg000:F932 42					    inc	    dx
seg000:F933 8A C5				    mov	    al,	ch
seg000:F935 EE					    out	    dx,	al
seg000:F936 4A					    dec	    dx
seg000:F937 8A C3				    mov	    al,	bl
seg000:F939 EE					    out	    dx,	al
seg000:F93A 42					    inc	    dx
seg000:F93B 8A C1				    mov	    al,	cl
seg000:F93D EE					    out	    dx,	al
seg000:F93E C3					    retn
seg000:F93E			    sub_FF92B	    endp
seg000:F93E
seg000:F93F
seg000:F93F			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F93F
seg000:F93F
seg000:F93F			    sub_FF93F	    proc near		    ; CODE XREF: int_10_0cp
seg000:F93F								    ; int_10_0dp
seg000:F93F 50					    push    ax
seg000:F940 B8 00 B0				    mov	    ax,	0B000h
seg000:F943 8E C0				    mov	    es,	ax
seg000:F945 58					    pop	    ax
seg000:F946 81 FA C7 00				    cmp	    dx,	0C7h ; 'Ç'
seg000:F94A 77 22				    ja	    short loc_FF96E
seg000:F94C 8A 26 49 00				    mov	    ah,	ds:49h
seg000:F950 80 FC 04				    cmp	    ah,	4
seg000:F953 74 25				    jz	    short loc_FF97A
seg000:F955 80 FC 05				    cmp	    ah,	5
seg000:F958 74 20				    jz	    short loc_FF97A
seg000:F95A 80 FC 06				    cmp	    ah,	6
seg000:F95D 74 2B				    jz	    short loc_FF98A
seg000:F95F 80 FC 08				    cmp	    ah,	8
seg000:F962 74 0D				    jz	    short loc_FF971
seg000:F964 80 FC 09				    cmp	    ah,	9
seg000:F967 74 11				    jz	    short loc_FF97A
seg000:F969 80 FC 0A				    cmp	    ah,	0Ah
seg000:F96C 74 1C				    jz	    short loc_FF98A
seg000:F96E
seg000:F96E			    loc_FF96E:				    ; CODE XREF: sub_FF93F+Bj
seg000:F96E								    ; sub_FF93F+36j
seg000:F96E								    ; sub_FF93F+3Fj
seg000:F96E								    ; sub_FF93F+4Fj
seg000:F96E F9					    stc
seg000:F96F EB 28				    jmp	    short locret_FF999
seg000:F971			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F971
seg000:F971			    loc_FF971:				    ; CODE XREF: sub_FF93F+23j
seg000:F971 81 F9 9F 00				    cmp	    cx,	9Fh ; 'Ÿ'
seg000:F975 77 F7				    ja	    short loc_FF96E
seg000:F977 EB 07				    jmp	    short loc_FF980
seg000:F977			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F979 90					    db	90h ; 
seg000:F97A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F97A
seg000:F97A			    loc_FF97A:				    ; CODE XREF: sub_FF93F+14j
seg000:F97A								    ; sub_FF93F+19j
seg000:F97A								    ; sub_FF93F+28j
seg000:F97A 81 F9 3F 01				    cmp	    cx,	13Fh
seg000:F97E 77 EE				    ja	    short loc_FF96E
seg000:F980
seg000:F980			    loc_FF980:				    ; CODE XREF: sub_FF93F+38j
seg000:F980 E8 48 E0				    call    sub_FD9CB
seg000:F983 B4 03				    mov	    ah,	3
seg000:F985 BA 03 FC				    mov	    dx,	0FC03h
seg000:F988 EB 0E				    jmp	    short loc_FF998
seg000:F98A			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F98A
seg000:F98A			    loc_FF98A:				    ; CODE XREF: sub_FF93F+1Ej
seg000:F98A								    ; sub_FF93F+2Dj
seg000:F98A 81 F9 7F 02				    cmp	    cx,	27Fh
seg000:F98E 77 DE				    ja	    short loc_FF96E
seg000:F990 E8 38 E0				    call    sub_FD9CB
seg000:F993 B4 01				    mov	    ah,	1
seg000:F995 BA 01 FE				    mov	    dx,	0FE01h
seg000:F998
seg000:F998			    loc_FF998:				    ; CODE XREF: sub_FF93F+49j
seg000:F998 F8					    clc
seg000:F999
seg000:F999			    locret_FF999:			    ; CODE XREF: sub_FF93F+30j
seg000:F999 C3					    retn
seg000:F999			    sub_FF93F	    endp
seg000:F999
seg000:F99A
seg000:F99A			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:F99A
seg000:F99A
seg000:F99A			    sub_FF99A	    proc near		    ; CODE XREF: sub_FF4ED:loc_FF505p
seg000:F99A								    ; int_10_08p
seg000:F99A								    ; int_10_0a+8p
seg000:F99A								    ; int_10_0e:loc_FF7A2p
seg000:F99A 80 3E 49 00	07			    cmp	    byte ptr ds:p400.crt_mode, 7
seg000:F99F 74 09				    jz	    short loc_FF9AA
seg000:F9A1 80 3E 49 00	04			    cmp	    byte ptr ds:p400.crt_mode, 4
seg000:F9A6 7C 02				    jl	    short loc_FF9AA
seg000:F9A8 F9					    stc
seg000:F9A9 C3					    retn
seg000:F9AA			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F9AA
seg000:F9AA			    loc_FF9AA:				    ; CODE XREF: sub_FF99A+5j
seg000:F9AA								    ; sub_FF99A+Cj
seg000:F9AA F8					    clc
seg000:F9AB C3					    retn
seg000:F9AB			    sub_FF99A	    endp
seg000:F9AB
seg000:F9AB			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:F9AC 00					    db	  0
seg000:F9AD 00					    db	  0
seg000:F9AE 00					    db	  0
seg000:F9AF 00					    db	  0
seg000:F9B0 00					    db	  0
seg000:F9B1 00					    db	  0
seg000:F9B2 00					    db	  0
seg000:F9B3 00					    db	  0
seg000:F9B4 00					    db	  0
seg000:F9B5 00					    db	  0
seg000:F9B6 00					    db	  0
seg000:F9B7 00					    db	  0
seg000:F9B8 00					    db	  0
seg000:F9B9 00					    db	  0
seg000:F9BA 00					    db	  0
seg000:F9BB 00					    db	  0
seg000:F9BC 00					    db	  0
seg000:F9BD 00					    db	  0
seg000:F9BE 00					    db	  0
seg000:F9BF 00					    db	  0
seg000:F9C0 00					    db	  0
seg000:F9C1 00					    db	  0
seg000:F9C2 00					    db	  0
seg000:F9C3 00					    db	  0
seg000:F9C4 00					    db	  0
seg000:F9C5 00					    db	  0
seg000:F9C6 00					    db	  0
seg000:F9C7 00					    db	  0
seg000:F9C8 00					    db	  0
seg000:F9C9 00					    db	  0
seg000:F9CA 00					    db	  0
seg000:F9CB 00					    db	  0
seg000:F9CC 00					    db	  0
seg000:F9CD 00					    db	  0
seg000:F9CE 00					    db	  0
seg000:F9CF 00					    db	  0
seg000:F9D0 00					    db	  0
seg000:F9D1 00					    db	  0
seg000:F9D2 00					    db	  0
seg000:F9D3 00					    db	  0
seg000:F9D4 00					    db	  0
seg000:F9D5 00					    db	  0
seg000:F9D6 00					    db	  0
seg000:F9D7 00					    db	  0
seg000:F9D8 00					    db	  0
seg000:F9D9 00					    db	  0
seg000:F9DA 00					    db	  0
seg000:F9DB 00					    db	  0
seg000:F9DC 00					    db	  0
seg000:F9DD 00					    db	  0
seg000:F9DE 00					    db	  0
seg000:F9DF 00					    db	  0
seg000:F9E0 00					    db	  0
seg000:F9E1 00					    db	  0
seg000:F9E2 00					    db	  0
seg000:F9E3 00					    db	  0
seg000:F9E4 00					    db	  0
seg000:F9E5 00					    db	  0
seg000:F9E6 00					    db	  0
seg000:F9E7 00					    db	  0
seg000:F9E8 00					    db	  0
seg000:F9E9 00					    db	  0
seg000:F9EA 00					    db	  0
seg000:F9EB 00					    db	  0
seg000:F9EC 00					    db	  0
seg000:F9ED 00					    db	  0
seg000:F9EE 00					    db	  0
seg000:F9EF 00					    db	  0
seg000:F9F0 00					    db	  0
seg000:F9F1 00					    db	  0
seg000:F9F2 00					    db	  0
seg000:F9F3 00					    db	  0
seg000:F9F4 00					    db	  0
seg000:F9F5 00					    db	  0
seg000:F9F6 00					    db	  0
seg000:F9F7 00					    db	  0
seg000:F9F8 00					    db	  0
seg000:F9F9 00					    db	  0
seg000:F9FA 00					    db	  0
seg000:F9FB 00					    db	  0
seg000:F9FC 00					    db	  0
seg000:F9FD 00					    db	  0
seg000:F9FE 00					    db	  0
seg000:F9FF 00					    db	  0
seg000:FA00 00					    db	  0
seg000:FA01 00					    db	  0
seg000:FA02 00					    db	  0
seg000:FA03 00					    db	  0
seg000:FA04 00					    db	  0
seg000:FA05 00					    db	  0
seg000:FA06 00					    db	  0
seg000:FA07 00					    db	  0
seg000:FA08 00					    db	  0
seg000:FA09 00					    db	  0
seg000:FA0A 00					    db	  0
seg000:FA0B 00					    db	  0
seg000:FA0C 00					    db	  0
seg000:FA0D 00					    db	  0
seg000:FA0E 00					    db	  0
seg000:FA0F 00					    db	  0
seg000:FA10 00					    db	  0
seg000:FA11 00					    db	  0
seg000:FA12 00					    db	  0
seg000:FA13 00					    db	  0
seg000:FA14 00					    db	  0
seg000:FA15 00					    db	  0
seg000:FA16 00					    db	  0
seg000:FA17 00					    db	  0
seg000:FA18 00					    db	  0
seg000:FA19 00					    db	  0
seg000:FA1A 00					    db	  0
seg000:FA1B 00					    db	  0
seg000:FA1C 00					    db	  0
seg000:FA1D 00					    db	  0
seg000:FA1E 00					    db	  0
seg000:FA1F 00					    db	  0
seg000:FA20 00					    db	  0
seg000:FA21 00					    db	  0
seg000:FA22 00					    db	  0
seg000:FA23 00					    db	  0
seg000:FA24 00					    db	  0
seg000:FA25 00					    db	  0
seg000:FA26 00					    db	  0
seg000:FA27 00					    db	  0
seg000:FA28 00					    db	  0
seg000:FA29 00					    db	  0
seg000:FA2A 00					    db	  0
seg000:FA2B 00					    db	  0
seg000:FA2C 00					    db	  0
seg000:FA2D 00					    db	  0
seg000:FA2E 00					    db	  0
seg000:FA2F 00					    db	  0
seg000:FA30 00					    db	  0
seg000:FA31 00					    db	  0
seg000:FA32 00					    db	  0
seg000:FA33 00					    db	  0
seg000:FA34 00					    db	  0
seg000:FA35 00					    db	  0
seg000:FA36 00					    db	  0
seg000:FA37 00					    db	  0
seg000:FA38 00					    db	  0
seg000:FA39 00					    db	  0
seg000:FA3A 00					    db	  0
seg000:FA3B 00					    db	  0
seg000:FA3C 00					    db	  0
seg000:FA3D 00					    db	  0
seg000:FA3E 00					    db	  0
seg000:FA3F 00					    db	  0
seg000:FA40 00					    db	  0
seg000:FA41 00					    db	  0
seg000:FA42 00					    db	  0
seg000:FA43 00					    db	  0
seg000:FA44 00					    db	  0
seg000:FA45 00					    db	  0
seg000:FA46 00					    db	  0
seg000:FA47 00					    db	  0
seg000:FA48 00					    db	  0
seg000:FA49 00					    db	  0
seg000:FA4A 00					    db	  0
seg000:FA4B 00					    db	  0
seg000:FA4C 00					    db	  0
seg000:FA4D 00					    db	  0
seg000:FA4E 00					    db	  0
seg000:FA4F 00					    db	  0
seg000:FA50 00					    db	  0
seg000:FA51 00					    db	  0
seg000:FA52 00					    db	  0
seg000:FA53 00					    db	  0
seg000:FA54 00					    db	  0
seg000:FA55 00					    db	  0
seg000:FA56 00					    db	  0
seg000:FA57 00					    db	  0
seg000:FA58 00					    db	  0
seg000:FA59 00					    db	  0
seg000:FA5A 00					    db	  0
seg000:FA5B 00					    db	  0
seg000:FA5C 00					    db	  0
seg000:FA5D 00					    db	  0
seg000:FA5E 00					    db	  0
seg000:FA5F 00					    db	  0
seg000:FA60 00					    db	  0
seg000:FA61 00					    db	  0
seg000:FA62 00					    db	  0
seg000:FA63 00					    db	  0
seg000:FA64 00					    db	  0
seg000:FA65 00					    db	  0
seg000:FA66 00					    db	  0
seg000:FA67 00					    db	  0
seg000:FA68 00					    db	  0
seg000:FA69 00					    db	  0
seg000:FA6A 00					    db	  0
seg000:FA6B 00					    db	  0
seg000:FA6C 00					    db	  0
seg000:FA6D 00					    db	  0
seg000:FA6E 00 00 00 00	00 00 00 00+int_44_charset_0_127 db 8 dup(0), 7Eh, 81h,	0A5h, 81h, 0BDh, 99h, 81h, 2 dup(7Eh)
seg000:FA6E 7E 81 A5 81	BD 99 81 7E+					    ; DATA XREF: seg000:tbl_int_44o
seg000:FA6E 7E FF DB FF	C3 E7 FF 7E+		    db 0FFh, 0DBh, 0FFh, 0C3h, 0E7h, 0FFh, 7Eh,	36h, 3 dup(7Fh)
seg000:FA6E 36 7F 7F 7F	3E 1C 08 00+		    db 3Eh, 1Ch, 8, 0, 8, 1Ch, 3Eh, 7Fh, 3Eh, 1Ch, 8, 0, 1Ch
seg000:FA6E 08 1C 3E 7F	3E 1C 08 00+		    db 3Eh, 1Ch, 2 dup(7Fh), 3Eh, 1Ch, 3Eh, 2 dup(8), 1Ch
seg000:FA6E 1C 3E 1C 7F	7F 3E 1C 3E+		    db 3Eh, 7Fh, 3Eh, 1Ch, 3Eh,	2 dup(0), 18h, 2 dup(3Ch)
seg000:FA6E 08 08 1C 3E	7F 3E 1C 3E+		    db 18h, 2 dup(0), 2	dup(0FFh), 0E7h, 2 dup(0C3h), 0E7h
seg000:FA6E 00 00 18 3C	3C 18 00 00+		    db 2 dup(0FFh), 0, 3Ch, 66h, 2 dup(42h), 66h, 3Ch, 0, 0FFh
seg000:FA6E FF FF E7 C3	C3 E7 FF FF+		    db 0C3h, 99h, 2 dup(0BDh), 99h, 0C3h, 0FFh,	0Fh, 7,	0Fh
seg000:FA6E 00 3C 66 42	42 66 3C 00+		    db 7Dh, 3 dup(0CCh), 78h, 3Ch, 3 dup(66h), 3Ch, 18h, 7Eh
seg000:FA6E FF C3 99 BD	BD 99 C3 FF+		    db 18h, 30h, 3Ch, 33h, 2 dup(31h), 2 dup(70h), 0, 60h
seg000:FA6E 0F 07 0F 7D	CC CC CC 78+		    db 78h, 66h, 73h, 6Fh, 0E3h, 0E7h, 7, 99h, 5Ah, 3Ch, 2 dup(0E7h)
seg000:FA6E 3C 66 66 66	3C 18 7E 18+		    db 3Ch, 5Ah, 99h, 40h, 70h,	7Ch, 7Fh, 7Ch, 70h, 40h, 0
seg000:FA6E 30 3C 33 31	31 70 70 00+		    db 1, 7, 1Fh, 7Fh, 1Fh, 7, 1, 0, 18h, 3Ch, 7Eh, 2 dup(18h)
seg000:FA6E 60 78 66 73	6F E3 E7 07+		    db 7Eh, 3Ch, 18h, 5	dup(66h), 0, 66h, 0, 7Fh, 2 dup(0DBh)
seg000:FA6E 99 5A 3C E7	E7 3C 5A 99+		    db 7Bh, 3 dup(1Bh),	0, 3Fh,	60h, 3Eh, 63h, 3Eh, 3, 7Eh
seg000:FA6E 40 70 7C 7F	7C 70 40 00+		    db 5 dup(0), 3 dup(7Eh), 0,	18h, 3Ch, 7Eh, 18h, 7Eh, 3Ch
seg000:FA6E 01 07 1F 7F	1F 07 01 00+		    db 18h, 0FFh, 18h, 3Ch, 7Eh, 4 dup(18h), 0,	4 dup(18h)
seg000:FA6E 18 3C 7E 18	18 7E 3C 18+		    db 7Eh, 3Ch, 18h, 2	dup(0),	0Ch, 6,	7Fh, 6,	0Ch, 3 dup(0)
seg000:FA6E 66 66 66 66	66 00 66 00+		    db 18h, 30h, 7Fh, 30h, 18h,	4 dup(0), 3 dup(60h), 7Fh
seg000:FA6E 7F DB DB 7B	1B 1B 1B 00+		    db 3 dup(0), 24h, 66h, 0FFh, 66h, 24h, 3 dup(0), 18h, 3Ch
seg000:FA6E 3F 60 3E 63	3E 03 7E 00+		    db 7Eh, 2 dup(0FFh), 3 dup(0), 2 dup(0FFh),	7Eh, 3Ch, 18h
seg000:FA6E 00 00 00 00	7E 7E 7E 00+		    db 0Ah dup(0), 18h,	2 dup(3Ch), 2 dup(18h),	0, 18h,	0
seg000:FA6E 18 3C 7E 18	7E 3C 18 FF+		    db 3 dup(36h), 5 dup(0), 2 dup(36h), 7Fh, 36h, 7Fh,	2 dup(36h)
seg000:FA6E 18 3C 7E 18	18 18 18 00+		    db 0, 18h, 3Eh, 60h, 3Ch, 6, 7Ch, 18h, 2 dup(0), 63h, 66h
seg000:FA6E 18 18 18 18	7E 3C 18 00+		    db 0Ch, 18h, 33h, 63h, 0, 1Ch, 36h,	1Ch, 3Bh, 6Eh, 66h
seg000:FA6E 00 0C 06 7F	06 0C 00 00+		    db 3Bh, 0, 2 dup(18h), 30h,	5 dup(0), 0Ch, 18h, 3 dup(30h)
seg000:FA6E 00 18 30 7F	30 18 00 00+		    db 18h, 0Ch, 0, 30h, 18h, 3	dup(0Ch), 18h, 30h, 2 dup(0)
seg000:FA6E 00 00 60 60	60 7F 00 00+		    db 66h, 3Ch, 0FFh, 3Ch, 66h, 3 dup(0), 2 dup(18h), 7Eh
seg000:FA6E 00 24 66 FF	66 24 00 00+		    db 2 dup(18h), 7 dup(0), 2 dup(18h), 30h, 3	dup(0),	7Eh
seg000:FA6E 00 18 3C 7E	FF FF 00 00+		    db 9 dup(0), 2 dup(18h), 0,	3, 6, 0Ch, 18h,	30h, 60h, 0C0h
seg000:FA6E 00 FF FF 7E	3C 18 00 00+		    db 0, 3Eh, 63h, 67h, 6Fh, 7Bh, 73h,	3Eh, 0,	18h, 38h, 4 dup(18h)
seg000:FA6E 00 00 00 00	00 00 00 00+		    db 7Eh, 0, 3Ch, 66h, 6, 1Ch, 30h, 66h, 7Eh,	0, 3Ch,	66h
seg000:FA6E 18 3C 3C 18	18 00 18 00+		    db 6, 1Ch, 6, 66h, 3Ch, 0, 0Eh, 1Eh, 36h, 66h, 7Fh,	6
seg000:FA6E 36 36 36 00	00 00 00 00+		    db 0Fh, 0, 7Eh, 60h, 7Ch, 2	dup(6),	66h, 3Ch, 0, 1Ch, 30h
seg000:FA6E 36 36 7F 36	7F 36 36 00+		    db 60h, 7Ch, 2 dup(66h), 3Ch, 0, 7Eh, 66h, 6, 0Ch, 3 dup(18h)
seg000:FA6E 18 3E 60 3C	06 7C 18 00+		    db 0, 3Ch, 2 dup(66h), 3Ch,	2 dup(66h), 3Ch, 0, 3Ch, 2 dup(66h)
seg000:FA6E 00 63 66 0C	18 33 63 00+		    db 3Eh, 6, 0Ch, 38h, 2 dup(0), 2 dup(18h), 2 dup(0), 2 dup(18h)
seg000:FA6E 1C 36 1C 3B	6E 66 3B 00+		    db 2 dup(0), 2 dup(18h), 2 dup(0), 2 dup(18h), 30h,	6
seg000:FA6E 18 18 30 00	00 00 00 00+		    db 0Ch, 18h, 30h, 18h, 0Ch,	6, 3 dup(0), 7Eh, 0, 7Eh, 3 dup(0)
seg000:FA6E 0C 18 30 30	30 18 0C 00+		    db 30h, 18h, 0Ch, 6, 0Ch, 18h, 30h,	0, 3Ch,	66h, 6,	0Ch
seg000:FA6E 30 18 0C 0C	0C 18 30 00+		    db 18h, 0, 18h, 0, 3Eh, 63h, 3 dup(6Fh), 60h, 3Ch, 0, 1Ch
seg000:FA6E 00 66 3C FF	3C 66 00 00+		    db 36h, 2 dup(63h),	7Fh, 2 dup(63h), 0, 7Eh, 2 dup(33h)
seg000:FA6E 00 18 18 7E	18 18 00 00+		    db 3Eh, 2 dup(33h),	7Eh, 0,	1Eh, 33h, 3 dup(60h), 33h
seg000:FA6E 00 00 00 00	00 18 18 30+		    db 1Eh, 0, 7Ch, 36h, 3 dup(33h), 36h, 7Ch, 0, 7Fh, 31h
seg000:FA6E 00 00 00 7E	00 00 00 00+		    db 34h, 3Ch, 34h, 31h, 7Fh,	0, 7Fh,	31h, 34h, 3Ch, 34h
seg000:FA6E 00 00 00 00	00 18 18 00+		    db 30h, 78h, 0, 1Eh, 33h, 2	dup(60h), 67h, 33h, 1Fh, 0
seg000:FA6E 03 06 0C 18	30 60 C0 00+		    db 3 dup(66h), 7Eh,	3 dup(66h), 0, 3Ch, 5 dup(18h),	3Ch
seg000:FA6E 3E 63 67 6F	7B 73 3E 00+		    db 0, 0Fh, 3 dup(6), 2 dup(66h), 3Ch, 0, 73h, 33h, 36h
seg000:FA6E 18 38 18 18	18 18 7E 00+		    db 3Ch, 36h, 33h, 73h, 0, 78h, 3 dup(30h), 31h, 33h, 7Fh
seg000:FA6E 3C 66 06 1C	30 66 7E 00+		    db 0, 63h, 77h, 2 dup(7Fh),	6Bh, 2 dup(63h), 0, 63h, 73h
seg000:FA6E 3C 66 06 1C	06 66 3C 00+		    db 7Bh, 6Fh, 67h, 2	dup(63h), 0, 3Eh, 5 dup(63h), 3Eh
seg000:FA6E 0E 1E 36 66	7F 06 0F 00+		    db 0, 7Eh, 2 dup(33h), 3Eh,	2 dup(30h), 78h, 0, 3Eh, 4 dup(63h)
seg000:FA6E 7E 60 7C 06	06 66 3C 00+		    db 6Fh, 3Eh, 3, 7Eh, 2 dup(33h), 3Eh, 36h, 33h, 73h, 0
seg000:FA6E 1C 30 60 7C	66 66 3C 00+		    db 3Ch, 66h, 70h, 38h, 0Eh,	66h, 3Ch, 0, 7Eh, 5Ah, 4 dup(18h)
seg000:FA6E 7E 66 06 0C	18 18 18 00+		    db 3Ch, 0, 6 dup(63h), 3Eh,	0, 5 dup(66h), 3Ch, 18h, 0
seg000:FA6E 3C 66 66 3C	66 66 3C 00+		    db 3 dup(63h), 6Bh,	7Fh, 77h, 63h, 0, 2 dup(63h), 36h
seg000:FA6E 3C 66 66 3E	06 0C 38 00+		    db 2 dup(1Ch), 36h,	63h, 0,	3 dup(66h), 3Ch, 2 dup(18h)
seg000:FA6E 00 18 18 00	00 18 18 00+		    db 3Ch, 0, 7Fh, 63h, 46h, 0Ch, 19h,	33h, 7Fh, 0, 3Ch, 5 dup(30h)
seg000:FA6E 00 18 18 00	00 18 18 30+		    db 3Ch, 0, 60h, 30h, 18h, 0Ch, 6, 3, 1, 0, 3Ch, 5 dup(0Ch)
seg000:FA6E 06 0C 18 30	18 0C 06 00+		    db 3Ch, 0, 8, 1Ch, 36h, 0Ch	dup(0),	0FFh, 2	dup(18h), 0Ch
seg000:FA6E 00 00 7E 00	7E 00 00 00+		    db 7 dup(0), 3Ch, 6, 3Eh, 66h, 3Bh,	0, 70h,	30h, 3Eh, 3 dup(33h)
seg000:FA6E 30 18 0C 06	0C 18 30 00+		    db 6Eh, 3 dup(0), 3Ch, 66h,	60h, 66h, 3Ch, 0, 0Eh, 6, 3Eh
seg000:FA6E 3C 66 06 0C	18 00 18 00+		    db 3 dup(66h), 3Bh,	3 dup(0), 3Ch, 66h, 7Eh, 60h, 3Ch
seg000:FA6E 3E 63 6F 6F	6F 60 3C 00+		    db 0, 1Ch, 36h, 30h, 78h, 2	dup(30h), 78h, 3 dup(0), 3Bh
seg000:FA6E 1C 36 63 63	7F 63 63 00+		    db 2 dup(66h), 3Eh,	6, 7Ch,	70h, 30h, 36h, 3Bh, 2 dup(33h)
seg000:FA6E 7E 33 33 3E	33 33 7E 00+		    db 73h, 0, 18h, 0, 38h, 3 dup(18h),	3Ch, 0,	6, 0, 0Eh
seg000:FA6E 1E 33 60 60	60 33 1E 00+		    db 2 dup(6), 2 dup(66h), 3Ch, 70h, 30h, 33h, 36h, 3Ch
seg000:FA6E 7C 36 33 33	33 36 7C 00+		    db 36h, 73h, 0, 38h, 5 dup(18h), 3Ch, 3 dup(0), 0E6h, 2 dup(7Fh)
seg000:FA6E 7F 31 34 3C	34 31 7F 00+		    db 6Bh, 63h, 3 dup(0), 6Eh,	4 dup(33h), 3 dup(0), 3Ch
seg000:FA6E 7F 31 34 3C	34 30 78 00+		    db 3 dup(66h), 3Ch,	3 dup(0), 6Eh, 2 dup(33h), 3Eh,	30h
seg000:FA6E 1E 33 60 60	67 33 1F 00+		    db 78h, 2 dup(0), 3Bh, 2 dup(66h), 3Eh, 6, 0Fh, 2 dup(0)
seg000:FA6E 66 66 66 7E	66 66 66 00+		    db 6Eh, 3Bh, 33h, 30h, 78h,	3 dup(0), 3Eh, 60h, 3Ch, 6
seg000:FA6E 3C 18 18 18	18 18 3C 00+		    db 7Ch, 0, 10h, 30h, 7Ch, 2	dup(30h), 36h, 1Ch, 3 dup(0)
seg000:FA6E 0F 06 06 06	66 66 3C 00+		    db 4 dup(66h), 3Bh,	3 dup(0), 3 dup(66h), 3Ch, 18h,	3 dup(0)
seg000:FA6E 73 33 36 3C	36 33 73 00+		    db 63h, 6Bh, 2 dup(7Fh), 36h, 3 dup(0), 63h, 36h, 1Ch
seg000:FA6E 78 30 30 30	31 33 7F 00+		    db 36h, 63h, 3 dup(0), 3 dup(66h), 3Eh, 6, 7Ch, 2 dup(0)
seg000:FA6E 63 77 7F 7F	6B 63 63 00+		    db 7Eh, 4Ch, 18h, 32h, 7Eh,	0, 0Eh,	2 dup(18h), 70h, 2 dup(18h)
seg000:FA6E 63 73 7B 6F	67 63 63 00+		    db 0Eh, 0, 3 dup(18h), 0, 3	dup(18h), 0, 70h, 2 dup(18h)
seg000:FA6E 3E 63 63 63	63 63 3E 00+		    db 0Eh, 2 dup(18h),	70h, 0,	3Bh, 6Eh, 7 dup(0), 8, 1Ch
seg000:FA6E 7E 33 33 3E	30 30 78 00+		    db 36h, 2 dup(63h),	7Fh, 0
seg000:FE6E DE					    db 0DEh ; Ş
seg000:FE6F AD					    db 0ADh ; ­
seg000:FE70 DE					    db 0DEh ; Ş
seg000:FE71 AD					    db 0ADh ; ­
seg000:FE72 DE					    db 0DEh ; Ş
seg000:FE73 AD					    db 0ADh ; ­
seg000:FE74 DE					    db 0DEh ; Ş
seg000:FE75 AD					    db 0ADh ; ­
seg000:FE76 DE					    db 0DEh ; Ş
seg000:FE77 AD					    db 0ADh ; ­
seg000:FE78 DE					    db 0DEh ; Ş
seg000:FE79 AD					    db 0ADh ; ­
seg000:FE7A DE					    db 0DEh ; Ş
seg000:FE7B AD					    db 0ADh ; ­
seg000:FE7C DE					    db 0DEh ; Ş
seg000:FE7D AD					    db 0ADh ; ­
seg000:FE7E DE					    db 0DEh ; Ş
seg000:FE7F AD					    db 0ADh ; ­
seg000:FE80 DE					    db 0DEh ; Ş
seg000:FE81 AD					    db 0ADh ; ­
seg000:FE82 DE					    db 0DEh ; Ş
seg000:FE83 AD					    db 0ADh ; ­
seg000:FE84 DE					    db 0DEh ; Ş
seg000:FE85 AD					    db 0ADh ; ­
seg000:FE86 DE					    db 0DEh ; Ş
seg000:FE87 AD					    db 0ADh ; ­
seg000:FE88 DE					    db 0DEh ; Ş
seg000:FE89 AD					    db 0ADh ; ­
seg000:FE8A DE					    db 0DEh ; Ş
seg000:FE8B AD					    db 0ADh ; ­
seg000:FE8C DE					    db 0DEh ; Ş
seg000:FE8D AD					    db 0ADh ; ­
seg000:FE8E DE					    db 0DEh ; Ş
seg000:FE8F AD					    db 0ADh ; ­
seg000:FE90 DE					    db 0DEh ; Ş
seg000:FE91 AD					    db 0ADh ; ­
seg000:FE92 DE					    db 0DEh ; Ş
seg000:FE93 AD					    db 0ADh ; ­
seg000:FE94 DE					    db 0DEh ; Ş
seg000:FE95 AD					    db 0ADh ; ­
seg000:FE96 DE					    db 0DEh ; Ş
seg000:FE97 AD					    db 0ADh ; ­
seg000:FE98 DE					    db 0DEh ; Ş
seg000:FE99 AD					    db 0ADh ; ­
seg000:FE9A DE					    db 0DEh ; Ş
seg000:FE9B AD					    db 0ADh ; ­
seg000:FE9C DE					    db 0DEh ; Ş
seg000:FE9D AD					    db 0ADh ; ­
seg000:FE9E DE					    db 0DEh ; Ş
seg000:FE9F AD					    db 0ADh ; ­
seg000:FEA0 DE					    db 0DEh ; Ş
seg000:FEA1 AD					    db 0ADh ; ­
seg000:FEA2 DE					    db 0DEh ; Ş
seg000:FEA3 AD					    db 0ADh ; ­
seg000:FEA4 DE					    db 0DEh ; Ş
seg000:FEA5 AD					    db 0ADh ; ­
seg000:FEA6 DE					    db 0DEh ; Ş
seg000:FEA7 AD					    db 0ADh ; ­
seg000:FEA8 DE					    db 0DEh ; Ş
seg000:FEA9 AD					    db 0ADh ; ­
seg000:FEAA DE					    db 0DEh ; Ş
seg000:FEAB AD					    db 0ADh ; ­
seg000:FEAC DE					    db 0DEh ; Ş
seg000:FEAD AD					    db 0ADh ; ­
seg000:FEAE DE					    db 0DEh ; Ş
seg000:FEAF AD					    db 0ADh ; ­
seg000:FEB0 DE					    db 0DEh ; Ş
seg000:FEB1 AD					    db 0ADh ; ­
seg000:FEB2 DE					    db 0DEh ; Ş
seg000:FEB3 AD					    db 0ADh ; ­
seg000:FEB4 DE					    db 0DEh ; Ş
seg000:FEB5 AD					    db 0ADh ; ­
seg000:FEB6 DE					    db 0DEh ; Ş
seg000:FEB7 AD					    db 0ADh ; ­
seg000:FEB8 DE					    db 0DEh ; Ş
seg000:FEB9 AD					    db 0ADh ; ­
seg000:FEBA DE					    db 0DEh ; Ş
seg000:FEBB AD					    db 0ADh ; ­
seg000:FEBC DE					    db 0DEh ; Ş
seg000:FEBD AD					    db 0ADh ; ­
seg000:FEBE DE					    db 0DEh ; Ş
seg000:FEBF AD					    db 0ADh ; ­
seg000:FEC0 DE					    db 0DEh ; Ş
seg000:FEC1 AD					    db 0ADh ; ­
seg000:FEC2 DE					    db 0DEh ; Ş
seg000:FEC3 AD					    db 0ADh ; ­
seg000:FEC4 DE					    db 0DEh ; Ş
seg000:FEC5 AD					    db 0ADh ; ­
seg000:FEC6 DE					    db 0DEh ; Ş
seg000:FEC7 AD					    db 0ADh ; ­
seg000:FEC8 DE					    db 0DEh ; Ş
seg000:FEC9 AD					    db 0ADh ; ­
seg000:FECA DE					    db 0DEh ; Ş
seg000:FECB AD					    db 0ADh ; ­
seg000:FECC DE					    db 0DEh ; Ş
seg000:FECD AD					    db 0ADh ; ­
seg000:FECE DE					    db 0DEh ; Ş
seg000:FECF AD					    db 0ADh ; ­
seg000:FED0 DE					    db 0DEh ; Ş
seg000:FED1 AD					    db 0ADh ; ­
seg000:FED2 DE					    db 0DEh ; Ş
seg000:FED3 AD					    db 0ADh ; ­
seg000:FED4 DE					    db 0DEh ; Ş
seg000:FED5 AD					    db 0ADh ; ­
seg000:FED6 DE					    db 0DEh ; Ş
seg000:FED7 AD					    db 0ADh ; ­
seg000:FED8 DE					    db 0DEh ; Ş
seg000:FED9 AD					    db 0ADh ; ­
seg000:FEDA DE					    db 0DEh ; Ş
seg000:FEDB AD					    db 0ADh ; ­
seg000:FEDC DE					    db 0DEh ; Ş
seg000:FEDD AD					    db 0ADh ; ­
seg000:FEDE DE					    db 0DEh ; Ş
seg000:FEDF AD					    db 0ADh ; ­
seg000:FEE0 DE					    db 0DEh ; Ş
seg000:FEE1 AD					    db 0ADh ; ­
seg000:FEE2 DE					    db 0DEh ; Ş
seg000:FEE3 AD					    db 0ADh ; ­
seg000:FEE4 DE					    db 0DEh ; Ş
seg000:FEE5 AD					    db 0ADh ; ­
seg000:FEE6 DE					    db 0DEh ; Ş
seg000:FEE7 AD					    db 0ADh ; ­
seg000:FEE8 DE					    db 0DEh ; Ş
seg000:FEE9 AD					    db 0ADh ; ­
seg000:FEEA DE					    db 0DEh ; Ş
seg000:FEEB AD					    db 0ADh ; ­
seg000:FEEC DE					    db 0DEh ; Ş
seg000:FEED AD					    db 0ADh ; ­
seg000:FEEE DE					    db 0DEh ; Ş
seg000:FEEF AD					    db 0ADh ; ­
seg000:FEF0 DE					    db 0DEh ; Ş
seg000:FEF1 AD					    db 0ADh ; ­
seg000:FEF2 FF					    db 0FFh
seg000:FEF3 E3 DB		    tbl_ints_8_32   dw offset int_08	    ; DATA XREF: seg000:E0E2o
seg000:FEF5 87 E9				    dw offset int_09
seg000:FEF7 A7 E3				    dw offset int_ack_handler
seg000:FEF9 A7 E3				    dw offset int_ack_handler
seg000:FEFB A7 E3				    dw offset int_ack_handler
seg000:FEFD A7 E3				    dw offset int_ack_handler
seg000:FEFF EC D0				    dw offset int_0e	    ; int e
seg000:FF01 A7 E3				    dw offset int_ack_handler
seg000:FF03 65 F0				    dw offset int_10	    ; int 0x10
seg000:FF05 1E D9				    dw offset int_11
seg000:FF07 2E D9				    dw offset int_12
seg000:FF09 59 CC				    dw offset int_13
seg000:FF0B 39 E7				    dw offset int_14
seg000:FF0D A1 E3				    dw offset int_15
seg000:FF0F 2E E8				    dw offset int_16
seg000:FF11 D2 EF				    dw offset int_17
seg000:FF13 44 E3				    dw offset int_18
seg000:FF15 F2 E6				    dw offset int_19
seg000:FF17 96 DB				    dw offset int_1a
seg000:FF19 53 FF				    dw offset nullsub_1
seg000:FF1B 53 FF				    dw offset nullsub_1
seg000:FF1D 00 E0				    dw offset int_1d	    ; int 0x1d:	video init param
seg000:FF1F C7 EF				    dw offset int_1e	    ; int_1e
seg000:FF21 70 C0				    dw offset int_1f_charset_128_255 ; int 0x1f: charset 128-255
seg000:FF23 53 FF		    tbl_ints_0_7    dw offset nullsub_1	    ; DATA XREF: seg000:E0D7o
seg000:FF23								    ; int 0
seg000:FF25 53 FF				    dw offset nullsub_1	    ; int 1
seg000:FF27 53 FF				    dw offset nullsub_1	    ; int 2
seg000:FF29 53 FF				    dw offset nullsub_1	    ; int 3
seg000:FF2B 53 FF				    dw offset nullsub_1	    ; int 4
seg000:FF2D 54 FF				    dw offset int_05	    ; int 5
seg000:FF2F 53 FF				    dw offset nullsub_1	    ; int 6
seg000:FF31 53 FF				    dw offset nullsub_1	    ; int 7
seg000:FF33 6E FA		    tbl_int_44	    dw offset int_44_charset_0_127
seg000:FF33								    ; DATA XREF: seg000:E0EEo
seg000:FF33								    ; int 0x44
seg000:FF35 40 00		    value_0040	    dw 40h		    ; DATA XREF: int_1a+1r
seg000:FF35								    ; int_08+5r
seg000:FF37 00 00 00 00	00 00 00 00+		    db 1Ch dup(0)
seg000:FF53
seg000:FF53			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:FF53
seg000:FF53
seg000:FF53			    nullsub_1	    proc far		    ; DATA XREF: seg000:FF19o
seg000:FF53								    ; seg000:FF1Bo
seg000:FF53								    ; seg000:tbl_ints_0_7o
seg000:FF53								    ; seg000:FF25o
seg000:FF53								    ; seg000:FF27o
seg000:FF53								    ; seg000:FF29o ...
seg000:FF53 CF					    iret
seg000:FF53			    nullsub_1	    endp
seg000:FF53
seg000:FF54
seg000:FF54			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:FF54
seg000:FF54
seg000:FF54			    int_05	    proc far		    ; DATA XREF: seg000:FF2Do
seg000:FF54 50					    push    ax
seg000:FF55 53					    push    bx
seg000:FF56 51					    push    cx
seg000:FF57 52					    push    dx
seg000:FF58 1E					    push    ds
seg000:FF59 B8 50 00				    mov	    ax,	50h ; 'P'
seg000:FF5C 8E D8				    mov	    ds,	ax
seg000:FF5E 33 DB				    xor	    bx,	bx
seg000:FF60 80 3F 01				    cmp	    byte ptr [bx], 1
seg000:FF63 74 42				    jz	    short l3
seg000:FF65 C6 07 01				    mov	    byte ptr [bx], 1
seg000:FF68 FB					    sti
seg000:FF69 B4 03				    mov	    ah,	3
seg000:FF6B CD 10				    int	    10h		    ; -	VIDEO -	READ CURSOR POSITION
seg000:FF6B								    ; BH = page	number
seg000:FF6B								    ; Return: DH,DL = row,column, CH = cursor start line, CL = cursor end line
seg000:FF6D 52					    push    dx
seg000:FF6E B4 0F				    mov	    ah,	0Fh
seg000:FF70 CD 10				    int	    10h		    ; -	VIDEO -	GET CURRENT VIDEO MODE
seg000:FF70								    ; Return: AH = number of columns on	screen
seg000:FF70								    ; AL = current video mode
seg000:FF70								    ; BH = current active display page
seg000:FF72 8A CC				    mov	    cl,	ah
seg000:FF74 E8 49 00				    call    near ptr sub_FFFC0
seg000:FF77 33 D2				    xor	    dx,	dx
seg000:FF79
seg000:FF79			    l0:					    ; CODE XREF: int_05+3Cj
seg000:FF79								    ; int_05+48j
seg000:FF79 B4 02				    mov	    ah,	2
seg000:FF7B CD 10				    int	    10h		    ; -	VIDEO -	SET CURSOR POSITION
seg000:FF7B								    ; DH,DL = row, column (0,0 = upper left)
seg000:FF7B								    ; BH = page	number
seg000:FF7D B4 08				    mov	    ah,	8
seg000:FF7F CD 10				    int	    10h		    ; -	VIDEO -	READ ATTRIBUTES/CHARACTER AT CURSOR POSITION
seg000:FF7F								    ; BH = display page
seg000:FF7F								    ; Return: AL = character
seg000:FF7F								    ; AH = attribute of	character (alpha modes)
seg000:FF81 3C 00				    cmp	    al,	0
seg000:FF83 75 02				    jnz	    short l1
seg000:FF85 B0 20				    mov	    al,	20h ; ' '
seg000:FF87
seg000:FF87			    l1:					    ; CODE XREF: int_05+2Fj
seg000:FF87 E8 23 00				    call    sub_FFFAD
seg000:FF8A 75 14				    jnz	    short loc_FFFA0
seg000:FF8C FE C2				    inc	    dl
seg000:FF8E 3A D1				    cmp	    dl,	cl
seg000:FF90 75 E7				    jnz	    short l0
seg000:FF92 E8 2B 00				    call    near ptr sub_FFFC0
seg000:FF95 32 D2				    xor	    dl,	dl
seg000:FF97 FE C6				    inc	    dh
seg000:FF99 80 FE 19				    cmp	    dh,	19h
seg000:FF9C 75 DB				    jnz	    short l0
seg000:FF9E B1 00				    mov	    cl,	0
seg000:FFA0
seg000:FFA0			    loc_FFFA0:				    ; CODE XREF: int_05+36j
seg000:FFA0								    ; sub_FFFC0+10j
seg000:FFA0 5A					    pop	    dx
seg000:FFA1 B4 02				    mov	    ah,	2
seg000:FFA3 CD 10				    int	    10h		    ; -	VIDEO -	SET CURSOR POSITION
seg000:FFA3								    ; DH,DL = row, column (0,0 = upper left)
seg000:FFA3								    ; BH = page	number
seg000:FFA5 88 0F				    mov	    [bx], cl
seg000:FFA7
seg000:FFA7			    l3:					    ; CODE XREF: int_05+Fj
seg000:FFA7 1F					    pop	    ds
seg000:FFA8 5A					    pop	    dx
seg000:FFA9 59					    pop	    cx
seg000:FFAA 5B					    pop	    bx
seg000:FFAB 58					    pop	    ax
seg000:FFAC CF					    iret
seg000:FFAC			    int_05	    endp ; sp =	 4
seg000:FFAC
seg000:FFAD
seg000:FFAD			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:FFAD
seg000:FFAD
seg000:FFAD			    sub_FFFAD	    proc near		    ; CODE XREF: int_05:l1p
seg000:FFAD								    ; sub_FFFC0+2p
seg000:FFAD								    ; sub_FFFC0+9p
seg000:FFAD 52					    push    dx
seg000:FFAE 32 E4				    xor	    ah,	ah
seg000:FFB0 33 D2				    xor	    dx,	dx
seg000:FFB2 CD 17				    int	    17h		    ; PRINTER -	OUTPUT CHARACTER
seg000:FFB2								    ; AL = character, DX = printer port	(0-3)
seg000:FFB2								    ; Return: AH = status bits
seg000:FFB4 80 E4 09				    and	    ah,	9
seg000:FFB7 80 FC 00				    cmp	    ah,	0
seg000:FFBA 74 02				    jz	    short l0
seg000:FFBC B1 FF				    mov	    cl,	0FFh
seg000:FFBE
seg000:FFBE			    l0:					    ; CODE XREF: sub_FFFAD+Dj
seg000:FFBE 5A					    pop	    dx
seg000:FFBF C3					    retn
seg000:FFBF			    sub_FFFAD	    endp
seg000:FFBF
seg000:FFC0
seg000:FFC0			    ; ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ S	U B R O	U T I N	E ÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛÛ
seg000:FFC0
seg000:FFC0
seg000:FFC0			    sub_FFFC0	    proc far		    ; CODE XREF: int_05+20p
seg000:FFC0								    ; int_05+3Ep
seg000:FFC0 B0 0D				    mov	    al,	0Dh
seg000:FFC2 E8 E8 FF				    call    sub_FFFAD
seg000:FFC5 75 08				    jnz	    short l0
seg000:FFC7 B0 0A				    mov	    al,	0Ah
seg000:FFC9 E8 E1 FF				    call    sub_FFFAD
seg000:FFCC 75 01				    jnz	    short l0
seg000:FFCE C3					    retn
seg000:FFCF			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:FFCF
seg000:FFCF			    l0:					    ; CODE XREF: sub_FFFC0+5j
seg000:FFCF								    ; sub_FFFC0+Cj
seg000:FFCF 5A					    pop	    dx
seg000:FFD0 EB CE				    jmp	    short loc_FFFA0
seg000:FFD0			    sub_FFFC0	    endp
seg000:FFD0
seg000:FFD0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:FFD2 00					    db	  0
seg000:FFD3 00					    db	  0
seg000:FFD4 00					    db	  0
seg000:FFD5 00					    db	  0
seg000:FFD6 00					    db	  0
seg000:FFD7 00					    db	  0
seg000:FFD8 00					    db	  0
seg000:FFD9 00					    db	  0
seg000:FFDA 00					    db	  0
seg000:FFDB 00					    db	  0
seg000:FFDC 00					    db	  0
seg000:FFDD 00					    db	  0
seg000:FFDE 00					    db	  0
seg000:FFDF 00					    db	  0
seg000:FFE0 00					    db	  0
seg000:FFE1 00					    db	  0
seg000:FFE2 00					    db	  0
seg000:FFE3 00					    db	  0
seg000:FFE4 00					    db	  0
seg000:FFE5 00					    db	  0
seg000:FFE6 00					    db	  0
seg000:FFE7 00					    db	  0
seg000:FFE8 00					    db	  0
seg000:FFE9 00					    db	  0
seg000:FFEA 00					    db	  0
seg000:FFEB 00					    db	  0
seg000:FFEC 00					    db	  0
seg000:FFED 00					    db	  0
seg000:FFEE 00					    db	  0
seg000:FFEF 00					    db	  0
seg000:FFF0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:FFF0
seg000:FFF0			    reset_entry:			    ; CODE XREF: seg000:ED7Aj
seg000:FFF0 EA 5B E0 00	F0			    jmp	    far	ptr reset
seg000:FFF0			    ; ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ
seg000:FFF5 31 30 2F 30	33 2F 38 34 a100384	    db '10/03/84'
seg000:FFFD FF					    db 0FFh
seg000:FFFE FF					    db 0FFh
seg000:FFFF FF					    db 0FFh
seg000:FFFF			    seg000	    ends
seg000:FFFF
seg000:FFFF
seg000:FFFF					    end
